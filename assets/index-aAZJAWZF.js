function U_(s,t){for(var a=0;a<t.length;a++){const i=t[a];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in s)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();function Jf(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function io(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var a=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var o=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(a,i,o.get?o:{enumerable:!0,get:function(){return s[i]}})}),a}var kh={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function z_(){if(py)return Ul;py=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(i,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:i,key:u,ref:o!==void 0?o:null,props:c}}return Ul.Fragment=t,Ul.jsx=a,Ul.jsxs=a,Ul}var yy;function L_(){return yy||(yy=1,kh.exports=z_()),kh.exports}var f=L_(),Ah={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function B_(){if(vy)return _e;vy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function _(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,T={};function M(D,te,re){this.props=D,this.context=te,this.refs=T,this.updater=re||E}M.prototype.isReactComponent={},M.prototype.setState=function(D,te){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,te,"setState")},M.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function V(){}V.prototype=M.prototype;function O(D,te,re){this.props=D,this.context=te,this.refs=T,this.updater=re||E}var F=O.prototype=new V;F.constructor=O,k(F,M.prototype),F.isPureReactComponent=!0;var J=Array.isArray;function ee(){}var G={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function se(D,te,re){var he=re.ref;return{$$typeof:s,type:D,key:te,ref:he!==void 0?he:null,props:re}}function le(D,te){return se(D.type,te,D.props)}function ye(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function Se(D){var te={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(re){return te[re]})}var st=/\/+/g;function Qe(D,te){return typeof D=="object"&&D!==null&&D.key!=null?Se(""+D.key):te.toString(36)}function Pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ee,ee):(D.status="pending",D.then(function(te){D.status==="pending"&&(D.status="fulfilled",D.value=te)},function(te){D.status==="pending"&&(D.status="rejected",D.reason=te)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Y(D,te,re,he,de){var ke=typeof D;(ke==="undefined"||ke==="boolean")&&(D=null);var Be=!1;if(D===null)Be=!0;else switch(ke){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(D.$$typeof){case s:case t:Be=!0;break;case y:return Be=D._init,Y(Be(D._payload),te,re,he,de)}}if(Be)return de=de(D),Be=he===""?"."+Qe(D,0):he,J(de)?(re="",Be!=null&&(re=Be.replace(st,"$&/")+"/"),Y(de,te,re,"",function(Pn){return Pn})):de!=null&&(ye(de)&&(de=le(de,re+(de.key==null||D&&D.key===de.key?"":(""+de.key).replace(st,"$&/")+"/")+Be)),te.push(de)),1;Be=0;var Ot=he===""?".":he+":";if(J(D))for(var at=0;at<D.length;at++)he=D[at],ke=Ot+Qe(he,at),Be+=Y(he,te,re,ke,de);else if(at=_(D),typeof at=="function")for(D=at.call(D),at=0;!(he=D.next()).done;)he=he.value,ke=Ot+Qe(he,at++),Be+=Y(he,te,re,ke,de);else if(ke==="object"){if(typeof D.then=="function")return Y(Pe(D),te,re,he,de);throw te=String(D),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Be}function K(D,te,re){if(D==null)return D;var he=[],de=0;return Y(D,he,"","",function(ke){return te.call(re,ke,de++)}),he}function ue(D){if(D._status===-1){var te=D._result;te=te(),te.then(function(re){(D._status===0||D._status===-1)&&(D._status=1,D._result=re)},function(re){(D._status===0||D._status===-1)&&(D._status=2,D._result=re)}),D._status===-1&&(D._status=0,D._result=te)}if(D._status===1)return D._result.default;throw D._result}var Ae=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ce={map:K,forEach:function(D,te,re){K(D,function(){te.apply(this,arguments)},re)},count:function(D){var te=0;return K(D,function(){te++}),te},toArray:function(D){return K(D,function(te){return te})||[]},only:function(D){if(!ye(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return _e.Activity=b,_e.Children=Ce,_e.Component=M,_e.Fragment=a,_e.Profiler=o,_e.PureComponent=O,_e.StrictMode=i,_e.Suspense=g,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,_e.__COMPILER_RUNTIME={__proto__:null,c:function(D){return G.H.useMemoCache(D)}},_e.cache=function(D){return function(){return D.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(D,te,re){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var he=k({},D.props),de=D.key;if(te!=null)for(ke in te.key!==void 0&&(de=""+te.key),te)!Z.call(te,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&te.ref===void 0||(he[ke]=te[ke]);var ke=arguments.length-2;if(ke===1)he.children=re;else if(1<ke){for(var Be=Array(ke),Ot=0;Ot<ke;Ot++)Be[Ot]=arguments[Ot+2];he.children=Be}return se(D.type,de,he)},_e.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},_e.createElement=function(D,te,re){var he,de={},ke=null;if(te!=null)for(he in te.key!==void 0&&(ke=""+te.key),te)Z.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(de[he]=te[he]);var Be=arguments.length-2;if(Be===1)de.children=re;else if(1<Be){for(var Ot=Array(Be),at=0;at<Be;at++)Ot[at]=arguments[at+2];de.children=Ot}if(D&&D.defaultProps)for(he in Be=D.defaultProps,Be)de[he]===void 0&&(de[he]=Be[he]);return se(D,ke,de)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(D){return{$$typeof:m,render:D}},_e.isValidElement=ye,_e.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:ue}},_e.memo=function(D,te){return{$$typeof:p,type:D,compare:te===void 0?null:te}},_e.startTransition=function(D){var te=G.T,re={};G.T=re;try{var he=D(),de=G.S;de!==null&&de(re,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ee,Ae)}catch(ke){Ae(ke)}finally{te!==null&&re.types!==null&&(te.types=re.types),G.T=te}},_e.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},_e.use=function(D){return G.H.use(D)},_e.useActionState=function(D,te,re){return G.H.useActionState(D,te,re)},_e.useCallback=function(D,te){return G.H.useCallback(D,te)},_e.useContext=function(D){return G.H.useContext(D)},_e.useDebugValue=function(){},_e.useDeferredValue=function(D,te){return G.H.useDeferredValue(D,te)},_e.useEffect=function(D,te){return G.H.useEffect(D,te)},_e.useEffectEvent=function(D){return G.H.useEffectEvent(D)},_e.useId=function(){return G.H.useId()},_e.useImperativeHandle=function(D,te,re){return G.H.useImperativeHandle(D,te,re)},_e.useInsertionEffect=function(D,te){return G.H.useInsertionEffect(D,te)},_e.useLayoutEffect=function(D,te){return G.H.useLayoutEffect(D,te)},_e.useMemo=function(D,te){return G.H.useMemo(D,te)},_e.useOptimistic=function(D,te){return G.H.useOptimistic(D,te)},_e.useReducer=function(D,te,re){return G.H.useReducer(D,te,re)},_e.useRef=function(D){return G.H.useRef(D)},_e.useState=function(D){return G.H.useState(D)},_e.useSyncExternalStore=function(D,te,re){return G.H.useSyncExternalStore(D,te,re)},_e.useTransition=function(){return G.H.useTransition()},_e.version="19.2.3",_e}var by;function Zf(){return by||(by=1,Ah.exports=B_()),Ah.exports}var L=Zf();const Qf=Jf(L);var Ch={exports:{}},zl={},Nh={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function V_(){return xy||(xy=1,(function(s){function t(Y,K){var ue=Y.length;Y.push(K);e:for(;0<ue;){var Ae=ue-1>>>1,Ce=Y[Ae];if(0<o(Ce,K))Y[Ae]=K,Y[ue]=Ce,ue=Ae;else break e}}function a(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var K=Y[0],ue=Y.pop();if(ue!==K){Y[0]=ue;e:for(var Ae=0,Ce=Y.length,D=Ce>>>1;Ae<D;){var te=2*(Ae+1)-1,re=Y[te],he=te+1,de=Y[he];if(0>o(re,ue))he<Ce&&0>o(de,re)?(Y[Ae]=de,Y[he]=ue,Ae=he):(Y[Ae]=re,Y[te]=ue,Ae=te);else if(he<Ce&&0>o(de,ue))Y[Ae]=de,Y[he]=ue,Ae=he;else break e}}return K}function o(Y,K){var ue=Y.sortIndex-K.sortIndex;return ue!==0?ue:Y.id-K.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();s.unstable_now=function(){return u.now()-m}}var g=[],p=[],y=1,b=null,w=3,_=!1,E=!1,k=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function F(Y){for(var K=a(p);K!==null;){if(K.callback===null)i(p);else if(K.startTime<=Y)i(p),K.sortIndex=K.expirationTime,t(g,K);else break;K=a(p)}}function J(Y){if(k=!1,F(Y),!E)if(a(g)!==null)E=!0,ee||(ee=!0,Se());else{var K=a(p);K!==null&&Pe(J,K.startTime-Y)}}var ee=!1,G=-1,Z=5,se=-1;function le(){return T?!0:!(s.unstable_now()-se<Z)}function ye(){if(T=!1,ee){var Y=s.unstable_now();se=Y;var K=!0;try{e:{E=!1,k&&(k=!1,V(G),G=-1),_=!0;var ue=w;try{t:{for(F(Y),b=a(g);b!==null&&!(b.expirationTime>Y&&le());){var Ae=b.callback;if(typeof Ae=="function"){b.callback=null,w=b.priorityLevel;var Ce=Ae(b.expirationTime<=Y);if(Y=s.unstable_now(),typeof Ce=="function"){b.callback=Ce,F(Y),K=!0;break t}b===a(g)&&i(g),F(Y)}else i(g);b=a(g)}if(b!==null)K=!0;else{var D=a(p);D!==null&&Pe(J,D.startTime-Y),K=!1}}break e}finally{b=null,w=ue,_=!1}K=void 0}}finally{K?Se():ee=!1}}}var Se;if(typeof O=="function")Se=function(){O(ye)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,Qe=st.port2;st.port1.onmessage=ye,Se=function(){Qe.postMessage(null)}}else Se=function(){M(ye,0)};function Pe(Y,K){G=M(function(){Y(s.unstable_now())},K)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var ue=w;w=K;try{return Y()}finally{w=ue}},s.unstable_requestPaint=function(){T=!0},s.unstable_runWithPriority=function(Y,K){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ue=w;w=Y;try{return K()}finally{w=ue}},s.unstable_scheduleCallback=function(Y,K,ue){var Ae=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ae+ue:Ae):ue=Ae,Y){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ue+Ce,Y={id:y++,callback:K,priorityLevel:Y,startTime:ue,expirationTime:Ce,sortIndex:-1},ue>Ae?(Y.sortIndex=ue,t(p,Y),a(g)===null&&Y===a(p)&&(k?(V(G),G=-1):k=!0,Pe(J,ue-Ae))):(Y.sortIndex=Ce,t(g,Y),E||_||(E=!0,ee||(ee=!0,Se()))),Y},s.unstable_shouldYield=le,s.unstable_wrapCallback=function(Y){var K=w;return function(){var ue=w;w=K;try{return Y.apply(this,arguments)}finally{w=ue}}}})(Oh)),Oh}var wy;function $_(){return wy||(wy=1,Nh.exports=V_()),Nh.exports}var Dh={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function P_(){if(Sy)return Xt;Sy=1;var s=Zf();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xt.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(g,p,null,y)},Xt.flushSync=function(g){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,g)return g()}finally{u.T=p,i.p=y,i.d.f()}},Xt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},Xt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Xt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:_}):y==="script"&&i.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},Xt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin);i.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xt.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},Xt.requestFormReset=function(g){i.d.r(g)},Xt.unstable_batchedUpdates=function(g,p){return g(p)},Xt.useFormState=function(g,p,y){return u.H.useFormState(g,p,y)},Xt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Xt.version="19.2.3",Xt}var _y;function I_(){if(_y)return Dh.exports;_y=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dh.exports=P_(),Dh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function H_(){if(Ty)return zl;Ty=1;var s=$_(),t=Zf(),a=I_();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function u(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(i(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(i(188));return n!==e?null:e}for(var r=e,l=n;;){var d=r.return;if(d===null)break;var h=d.alternate;if(h===null){if(l=d.return,l!==null){r=l;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===r)return g(d),e;if(h===l)return g(d),n;h=h.sibling}throw Error(i(188))}if(r.return!==l.return)r=d,l=h;else{for(var v=!1,S=d.child;S;){if(S===r){v=!0,r=d,l=h;break}if(S===l){v=!0,l=d,r=h;break}S=S.sibling}if(!v){for(S=h.child;S;){if(S===r){v=!0,r=h,l=d;break}if(S===l){v=!0,l=h,r=d;break}S=S.sibling}if(!v)throw Error(i(189))}}if(r.alternate!==l)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function Se(e){return e===null||typeof e!="object"?null:(e=ye&&e[ye]||e["@@iterator"],typeof e=="function"?e:null)}var st=Symbol.for("react.client.reference");function Qe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===st?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case M:return"Profiler";case T:return"StrictMode";case J:return"Suspense";case ee:return"SuspenseList";case se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case O:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case F:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return n=e.displayName||null,n!==null?n:Qe(e.type)||"Memo";case Z:n=e._payload,e=e._init;try{return Qe(e(n))}catch{}}return null}var Pe=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ae=[],Ce=-1;function D(e){return{current:e}}function te(e){0>Ce||(e.current=Ae[Ce],Ae[Ce]=null,Ce--)}function re(e,n){Ce++,Ae[Ce]=e.current,e.current=n}var he=D(null),de=D(null),ke=D(null),Be=D(null);function Ot(e,n){switch(re(ke,n),re(de,e),re(he,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Vp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Vp(n),e=$p(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(he),re(he,e)}function at(){te(he),te(de),te(ke)}function Pn(e){e.memoizedState!==null&&re(Be,e);var n=he.current,r=$p(n,e.type);n!==r&&(re(de,e),re(he,r))}function fs(e){de.current===e&&(te(he),te(de)),Be.current===e&&(te(Be),Ol._currentValue=ue)}var Ks,Tn;function In(e){if(Ks===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ks=n&&n[1]||"",Tn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+e+Tn}var Ra=!1;function _t(e,n){if(!e||Ra)return"";Ra=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(q){var H=q}Reflect.construct(e,[],W)}else{try{W.call()}catch(q){H=q}e.call(W.prototype)}}else{try{throw Error()}catch(q){H=q}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),v=h[0],S=h[1];if(v&&S){var A=v.split(`
`),P=S.split(`
`);for(d=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;d<P.length&&!P[d].includes("DetermineComponentFrameRoot");)d++;if(l===A.length||d===P.length)for(l=A.length-1,d=P.length-1;1<=l&&0<=d&&A[l]!==P[d];)d--;for(;1<=l&&0<=d;l--,d--)if(A[l]!==P[d]){if(l!==1||d!==1)do if(l--,d--,0>d||A[l]!==P[d]){var X=`
`+A[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=d);break}}}finally{Ra=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?In(r):""}function En(e,n){switch(e.tag){case 26:case 27:case 5:return In(e.type);case 16:return In("Lazy");case 13:return e.child!==n&&n!==null?In("Suspense Fallback"):In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return _t(e.type,!1);case 11:return _t(e.type.render,!1);case 1:return _t(e.type,!0);case 31:return In("Activity");default:return""}}function Bi(e){try{var n="",r=null;do n+=En(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Vi=Object.prototype.hasOwnProperty,Wn=s.unstable_scheduleCallback,ms=s.unstable_cancelCallback,Ma=s.unstable_shouldYield,Xs=s.unstable_requestPaint,qt=s.unstable_now,Eu=s.unstable_getCurrentPriorityLevel,Ua=s.unstable_ImmediatePriority,vt=s.unstable_UserBlockingPriority,gs=s.unstable_NormalPriority,ju=s.unstable_LowPriority,$i=s.unstable_IdlePriority,ku=s.log,mo=s.unstable_setDisableYieldValue,za=null,Qt=null;function bt(e){if(typeof ku=="function"&&mo(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(za,e)}catch{}}var Ve=Math.clz32?Math.clz32:fn,Js=Math.log,Dt=Math.LN2;function fn(e){return e>>>=0,e===0?32:31-(Js(e)/Dt|0)|0}var dt=256,ps=262144,La=4194304;function Wt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zs(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var d=0,h=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~h,l!==0?d=Wt(l):(v&=S,v!==0?d=Wt(v):r||(r=S&~e,r!==0&&(d=Wt(r))))):(S=l&~h,S!==0?d=Wt(S):v!==0?d=Wt(v):r||(r=l&~e,r!==0&&(d=Wt(r)))),d===0?0:n!==0&&n!==d&&(n&h)===0&&(h=d&-d,r=n&-n,h>=r||h===32&&(r&4194048)!==0)?n:d}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Au(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ar(){var e=La;return La<<=1,(La&62914560)===0&&(La=4194304),e}function Ba(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Qs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function go(e,n,r,l,d,h){var v=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var S=e.entanglements,A=e.expirationTimes,P=e.hiddenUpdates;for(r=v&~r;0<r;){var X=31-Ve(r),W=1<<X;S[X]=0,A[X]=-1;var H=P[X];if(H!==null)for(P[X]=null,X=0;X<H.length;X++){var q=H[X];q!==null&&(q.lane&=-536870913)}r&=~W}l!==0&&kn(e,l,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(v&~n))}function kn(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Ve(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function po(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-Ve(r),d=1<<l;d&n|e[l]&n&&(e[l]|=n),r&=~d}}function Pi(e,n){var r=n&-n;return r=(r&42)!==0?1:ys(r),(r&(e.suspendedLanes|n))!==0?0:r}function ys(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ws(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Cr(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:cy(e.type))}function Va(e,n){var r=K.p;try{return K.p=e,n()}finally{K.p=r}}var Hn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Hn,ht="__reactProps$"+Hn,vs="__reactContainer$"+Hn,$a="__reactEvents$"+Hn,yo="__reactListeners$"+Hn,Ii="__reactHandles$"+Hn,Hi="__reactResources$"+Hn,nn="__reactMarker$"+Hn;function Nr(e){delete e[xt],delete e[ht],delete e[$a],delete e[yo],delete e[Ii]}function es(e){var n=e[xt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[vs]||r[xt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Yp(e);e!==null;){if(r=e[xt])return r;e=Yp(e)}return n}e=r,r=e.parentNode}return null}function bs(e){if(e=e[xt]||e[vs]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function xs(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function ws(e){var n=e[Hi];return n||(n=e[Hi]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Rt(e){e[nn]=!0}var Cu=new Set,Nu={};function Ss(e,n){Gt(e,n),Gt(e+"Capture",n)}function Gt(e,n){for(Nu[e]=n,e=0;e<n.length;e++)Cu.add(n[e])}var tt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Pa={};function ea(e){return Vi.call(Pa,e)?!0:Vi.call(vo,e)?!1:tt.test(e)?Pa[e]=!0:(vo[e]=!0,!1)}function Ia(e,n,r){if(ea(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Ha(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function An(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Or(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bo(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,h=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(v){r=""+v,h.call(this,v)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function _s(e){if(!e._valueTracker){var n=Or(e)?"checked":"value";e._valueTracker=bo(e,n,""+e[n])}}function xo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=Or(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ou=/[\n"\\]/g;function sn(e){return e.replace(Ou,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Fi(e,n,r,l,d,h,v,S){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Yt(n)):e.value!==""+Yt(n)&&(e.value=""+Yt(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?ta(e,v,Yt(n)):r!=null?ta(e,v,Yt(r)):l!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Yt(S):e.removeAttribute("name")}function Ts(e,n,r,l,d,h,v,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){_s(e);return}r=r!=null?""+Yt(r):"",n=n!=null?""+Yt(n):r,S||n===e.value||(e.value=n),e.defaultValue=n}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),_s(e)}function ta(e,n,r){n==="number"&&ts(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function na(e,n,r,l){if(e=e.options,n){n={};for(var d=0;d<r.length;d++)n["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=n.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Yt(r),n=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function qi(e,n,r){if(n!=null&&(n=""+Yt(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Yt(r):""}function wo(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(i(92));if(Pe(l)){if(1<l.length)throw Error(i(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Yt(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),_s(e)}function sa(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dr(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||Gi.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Yi(e,n,r){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var d in n)l=n[d],n.hasOwnProperty(d)&&r[d]!==l&&Dr(e,d,l)}else for(var h in n)n.hasOwnProperty(h)&&Dr(e,h,n[h])}function Rr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var So=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Du=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(e){return Du.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mn(){}var Ki=null;function qa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ge=null,ns=null;function _o(e){var n=bs(e);if(n&&(e=n.stateNode)){var r=e[ht]||null;e:switch(e=n.stateNode,n.type){case"input":if(Fi(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var d=l[ht]||null;if(!d)throw Error(i(90));Fi(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&xo(l)}break e;case"textarea":qi(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&na(e,!!r.multiple,n,!1)}}}var Mr=!1;function To(e,n,r){if(Mr)return e(n,r);Mr=!0;try{var l=e(n);return l}finally{if(Mr=!1,(Ge!==null||ns!==null)&&(lc(),Ge&&(n=Ge,e=ns,ns=Ge=null,_o(n),e)))for(n=0;n<e.length;n++)_o(e[n])}}function Ga(e,n){var r=e.stateNode;if(r===null)return null;var l=r[ht]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,n,typeof r));return r}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=!1;if(Mt)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{Ya=!1}var ss=null,Ur=null,zr=null;function Xi(){if(zr)return zr;var e,n=Ur,r=n.length,l,d="value"in ss?ss.value:ss.textContent,h=d.length;for(e=0;e<r&&n[e]===d[e];e++);var v=r-e;for(l=1;l<=v&&n[r-l]===d[h-l];l++);return zr=d.slice(e,1<l?1-l:void 0)}function Ka(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xa(){return!0}function Eo(){return!1}function Kt(e){function n(r,l,d,h,v){this._reactName=r,this._targetInst=d,this.type=l,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(r=e[S],this[S]=r?r(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Xa:Eo,this.isPropagationStopped=Eo,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),n}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x=Kt(as),j=b({},as,{view:0,detail:0}),C=Kt(j),N,U,B,I=b({},j,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==B&&(B&&e.type==="mousemove"?(N=e.screenX-B.screenX,U=e.screenY-B.screenY):U=N=0,B=e),N)},movementY:function(e){return"movementY"in e?e.movementY:U}}),fe=Kt(I),ae=b({},I,{dataTransfer:0}),Te=Kt(ae),$e=b({},j,{relatedTarget:0}),ne=Kt($e),ie=b({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),ze=Kt(ie),ft=b({},as,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gn=Kt(ft),Ja=b({},as,{data:0}),xe=Kt(Ja),mt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ji={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Za(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ji[e])?!!n[e]:!1}function Zi(){return Za}var Es=b({},j,{key:function(e){if(e.key){var n=mt[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ka(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rs[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(e){return e.type==="keypress"?Ka(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ka(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yw=Kt(Es),Kw=b({},I,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F0=Kt(Kw),Xw=b({},j,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),Jw=Kt(Xw),Zw=b({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qw=Kt(Zw),Ww=b({},I,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eS=Kt(Ww),tS=b({},as,{newState:0,oldState:0}),nS=Kt(tS),sS=[9,13,27,32],Ru=Mt&&"CompositionEvent"in window,Qi=null;Mt&&"documentMode"in document&&(Qi=document.documentMode);var aS=Mt&&"TextEvent"in window&&!Qi,q0=Mt&&(!Ru||Qi&&8<Qi&&11>=Qi),G0=" ",Y0=!1;function K0(e,n){switch(e){case"keyup":return sS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lr=!1;function rS(e,n){switch(e){case"compositionend":return X0(n);case"keypress":return n.which!==32?null:(Y0=!0,G0);case"textInput":return e=n.data,e===G0&&Y0?null:e;default:return null}}function iS(e,n){if(Lr)return e==="compositionend"||!Ru&&K0(e,n)?(e=Xi(),zr=Ur=ss=null,Lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return q0&&n.locale!=="ko"?null:n.data;default:return null}}var lS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J0(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!lS[e.type]:n==="textarea"}function Z0(e,n,r,l){Ge?ns?ns.push(l):ns=[l]:Ge=l,n=mc(n,"onChange"),0<n.length&&(r=new x("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Wi=null,el=null;function oS(e){Rp(e,0)}function jo(e){var n=xs(e);if(xo(n))return e}function Q0(e,n){if(e==="change")return n}var W0=!1;if(Mt){var Mu;if(Mt){var Uu="oninput"in document;if(!Uu){var em=document.createElement("div");em.setAttribute("oninput","return;"),Uu=typeof em.oninput=="function"}Mu=Uu}else Mu=!1;W0=Mu&&(!document.documentMode||9<document.documentMode)}function tm(){Wi&&(Wi.detachEvent("onpropertychange",nm),el=Wi=null)}function nm(e){if(e.propertyName==="value"&&jo(el)){var n=[];Z0(n,el,e,qa(e)),To(oS,n)}}function cS(e,n,r){e==="focusin"?(tm(),Wi=n,el=r,Wi.attachEvent("onpropertychange",nm)):e==="focusout"&&tm()}function uS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jo(el)}function dS(e,n){if(e==="click")return jo(n)}function hS(e,n){if(e==="input"||e==="change")return jo(n)}function fS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:fS;function tl(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var d=r[l];if(!Vi.call(n,d)||!pn(e[d],n[d]))return!1}return!0}function sm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function am(e,n){var r=sm(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sm(r)}}function rm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?rm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function im(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ts(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ts(e.document)}return n}function zu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var mS=Mt&&"documentMode"in document&&11>=document.documentMode,Br=null,Lu=null,nl=null,Bu=!1;function lm(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bu||Br==null||Br!==ts(l)||(l=Br,"selectionStart"in l&&zu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=mc(Lu,"onSelect"),0<l.length&&(n=new x("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=Br)))}function Qa(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Vr={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},Vu={},om={};Mt&&(om=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Wa(e){if(Vu[e])return Vu[e];if(!Vr[e])return e;var n=Vr[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in om)return Vu[e]=n[r];return e}var cm=Wa("animationend"),um=Wa("animationiteration"),dm=Wa("animationstart"),gS=Wa("transitionrun"),pS=Wa("transitionstart"),yS=Wa("transitioncancel"),hm=Wa("transitionend"),fm=new Map,$u="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$u.push("scrollEnd");function Fn(e,n){fm.set(e,n),Ss(n,[e])}var ko=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],$r=0,Pu=0;function Ao(){for(var e=$r,n=Pu=$r=0;n<e;){var r=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var d=Cn[n];Cn[n++]=null;var h=Cn[n];if(Cn[n++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}h!==0&&mm(r,d,h)}}function Co(e,n,r,l){Cn[$r++]=e,Cn[$r++]=n,Cn[$r++]=r,Cn[$r++]=l,Pu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Iu(e,n,r,l){return Co(e,n,r,l),No(e)}function er(e,n){return Co(e,null,null,n),No(e)}function mm(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var d=!1,h=e.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&n!==null&&(d=31-Ve(r),e=h.hiddenUpdates,l=e[d],l===null?e[d]=[n]:l.push(n),n.lane=r|536870912),h):null}function No(e){if(50<Tl)throw Tl=0,Zd=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Pr={};function vS(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,r,l){return new vS(e,n,r,l)}function Hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function js(e,n){var r=e.alternate;return r===null?(r=yn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function gm(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Oo(e,n,r,l,d,h){var v=0;if(l=e,typeof e=="function")Hu(e)&&(v=1);else if(typeof e=="string")v=__(e,r,he.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case se:return e=yn(31,r,n,d),e.elementType=se,e.lanes=h,e;case k:return tr(r.children,d,h,n);case T:v=8,d|=24;break;case M:return e=yn(12,r,n,d|2),e.elementType=M,e.lanes=h,e;case J:return e=yn(13,r,n,d),e.elementType=J,e.lanes=h,e;case ee:return e=yn(19,r,n,d),e.elementType=ee,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:v=10;break e;case V:v=9;break e;case F:v=11;break e;case G:v=14;break e;case Z:v=16,l=null;break e}v=29,r=Error(i(130,e===null?"null":typeof e,"")),l=null}return n=yn(v,r,n,d),n.elementType=e,n.type=l,n.lanes=h,n}function tr(e,n,r,l){return e=yn(7,e,l,n),e.lanes=r,e}function Fu(e,n,r){return e=yn(6,e,null,n),e.lanes=r,e}function pm(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function qu(e,n,r){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ym=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var r=ym.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Bi(n)},ym.set(e,n),n)}return{value:e,source:n,stack:Bi(n)}}var Ir=[],Hr=0,Do=null,sl=0,On=[],Dn=0,ra=null,is=1,ls="";function ks(e,n){Ir[Hr++]=sl,Ir[Hr++]=Do,Do=e,sl=n}function vm(e,n,r){On[Dn++]=is,On[Dn++]=ls,On[Dn++]=ra,ra=e;var l=is;e=ls;var d=32-Ve(l)-1;l&=~(1<<d),r+=1;var h=32-Ve(n)+d;if(30<h){var v=d-d%5;h=(l&(1<<v)-1).toString(32),l>>=v,d-=v,is=1<<32-Ve(n)+d|r<<d|l,ls=h+e}else is=1<<h|r<<d|l,ls=e}function Gu(e){e.return!==null&&(ks(e,1),vm(e,1,0))}function Yu(e){for(;e===Do;)Do=Ir[--Hr],Ir[Hr]=null,sl=Ir[--Hr],Ir[Hr]=null;for(;e===ra;)ra=On[--Dn],On[Dn]=null,ls=On[--Dn],On[Dn]=null,is=On[--Dn],On[Dn]=null}function bm(e,n){On[Dn++]=is,On[Dn++]=ls,On[Dn++]=ra,is=n.id,ls=n.overflow,ra=e}var Bt=null,rt=null,Le=!1,ia=null,Rn=!1,Ku=Error(i(519));function la(e){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(Nn(n,e)),Ku}function xm(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[xt]=e,n[ht]=l,r){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(r=0;r<jl.length;r++)Oe(jl[r],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Oe("invalid",n),Ts(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",n);break;case"textarea":Oe("invalid",n),wo(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Lp(n.textContent,r)?(l.popover!=null&&(Oe("beforetoggle",n),Oe("toggle",n)),l.onScroll!=null&&Oe("scroll",n),l.onScrollEnd!=null&&Oe("scrollend",n),l.onClick!=null&&(n.onclick=mn),n=!0):n=!1,n||la(e,!0)}function wm(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Bt=Bt.return}}function Fr(e){if(e!==Bt)return!1;if(!Le)return wm(e),Le=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||hh(e.type,e.memoizedProps)),r=!r),r&&rt&&la(e),wm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));rt=Gp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));rt=Gp(e)}else n===27?(n=rt,wa(e.type)?(e=yh,yh=null,rt=e):rt=n):rt=Bt?Un(e.stateNode.nextSibling):null;return!0}function nr(){rt=Bt=null,Le=!1}function Xu(){var e=ia;return e!==null&&(on===null?on=e:on.push.apply(on,e),ia=null),e}function al(e){ia===null?ia=[e]:ia.push(e)}var Ju=D(null),sr=null,As=null;function oa(e,n,r){re(Ju,n._currentValue),n._currentValue=r}function Cs(e){e._currentValue=Ju.current,te(Ju)}function Zu(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function Qu(e,n,r,l){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var v=d.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=d;for(var A=0;A<n.length;A++)if(S.context===n[A]){h.lanes|=r,S=h.alternate,S!==null&&(S.lanes|=r),Zu(h.return,r,e),l||(v=null);break e}h=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=r,h=v.alternate,h!==null&&(h.lanes|=r),Zu(v,r,e),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===e){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function qr(e,n,r,l){e=null;for(var d=n,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=d.type;pn(d.pendingProps.value,v.value)||(e!==null?e.push(S):e=[S])}}else if(d===Be.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Ol):e=[Ol])}d=d.return}e!==null&&Qu(n,e,r,l),n.flags|=262144}function Ro(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ar(e){sr=e,As=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Vt(e){return Sm(sr,e)}function Mo(e,n){return sr===null&&ar(e),Sm(e,n)}function Sm(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},As===null){if(e===null)throw Error(i(308));As=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else As=As.next=n;return r}var bS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},xS=s.unstable_scheduleCallback,wS=s.unstable_NormalPriority,Tt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wu(){return{controller:new bS,data:new Map,refCount:0}}function rl(e){e.refCount--,e.refCount===0&&xS(wS,function(){e.controller.abort()})}var il=null,ed=0,Gr=0,Yr=null;function SS(e,n){if(il===null){var r=il=[];ed=0,Gr=sh(),Yr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ed++,n.then(_m,_m),n}function _m(){if(--ed===0&&il!==null){Yr!==null&&(Yr.status="fulfilled");var e=il;il=null,Gr=0,Yr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function _S(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var d=0;d<r.length;d++)(0,r[d])(n)},function(d){for(l.status="rejected",l.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),l}var Tm=Y.S;Y.S=function(e,n){lp=qt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&SS(e,n),Tm!==null&&Tm(e,n)};var rr=D(null);function td(){var e=rr.current;return e!==null?e:We.pooledCache}function Uo(e,n){n===null?re(rr,rr.current):re(rr,n.pool)}function Em(){var e=td();return e===null?null:{parent:Tt._currentValue,pool:e}}var Kr=Error(i(460)),nd=Error(i(474)),zo=Error(i(542)),Lo={then:function(){}};function jm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function km(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(mn,mn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cm(e),e;default:if(typeof n.status=="string")n.then(mn,mn);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=l}},function(l){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cm(e),e}throw lr=n,Kr}}function ir(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(lr=r,Kr):r}}var lr=null;function Am(){if(lr===null)throw Error(i(459));var e=lr;return lr=null,e}function Cm(e){if(e===Kr||e===zo)throw Error(i(483))}var Xr=null,ll=0;function Bo(e){var n=ll;return ll+=1,Xr===null&&(Xr=[]),km(Xr,e,n)}function ol(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vo(e,n){throw n.$$typeof===w?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Nm(e){function n(z,R){if(e){var $=z.deletions;$===null?(z.deletions=[R],z.flags|=16):$.push(R)}}function r(z,R){if(!e)return null;for(;R!==null;)n(z,R),R=R.sibling;return null}function l(z){for(var R=new Map;z!==null;)z.key!==null?R.set(z.key,z):R.set(z.index,z),z=z.sibling;return R}function d(z,R){return z=js(z,R),z.index=0,z.sibling=null,z}function h(z,R,$){return z.index=$,e?($=z.alternate,$!==null?($=$.index,$<R?(z.flags|=67108866,R):$):(z.flags|=67108866,R)):(z.flags|=1048576,R)}function v(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function S(z,R,$,Q){return R===null||R.tag!==6?(R=Fu($,z.mode,Q),R.return=z,R):(R=d(R,$),R.return=z,R)}function A(z,R,$,Q){var pe=$.type;return pe===k?X(z,R,$.props.children,Q,$.key):R!==null&&(R.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Z&&ir(pe)===R.type)?(R=d(R,$.props),ol(R,$),R.return=z,R):(R=Oo($.type,$.key,$.props,null,z.mode,Q),ol(R,$),R.return=z,R)}function P(z,R,$,Q){return R===null||R.tag!==4||R.stateNode.containerInfo!==$.containerInfo||R.stateNode.implementation!==$.implementation?(R=qu($,z.mode,Q),R.return=z,R):(R=d(R,$.children||[]),R.return=z,R)}function X(z,R,$,Q,pe){return R===null||R.tag!==7?(R=tr($,z.mode,Q,pe),R.return=z,R):(R=d(R,$),R.return=z,R)}function W(z,R,$){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Fu(""+R,z.mode,$),R.return=z,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return $=Oo(R.type,R.key,R.props,null,z.mode,$),ol($,R),$.return=z,$;case E:return R=qu(R,z.mode,$),R.return=z,R;case Z:return R=ir(R),W(z,R,$)}if(Pe(R)||Se(R))return R=tr(R,z.mode,$,null),R.return=z,R;if(typeof R.then=="function")return W(z,Bo(R),$);if(R.$$typeof===O)return W(z,Mo(z,R),$);Vo(z,R)}return null}function H(z,R,$,Q){var pe=R!==null?R.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return pe!==null?null:S(z,R,""+$,Q);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return $.key===pe?A(z,R,$,Q):null;case E:return $.key===pe?P(z,R,$,Q):null;case Z:return $=ir($),H(z,R,$,Q)}if(Pe($)||Se($))return pe!==null?null:X(z,R,$,Q,null);if(typeof $.then=="function")return H(z,R,Bo($),Q);if($.$$typeof===O)return H(z,R,Mo(z,$),Q);Vo(z,$)}return null}function q(z,R,$,Q,pe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return z=z.get($)||null,S(R,z,""+Q,pe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return z=z.get(Q.key===null?$:Q.key)||null,A(R,z,Q,pe);case E:return z=z.get(Q.key===null?$:Q.key)||null,P(R,z,Q,pe);case Z:return Q=ir(Q),q(z,R,$,Q,pe)}if(Pe(Q)||Se(Q))return z=z.get($)||null,X(R,z,Q,pe,null);if(typeof Q.then=="function")return q(z,R,$,Bo(Q),pe);if(Q.$$typeof===O)return q(z,R,$,Mo(R,Q),pe);Vo(R,Q)}return null}function ce(z,R,$,Q){for(var pe=null,Ie=null,me=R,je=R=0,Re=null;me!==null&&je<$.length;je++){me.index>je?(Re=me,me=null):Re=me.sibling;var He=H(z,me,$[je],Q);if(He===null){me===null&&(me=Re);break}e&&me&&He.alternate===null&&n(z,me),R=h(He,R,je),Ie===null?pe=He:Ie.sibling=He,Ie=He,me=Re}if(je===$.length)return r(z,me),Le&&ks(z,je),pe;if(me===null){for(;je<$.length;je++)me=W(z,$[je],Q),me!==null&&(R=h(me,R,je),Ie===null?pe=me:Ie.sibling=me,Ie=me);return Le&&ks(z,je),pe}for(me=l(me);je<$.length;je++)Re=q(me,z,je,$[je],Q),Re!==null&&(e&&Re.alternate!==null&&me.delete(Re.key===null?je:Re.key),R=h(Re,R,je),Ie===null?pe=Re:Ie.sibling=Re,Ie=Re);return e&&me.forEach(function(ja){return n(z,ja)}),Le&&ks(z,je),pe}function ve(z,R,$,Q){if($==null)throw Error(i(151));for(var pe=null,Ie=null,me=R,je=R=0,Re=null,He=$.next();me!==null&&!He.done;je++,He=$.next()){me.index>je?(Re=me,me=null):Re=me.sibling;var ja=H(z,me,He.value,Q);if(ja===null){me===null&&(me=Re);break}e&&me&&ja.alternate===null&&n(z,me),R=h(ja,R,je),Ie===null?pe=ja:Ie.sibling=ja,Ie=ja,me=Re}if(He.done)return r(z,me),Le&&ks(z,je),pe;if(me===null){for(;!He.done;je++,He=$.next())He=W(z,He.value,Q),He!==null&&(R=h(He,R,je),Ie===null?pe=He:Ie.sibling=He,Ie=He);return Le&&ks(z,je),pe}for(me=l(me);!He.done;je++,He=$.next())He=q(me,z,je,He.value,Q),He!==null&&(e&&He.alternate!==null&&me.delete(He.key===null?je:He.key),R=h(He,R,je),Ie===null?pe=He:Ie.sibling=He,Ie=He);return e&&me.forEach(function(M_){return n(z,M_)}),Le&&ks(z,je),pe}function Ze(z,R,$,Q){if(typeof $=="object"&&$!==null&&$.type===k&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case _:e:{for(var pe=$.key;R!==null;){if(R.key===pe){if(pe=$.type,pe===k){if(R.tag===7){r(z,R.sibling),Q=d(R,$.props.children),Q.return=z,z=Q;break e}}else if(R.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Z&&ir(pe)===R.type){r(z,R.sibling),Q=d(R,$.props),ol(Q,$),Q.return=z,z=Q;break e}r(z,R);break}else n(z,R);R=R.sibling}$.type===k?(Q=tr($.props.children,z.mode,Q,$.key),Q.return=z,z=Q):(Q=Oo($.type,$.key,$.props,null,z.mode,Q),ol(Q,$),Q.return=z,z=Q)}return v(z);case E:e:{for(pe=$.key;R!==null;){if(R.key===pe)if(R.tag===4&&R.stateNode.containerInfo===$.containerInfo&&R.stateNode.implementation===$.implementation){r(z,R.sibling),Q=d(R,$.children||[]),Q.return=z,z=Q;break e}else{r(z,R);break}else n(z,R);R=R.sibling}Q=qu($,z.mode,Q),Q.return=z,z=Q}return v(z);case Z:return $=ir($),Ze(z,R,$,Q)}if(Pe($))return ce(z,R,$,Q);if(Se($)){if(pe=Se($),typeof pe!="function")throw Error(i(150));return $=pe.call($),ve(z,R,$,Q)}if(typeof $.then=="function")return Ze(z,R,Bo($),Q);if($.$$typeof===O)return Ze(z,R,Mo(z,$),Q);Vo(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,R!==null&&R.tag===6?(r(z,R.sibling),Q=d(R,$),Q.return=z,z=Q):(r(z,R),Q=Fu($,z.mode,Q),Q.return=z,z=Q),v(z)):r(z,R)}return function(z,R,$,Q){try{ll=0;var pe=Ze(z,R,$,Q);return Xr=null,pe}catch(me){if(me===Kr||me===zo)throw me;var Ie=yn(29,me,null,z.mode);return Ie.lanes=Q,Ie.return=z,Ie}finally{}}}var or=Nm(!0),Om=Nm(!1),ca=!1;function sd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function da(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,n=No(e),mm(e,null,r),n}return Co(e,l,n,r),No(e)}function cl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,po(e,r)}}function rd(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var d=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?d=h=v:h=h.next=v,r=r.next}while(r!==null);h===null?d=h=n:h=h.next=n}else d=h=n;r={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var id=!1;function ul(){if(id){var e=Yr;if(e!==null)throw e}}function dl(e,n,r,l){id=!1;var d=e.updateQueue;ca=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var A=S,P=A.next;A.next=null,v===null?h=P:v.next=P,v=A;var X=e.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=P:S.next=P,X.lastBaseUpdate=A))}if(h!==null){var W=d.baseState;v=0,X=P=A=null,S=h;do{var H=S.lane&-536870913,q=H!==S.lane;if(q?(De&H)===H:(l&H)===H){H!==0&&H===Gr&&(id=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=e,ve=S;H=n;var Ze=r;switch(ve.tag){case 1:if(ce=ve.payload,typeof ce=="function"){W=ce.call(Ze,W,H);break e}W=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ve.payload,H=typeof ce=="function"?ce.call(Ze,W,H):ce,H==null)break e;W=b({},W,H);break e;case 2:ca=!0}}H=S.callback,H!==null&&(e.flags|=64,q&&(e.flags|=8192),q=d.callbacks,q===null?d.callbacks=[H]:q.push(H))}else q={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(P=X=q,A=W):X=X.next=q,v|=H;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;q=S,S=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);X===null&&(A=W),d.baseState=A,d.firstBaseUpdate=P,d.lastBaseUpdate=X,h===null&&(d.shared.lanes=0),pa|=v,e.lanes=v,e.memoizedState=W}}function Dm(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function Rm(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Dm(r[e],n)}var Jr=D(null),$o=D(0);function Mm(e,n){e=Bs,re($o,e),re(Jr,n),Bs=e|n.baseLanes}function ld(){re($o,Bs),re(Jr,Jr.current)}function od(){Bs=$o.current,te(Jr),te($o)}var vn=D(null),Mn=null;function ha(e){var n=e.alternate;re(wt,wt.current&1),re(vn,e),Mn===null&&(n===null||Jr.current!==null||n.memoizedState!==null)&&(Mn=e)}function cd(e){re(wt,wt.current),re(vn,e),Mn===null&&(Mn=e)}function Um(e){e.tag===22?(re(wt,wt.current),re(vn,e),Mn===null&&(Mn=e)):fa()}function fa(){re(wt,wt.current),re(vn,vn.current)}function bn(e){te(vn),Mn===e&&(Mn=null),te(wt)}var wt=D(0);function Po(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||gh(r)||ph(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ns=0,Ee=null,Xe=null,Et=null,Io=!1,Zr=!1,cr=!1,Ho=0,hl=0,Qr=null,TS=0;function gt(){throw Error(i(321))}function ud(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!pn(e[r],n[r]))return!1;return!0}function dd(e,n,r,l,d,h){return Ns=h,Ee=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=e===null||e.memoizedState===null?vg:jd,cr=!1,h=r(l,d),cr=!1,Zr&&(h=Lm(n,r,l,d)),zm(e),h}function zm(e){Y.H=gl;var n=Xe!==null&&Xe.next!==null;if(Ns=0,Et=Xe=Ee=null,Io=!1,hl=0,Qr=null,n)throw Error(i(300));e===null||jt||(e=e.dependencies,e!==null&&Ro(e)&&(jt=!0))}function Lm(e,n,r,l){Ee=e;var d=0;do{if(Zr&&(Qr=null),hl=0,Zr=!1,25<=d)throw Error(i(301));if(d+=1,Et=Xe=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}Y.H=bg,h=n(r,l)}while(Zr);return h}function ES(){var e=Y.H,n=e.useState()[0];return n=typeof n.then=="function"?fl(n):n,e=e.useState()[0],(Xe!==null?Xe.memoizedState:null)!==e&&(Ee.flags|=1024),n}function hd(){var e=Ho!==0;return Ho=0,e}function fd(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function md(e){if(Io){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Io=!1}Ns=0,Et=Xe=Ee=null,Zr=!1,hl=Ho=0,Qr=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ee.memoizedState=Et=e:Et=Et.next=e,Et}function St(){if(Xe===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var n=Et===null?Ee.memoizedState:Et.next;if(n!==null)Et=n,Xe=e;else{if(e===null)throw Ee.alternate===null?Error(i(467)):Error(i(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Et===null?Ee.memoizedState=Et=e:Et=Et.next=e}return Et}function Fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(e){var n=hl;return hl+=1,Qr===null&&(Qr=[]),e=km(Qr,e,n),n=Ee,(Et===null?n.memoizedState:Et.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?vg:jd),e}function qo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fl(e);if(e.$$typeof===O)return Vt(e)}throw Error(i(438,String(e)))}function gd(e){var n=null,r=Ee.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ee.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Fo(),Ee.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=le;return n.index++,r}function Os(e,n){return typeof n=="function"?n(e):n}function Go(e){var n=St();return pd(n,Xe,e)}function pd(e,n,r){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var d=e.baseQueue,h=l.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}n.baseQueue=d=h,l.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{n=d.next;var S=v=null,A=null,P=n,X=!1;do{var W=P.lane&-536870913;if(W!==P.lane?(De&W)===W:(Ns&W)===W){var H=P.revertLane;if(H===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),W===Gr&&(X=!0);else if((Ns&H)===H){P=P.next,H===Gr&&(X=!0);continue}else W={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(S=A=W,v=h):A=A.next=W,Ee.lanes|=H,pa|=H;W=P.action,cr&&r(h,W),h=P.hasEagerState?P.eagerState:r(h,W)}else H={lane:W,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(S=A=H,v=h):A=A.next=H,Ee.lanes|=W,pa|=W;P=P.next}while(P!==null&&P!==n);if(A===null?v=h:A.next=S,!pn(h,e.memoizedState)&&(jt=!0,X&&(r=Yr,r!==null)))throw r;e.memoizedState=h,e.baseState=v,e.baseQueue=A,l.lastRenderedState=h}return d===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yd(e){var n=St(),r=n.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var l=r.dispatch,d=r.pending,h=n.memoizedState;if(d!==null){r.pending=null;var v=d=d.next;do h=e(h,v.action),v=v.next;while(v!==d);pn(h,n.memoizedState)||(jt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function Bm(e,n,r){var l=Ee,d=St(),h=Le;if(h){if(r===void 0)throw Error(i(407));r=r()}else r=n();var v=!pn((Xe||d).memoizedState,r);if(v&&(d.memoizedState=r,jt=!0),d=d.queue,xd(Pm.bind(null,l,d,e),[e]),d.getSnapshot!==n||v||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Wr(9,{destroy:void 0},$m.bind(null,l,d,r,n),null),We===null)throw Error(i(349));h||(Ns&127)!==0||Vm(l,n,r)}return r}function Vm(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Ee.updateQueue,n===null?(n=Fo(),Ee.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function $m(e,n,r,l){n.value=r,n.getSnapshot=l,Im(n)&&Hm(e)}function Pm(e,n,r){return r(function(){Im(n)&&Hm(e)})}function Im(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!pn(e,r)}catch{return!0}}function Hm(e){var n=er(e,2);n!==null&&cn(n,e,2)}function vd(e){var n=en();if(typeof e=="function"){var r=e;if(e=r(),cr){bt(!0);try{r()}finally{bt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:e},n}function Fm(e,n,r,l){return e.baseState=r,pd(e,Xe,typeof l=="function"?l:Os)}function jS(e,n,r,l,d){if(Xo(e))throw Error(i(485));if(e=n.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};Y.T!==null?r(!0):h.isTransition=!1,l(h),r=n.pending,r===null?(h.next=n.pending=h,qm(n,h)):(h.next=r.next,n.pending=r.next=h)}}function qm(e,n){var r=n.action,l=n.payload,d=e.state;if(n.isTransition){var h=Y.T,v={};Y.T=v;try{var S=r(d,l),A=Y.S;A!==null&&A(v,S),Gm(e,n,S)}catch(P){bd(e,n,P)}finally{h!==null&&v.types!==null&&(h.types=v.types),Y.T=h}}else try{h=r(d,l),Gm(e,n,h)}catch(P){bd(e,n,P)}}function Gm(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Ym(e,n,l)},function(l){return bd(e,n,l)}):Ym(e,n,r)}function Ym(e,n,r){n.status="fulfilled",n.value=r,Km(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,qm(e,r)))}function bd(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Km(n),n=n.next;while(n!==l)}e.action=null}function Km(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Xm(e,n){return n}function Jm(e,n){if(Le){var r=We.formState;if(r!==null){e:{var l=Ee;if(Le){if(rt){t:{for(var d=rt,h=Rn;d.nodeType!==8;){if(!h){d=null;break t}if(d=Un(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){rt=Un(d.nextSibling),l=d.data==="F!";break e}}la(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:n},r.queue=l,r=gg.bind(null,Ee,l),l.dispatch=r,l=vd(!1),h=Ed.bind(null,Ee,!1,l.queue),l=en(),d={state:n,dispatch:null,action:e,pending:null},l.queue=d,r=jS.bind(null,Ee,d,h,r),d.dispatch=r,l.memoizedState=e,[n,r,!1]}function Zm(e){var n=St();return Qm(n,Xe,e)}function Qm(e,n,r){if(n=pd(e,n,Xm)[0],e=Go(Os)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(v){throw v===Kr?zo:v}else l=n;n=St();var d=n.queue,h=d.dispatch;return r!==n.memoizedState&&(Ee.flags|=2048,Wr(9,{destroy:void 0},kS.bind(null,d,r),null)),[l,h,e]}function kS(e,n){e.action=n}function Wm(e){var n=St(),r=Xe;if(r!==null)return Qm(n,r,e);St(),n=n.memoizedState,r=St();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Wr(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=Ee.updateQueue,n===null&&(n=Fo(),Ee.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function eg(){return St().memoizedState}function Yo(e,n,r,l){var d=en();Ee.flags|=e,d.memoizedState=Wr(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ko(e,n,r,l){var d=St();l=l===void 0?null:l;var h=d.memoizedState.inst;Xe!==null&&l!==null&&ud(l,Xe.memoizedState.deps)?d.memoizedState=Wr(n,h,r,l):(Ee.flags|=e,d.memoizedState=Wr(1|n,h,r,l))}function tg(e,n){Yo(8390656,8,e,n)}function xd(e,n){Ko(2048,8,e,n)}function AS(e){Ee.flags|=4;var n=Ee.updateQueue;if(n===null)n=Fo(),Ee.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function ng(e){var n=St().memoizedState;return AS({ref:n,nextImpl:e}),function(){if((Fe&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function sg(e,n){return Ko(4,2,e,n)}function ag(e,n){return Ko(4,4,e,n)}function rg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ig(e,n,r){r=r!=null?r.concat([e]):null,Ko(4,4,rg.bind(null,n,e),r)}function wd(){}function lg(e,n){var r=St();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&ud(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function og(e,n){var r=St();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&ud(n,l[1]))return l[0];if(l=e(),cr){bt(!0);try{e()}finally{bt(!1)}}return r.memoizedState=[l,n],l}function Sd(e,n,r){return r===void 0||(Ns&1073741824)!==0&&(De&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=cp(),Ee.lanes|=e,pa|=e,r)}function cg(e,n,r,l){return pn(r,n)?r:Jr.current!==null?(e=Sd(e,r,l),pn(e,n)||(jt=!0),e):(Ns&42)===0||(Ns&1073741824)!==0&&(De&261930)===0?(jt=!0,e.memoizedState=r):(e=cp(),Ee.lanes|=e,pa|=e,n)}function ug(e,n,r,l,d){var h=K.p;K.p=h!==0&&8>h?h:8;var v=Y.T,S={};Y.T=S,Ed(e,!1,n,r);try{var A=d(),P=Y.S;if(P!==null&&P(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var X=_S(A,l);ml(e,n,X,Sn(e))}else ml(e,n,l,Sn(e))}catch(W){ml(e,n,{then:function(){},status:"rejected",reason:W},Sn())}finally{K.p=h,v!==null&&S.types!==null&&(v.types=S.types),Y.T=v}}function CS(){}function _d(e,n,r,l){if(e.tag!==5)throw Error(i(476));var d=dg(e).queue;ug(e,d,n,ue,r===null?CS:function(){return hg(e),r(l)})}function dg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:ue},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function hg(e){var n=dg(e);n.next===null&&(n=e.alternate.memoizedState),ml(e,n.next.queue,{},Sn())}function Td(){return Vt(Ol)}function fg(){return St().memoizedState}function mg(){return St().memoizedState}function NS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Sn();e=ua(r);var l=da(n,e,r);l!==null&&(cn(l,n,r),cl(l,n,r)),n={cache:Wu()},e.payload=n;return}n=n.return}}function OS(e,n,r){var l=Sn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Xo(e)?pg(n,r):(r=Iu(e,n,r,l),r!==null&&(cn(r,e,l),yg(r,n,l)))}function gg(e,n,r){var l=Sn();ml(e,n,r,l)}function ml(e,n,r,l){var d={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))pg(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var v=n.lastRenderedState,S=h(v,r);if(d.hasEagerState=!0,d.eagerState=S,pn(S,v))return Co(e,n,d,0),We===null&&Ao(),!1}catch{}finally{}if(r=Iu(e,n,d,l),r!==null)return cn(r,e,l),yg(r,n,l),!0}return!1}function Ed(e,n,r,l){if(l={lane:2,revertLane:sh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xo(e)){if(n)throw Error(i(479))}else n=Iu(e,r,l,2),n!==null&&cn(n,e,2)}function Xo(e){var n=e.alternate;return e===Ee||n!==null&&n===Ee}function pg(e,n){Zr=Io=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function yg(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,po(e,r)}}var gl={readContext:Vt,use:qo,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};gl.useEffectEvent=gt;var vg={readContext:Vt,use:qo,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Vt,useEffect:tg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Yo(4194308,4,rg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Yo(4194308,4,e,n)},useInsertionEffect:function(e,n){Yo(4,2,e,n)},useMemo:function(e,n){var r=en();n=n===void 0?null:n;var l=e();if(cr){bt(!0);try{e()}finally{bt(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=en();if(r!==void 0){var d=r(n);if(cr){bt(!0);try{r(n)}finally{bt(!1)}}}else d=n;return l.memoizedState=l.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},l.queue=e,e=e.dispatch=OS.bind(null,Ee,e),[l.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=vd(e);var n=e.queue,r=gg.bind(null,Ee,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:wd,useDeferredValue:function(e,n){var r=en();return Sd(r,e,n)},useTransition:function(){var e=vd(!1);return e=ug.bind(null,Ee,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=Ee,d=en();if(Le){if(r===void 0)throw Error(i(407));r=r()}else{if(r=n(),We===null)throw Error(i(349));(De&127)!==0||Vm(l,n,r)}d.memoizedState=r;var h={value:r,getSnapshot:n};return d.queue=h,tg(Pm.bind(null,l,h,e),[e]),l.flags|=2048,Wr(9,{destroy:void 0},$m.bind(null,l,h,r,n),null),r},useId:function(){var e=en(),n=We.identifierPrefix;if(Le){var r=ls,l=is;r=(l&~(1<<32-Ve(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ho++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=TS++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Td,useFormState:Jm,useActionState:Jm,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ed.bind(null,Ee,!0,r),r.dispatch=n,[e,n]},useMemoCache:gd,useCacheRefresh:function(){return en().memoizedState=NS.bind(null,Ee)},useEffectEvent:function(e){var n=en(),r={impl:e};return n.memoizedState=r,function(){if((Fe&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},jd={readContext:Vt,use:qo,useCallback:lg,useContext:Vt,useEffect:xd,useImperativeHandle:ig,useInsertionEffect:sg,useLayoutEffect:ag,useMemo:og,useReducer:Go,useRef:eg,useState:function(){return Go(Os)},useDebugValue:wd,useDeferredValue:function(e,n){var r=St();return cg(r,Xe.memoizedState,e,n)},useTransition:function(){var e=Go(Os)[0],n=St().memoizedState;return[typeof e=="boolean"?e:fl(e),n]},useSyncExternalStore:Bm,useId:fg,useHostTransitionStatus:Td,useFormState:Zm,useActionState:Zm,useOptimistic:function(e,n){var r=St();return Fm(r,Xe,e,n)},useMemoCache:gd,useCacheRefresh:mg};jd.useEffectEvent=ng;var bg={readContext:Vt,use:qo,useCallback:lg,useContext:Vt,useEffect:xd,useImperativeHandle:ig,useInsertionEffect:sg,useLayoutEffect:ag,useMemo:og,useReducer:yd,useRef:eg,useState:function(){return yd(Os)},useDebugValue:wd,useDeferredValue:function(e,n){var r=St();return Xe===null?Sd(r,e,n):cg(r,Xe.memoizedState,e,n)},useTransition:function(){var e=yd(Os)[0],n=St().memoizedState;return[typeof e=="boolean"?e:fl(e),n]},useSyncExternalStore:Bm,useId:fg,useHostTransitionStatus:Td,useFormState:Wm,useActionState:Wm,useOptimistic:function(e,n){var r=St();return Xe!==null?Fm(r,Xe,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:gd,useCacheRefresh:mg};bg.useEffectEvent=ng;function kd(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ad={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Sn(),d=ua(l);d.payload=n,r!=null&&(d.callback=r),n=da(e,d,l),n!==null&&(cn(n,e,l),cl(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Sn(),d=ua(l);d.tag=1,d.payload=n,r!=null&&(d.callback=r),n=da(e,d,l),n!==null&&(cn(n,e,l),cl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Sn(),l=ua(r);l.tag=2,n!=null&&(l.callback=n),n=da(e,l,r),n!==null&&(cn(n,e,r),cl(n,e,r))}};function xg(e,n,r,l,d,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,v):n.prototype&&n.prototype.isPureReactComponent?!tl(r,l)||!tl(d,h):!0}function wg(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Ad.enqueueReplaceState(n,n.state,null)}function ur(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}function Sg(e){ko(e)}function _g(e){console.error(e)}function Tg(e){ko(e)}function Jo(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Eg(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Cd(e,n,r){return r=ua(r),r.tag=3,r.payload={element:null},r.callback=function(){Jo(e,n)},r}function jg(e){return e=ua(e),e.tag=3,e}function kg(e,n,r,l){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var h=l.value;e.payload=function(){return d(h)},e.callback=function(){Eg(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Eg(n,r,l),typeof d!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function DS(e,n,r,l,d){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&qr(n,r,d,!0),r=vn.current,r!==null){switch(r.tag){case 31:case 13:return Mn===null?oc():r.alternate===null&&pt===0&&(pt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,l===Lo?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),eh(e,l,d)),!1;case 22:return r.flags|=65536,l===Lo?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),eh(e,l,d)),!1}throw Error(i(435,r.tag))}return eh(e,l,d),oc(),!1}if(Le)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,l!==Ku&&(e=Error(i(422),{cause:l}),al(Nn(e,r)))):(l!==Ku&&(n=Error(i(423),{cause:l}),al(Nn(n,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,l=Nn(l,r),d=Cd(e.stateNode,l,d),rd(e,d),pt!==4&&(pt=2)),!1;var h=Error(i(520),{cause:l});if(h=Nn(h,r),_l===null?_l=[h]:_l.push(h),pt!==4&&(pt=2),n===null)return!0;l=Nn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=Cd(r.stateNode,l,e),rd(r,e),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ya===null||!ya.has(h))))return r.flags|=65536,d&=-d,r.lanes|=d,d=jg(d),kg(d,e,r,l),rd(r,d),!1}r=r.return}while(r!==null);return!1}var Nd=Error(i(461)),jt=!1;function $t(e,n,r,l){n.child=e===null?Om(n,null,r,l):or(n,e.child,r,l)}function Ag(e,n,r,l,d){r=r.render;var h=n.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return ar(n),l=dd(e,n,r,v,h,d),S=hd(),e!==null&&!jt?(fd(e,n,d),Ds(e,n,d)):(Le&&S&&Gu(n),n.flags|=1,$t(e,n,l,d),n.child)}function Cg(e,n,r,l,d){if(e===null){var h=r.type;return typeof h=="function"&&!Hu(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,Ng(e,n,h,l,d)):(e=Oo(r.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Bd(e,d)){var v=h.memoizedProps;if(r=r.compare,r=r!==null?r:tl,r(v,l)&&e.ref===n.ref)return Ds(e,n,d)}return n.flags|=1,e=js(h,l),e.ref=n.ref,e.return=n,n.child=e}function Ng(e,n,r,l,d){if(e!==null){var h=e.memoizedProps;if(tl(h,l)&&e.ref===n.ref)if(jt=!1,n.pendingProps=l=h,Bd(e,d))(e.flags&131072)!==0&&(jt=!0);else return n.lanes=e.lanes,Ds(e,n,d)}return Od(e,n,r,l,d)}function Og(e,n,r,l){var d=l.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,e!==null){for(l=n.child=e.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~h}else l=0,n.child=null;return Dg(e,n,h,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uo(n,h!==null?h.cachePool:null),h!==null?Mm(n,h):ld(),Um(n);else return l=n.lanes=536870912,Dg(e,n,h!==null?h.baseLanes|r:r,r,l)}else h!==null?(Uo(n,h.cachePool),Mm(n,h),fa(),n.memoizedState=null):(e!==null&&Uo(n,null),ld(),fa());return $t(e,n,d,r),n.child}function pl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dg(e,n,r,l,d){var h=td();return h=h===null?null:{parent:Tt._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},e!==null&&Uo(n,null),ld(),Um(n),e!==null&&qr(e,n,l,!0),n.childLanes=d,null}function Zo(e,n){return n=Wo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Rg(e,n,r){return or(n,e.child,null,r),e=Zo(n,n.pendingProps),e.flags|=2,bn(n),n.memoizedState=null,e}function RS(e,n,r){var l=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Le){if(l.mode==="hidden")return e=Zo(n,l),n.lanes=536870912,pl(null,e);if(cd(n),(e=rt)?(e=qp(e,Rn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ra!==null?{id:is,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},r=pm(e),r.return=n,n.child=r,Bt=n,rt=null)):e=null,e===null)throw la(n);return n.lanes=536870912,null}return Zo(n,l)}var h=e.memoizedState;if(h!==null){var v=h.dehydrated;if(cd(n),d)if(n.flags&256)n.flags&=-257,n=Rg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(i(558));else if(jt||qr(e,n,r,!1),d=(r&e.childLanes)!==0,jt||d){if(l=We,l!==null&&(v=Pi(l,r),v!==0&&v!==h.retryLane))throw h.retryLane=v,er(e,v),cn(l,e,v),Nd;oc(),n=Rg(e,n,r)}else e=h.treeContext,rt=Un(v.nextSibling),Bt=n,Le=!0,ia=null,Rn=!1,e!==null&&bm(n,e),n=Zo(n,l),n.flags|=4096;return n}return e=js(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qo(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Od(e,n,r,l,d){return ar(n),r=dd(e,n,r,l,void 0,d),l=hd(),e!==null&&!jt?(fd(e,n,d),Ds(e,n,d)):(Le&&l&&Gu(n),n.flags|=1,$t(e,n,r,d),n.child)}function Mg(e,n,r,l,d,h){return ar(n),n.updateQueue=null,r=Lm(n,l,r,d),zm(e),l=hd(),e!==null&&!jt?(fd(e,n,h),Ds(e,n,h)):(Le&&l&&Gu(n),n.flags|=1,$t(e,n,r,h),n.child)}function Ug(e,n,r,l,d){if(ar(n),n.stateNode===null){var h=Pr,v=r.contextType;typeof v=="object"&&v!==null&&(h=Vt(v)),h=new r(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ad,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},sd(n),v=r.contextType,h.context=typeof v=="object"&&v!==null?Vt(v):Pr,h.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(kd(n,r,v,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&Ad.enqueueReplaceState(h,h.state,null),dl(n,l,h,d),ul(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){h=n.stateNode;var S=n.memoizedProps,A=ur(r,S);h.props=A;var P=h.context,X=r.contextType;v=Pr,typeof X=="object"&&X!==null&&(v=Vt(X));var W=r.getDerivedStateFromProps;X=typeof W=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,X||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||P!==v)&&wg(n,h,l,v),ca=!1;var H=n.memoizedState;h.state=H,dl(n,l,h,d),ul(),P=n.memoizedState,S||H!==P||ca?(typeof W=="function"&&(kd(n,r,W,l),P=n.memoizedState),(A=ca||xg(n,r,A,l,H,P,v))?(X||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),h.props=l,h.state=P,h.context=v,l=A):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,ad(e,n),v=n.memoizedProps,X=ur(r,v),h.props=X,W=n.pendingProps,H=h.context,P=r.contextType,A=Pr,typeof P=="object"&&P!==null&&(A=Vt(P)),S=r.getDerivedStateFromProps,(P=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==W||H!==A)&&wg(n,h,l,A),ca=!1,H=n.memoizedState,h.state=H,dl(n,l,h,d),ul();var q=n.memoizedState;v!==W||H!==q||ca||e!==null&&e.dependencies!==null&&Ro(e.dependencies)?(typeof S=="function"&&(kd(n,r,S,l),q=n.memoizedState),(X=ca||xg(n,r,X,l,H,q,A)||e!==null&&e.dependencies!==null&&Ro(e.dependencies))?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,A)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),h.props=l,h.state=q,h.context=A,l=X):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),l=!1)}return h=l,Qo(e,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&l?(n.child=or(n,e.child,null,d),n.child=or(n,null,r,d)):$t(e,n,r,d),n.memoizedState=h.state,e=n.child):e=Ds(e,n,d),e}function zg(e,n,r,l){return nr(),n.flags|=256,$t(e,n,r,l),n.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rd(e){return{baseLanes:e,cachePool:Em()}}function Md(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=wn),e}function Lg(e,n,r){var l=n.pendingProps,d=!1,h=(n.flags&128)!==0,v;if((v=h)||(v=e!==null&&e.memoizedState===null?!1:(wt.current&2)!==0),v&&(d=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Le){if(d?ha(n):fa(),(e=rt)?(e=qp(e,Rn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ra!==null?{id:is,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},r=pm(e),r.return=n,n.child=r,Bt=n,rt=null)):e=null,e===null)throw la(n);return ph(e)?n.lanes=32:n.lanes=536870912,null}var S=l.children;return l=l.fallback,d?(fa(),d=n.mode,S=Wo({mode:"hidden",children:S},d),l=tr(l,d,r,null),S.return=n,l.return=n,S.sibling=l,n.child=S,l=n.child,l.memoizedState=Rd(r),l.childLanes=Md(e,v,r),n.memoizedState=Dd,pl(null,l)):(ha(n),Ud(n,S))}var A=e.memoizedState;if(A!==null&&(S=A.dehydrated,S!==null)){if(h)n.flags&256?(ha(n),n.flags&=-257,n=zd(e,n,r)):n.memoizedState!==null?(fa(),n.child=e.child,n.flags|=128,n=null):(fa(),S=l.fallback,d=n.mode,l=Wo({mode:"visible",children:l.children},d),S=tr(S,d,r,null),S.flags|=2,l.return=n,S.return=n,l.sibling=S,n.child=l,or(n,e.child,null,r),l=n.child,l.memoizedState=Rd(r),l.childLanes=Md(e,v,r),n.memoizedState=Dd,n=pl(null,l));else if(ha(n),ph(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(i(419)),l.stack="",l.digest=v,al({value:l,source:null,stack:null}),n=zd(e,n,r)}else if(jt||qr(e,n,r,!1),v=(r&e.childLanes)!==0,jt||v){if(v=We,v!==null&&(l=Pi(v,r),l!==0&&l!==A.retryLane))throw A.retryLane=l,er(e,l),cn(v,e,l),Nd;gh(S)||oc(),n=zd(e,n,r)}else gh(S)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,rt=Un(S.nextSibling),Bt=n,Le=!0,ia=null,Rn=!1,e!==null&&bm(n,e),n=Ud(n,l.children),n.flags|=4096);return n}return d?(fa(),S=l.fallback,d=n.mode,A=e.child,P=A.sibling,l=js(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,P!==null?S=js(P,S):(S=tr(S,d,r,null),S.flags|=2),S.return=n,l.return=n,l.sibling=S,n.child=l,pl(null,l),l=n.child,S=e.child.memoizedState,S===null?S=Rd(r):(d=S.cachePool,d!==null?(A=Tt._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=Em(),S={baseLanes:S.baseLanes|r,cachePool:d}),l.memoizedState=S,l.childLanes=Md(e,v,r),n.memoizedState=Dd,pl(e.child,l)):(ha(n),r=e.child,e=r.sibling,r=js(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=r,n.memoizedState=null,r)}function Ud(e,n){return n=Wo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wo(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function zd(e,n,r){return or(n,e.child,null,r),e=Ud(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Bg(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Zu(e.return,n,r)}function Ld(e,n,r,l,d,h){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:d,treeForkCount:h}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=r,v.tailMode=d,v.treeForkCount=h)}function Vg(e,n,r){var l=n.pendingProps,d=l.revealOrder,h=l.tail;l=l.children;var v=wt.current,S=(v&2)!==0;if(S?(v=v&1|2,n.flags|=128):v&=1,re(wt,v),$t(e,n,l,r),l=Le?sl:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bg(e,r,n);else if(e.tag===19)Bg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(r=n.child,d=null;r!==null;)e=r.alternate,e!==null&&Po(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=n.child,n.child=null):(d=r.sibling,r.sibling=null),Ld(n,!1,d,r,h,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Po(e)===null){n.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}Ld(n,!0,r,null,h,l);break;case"together":Ld(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ds(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),pa|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(qr(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,r=js(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=js(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Bd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ro(e)))}function MS(e,n,r){switch(n.tag){case 3:Ot(n,n.stateNode.containerInfo),oa(n,Tt,e.memoizedState.cache),nr();break;case 27:case 5:Pn(n);break;case 4:Ot(n,n.stateNode.containerInfo);break;case 10:oa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cd(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ha(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Lg(e,n,r):(ha(n),e=Ds(e,n,r),e!==null?e.sibling:null);ha(n);break;case 19:var d=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(qr(e,n,r,!1),l=(r&n.childLanes)!==0),d){if(l)return Vg(e,n,r);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),re(wt,wt.current),l)break;return null;case 22:return n.lanes=0,Og(e,n,r,n.pendingProps);case 24:oa(n,Tt,e.memoizedState.cache)}return Ds(e,n,r)}function $g(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)jt=!0;else{if(!Bd(e,r)&&(n.flags&128)===0)return jt=!1,MS(e,n,r);jt=(e.flags&131072)!==0}else jt=!1,Le&&(n.flags&1048576)!==0&&vm(n,sl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=ir(n.elementType),n.type=e,typeof e=="function")Hu(e)?(l=ur(e,l),n.tag=1,n=Ug(null,n,e,l,r)):(n.tag=0,n=Od(null,n,e,l,r));else{if(e!=null){var d=e.$$typeof;if(d===F){n.tag=11,n=Ag(null,n,e,l,r);break e}else if(d===G){n.tag=14,n=Cg(null,n,e,l,r);break e}}throw n=Qe(e)||e,Error(i(306,n,""))}}return n;case 0:return Od(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,d=ur(l,n.pendingProps),Ug(e,n,l,d,r);case 3:e:{if(Ot(n,n.stateNode.containerInfo),e===null)throw Error(i(387));l=n.pendingProps;var h=n.memoizedState;d=h.element,ad(e,n),dl(n,l,null,r);var v=n.memoizedState;if(l=v.cache,oa(n,Tt,l),l!==h.cache&&Qu(n,[Tt],r,!0),ul(),l=v.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=zg(e,n,l,r);break e}else if(l!==d){d=Nn(Error(i(424)),n),al(d),n=zg(e,n,l,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(rt=Un(e.firstChild),Bt=n,Le=!0,ia=null,Rn=!0,r=Om(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(nr(),l===d){n=Ds(e,n,r);break e}$t(e,n,l,r)}n=n.child}return n;case 26:return Qo(e,n),e===null?(r=Zp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Le||(r=n.type,e=n.pendingProps,l=gc(ke.current).createElement(r),l[xt]=n,l[ht]=e,Pt(l,r,e),Rt(l),n.stateNode=l):n.memoizedState=Zp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Pn(n),e===null&&Le&&(l=n.stateNode=Kp(n.type,n.pendingProps,ke.current),Bt=n,Rn=!0,d=rt,wa(n.type)?(yh=d,rt=Un(l.firstChild)):rt=d),$t(e,n,n.pendingProps.children,r),Qo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Le&&((d=l=rt)&&(l=u_(l,n.type,n.pendingProps,Rn),l!==null?(n.stateNode=l,Bt=n,rt=Un(l.firstChild),Rn=!1,d=!0):d=!1),d||la(n)),Pn(n),d=n.type,h=n.pendingProps,v=e!==null?e.memoizedProps:null,l=h.children,hh(d,h)?l=null:v!==null&&hh(d,v)&&(n.flags|=32),n.memoizedState!==null&&(d=dd(e,n,ES,null,null,r),Ol._currentValue=d),Qo(e,n),$t(e,n,l,r),n.child;case 6:return e===null&&Le&&((e=r=rt)&&(r=d_(r,n.pendingProps,Rn),r!==null?(n.stateNode=r,Bt=n,rt=null,e=!0):e=!1),e||la(n)),null;case 13:return Lg(e,n,r);case 4:return Ot(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=or(n,null,l,r):$t(e,n,l,r),n.child;case 11:return Ag(e,n,n.type,n.pendingProps,r);case 7:return $t(e,n,n.pendingProps,r),n.child;case 8:return $t(e,n,n.pendingProps.children,r),n.child;case 12:return $t(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,oa(n,n.type,l.value),$t(e,n,l.children,r),n.child;case 9:return d=n.type._context,l=n.pendingProps.children,ar(n),d=Vt(d),l=l(d),n.flags|=1,$t(e,n,l,r),n.child;case 14:return Cg(e,n,n.type,n.pendingProps,r);case 15:return Ng(e,n,n.type,n.pendingProps,r);case 19:return Vg(e,n,r);case 31:return RS(e,n,r);case 22:return Og(e,n,r,n.pendingProps);case 24:return ar(n),l=Vt(Tt),e===null?(d=td(),d===null&&(d=We,h=Wu(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=r),d=h),n.memoizedState={parent:l,cache:d},sd(n),oa(n,Tt,d)):((e.lanes&r)!==0&&(ad(e,n),dl(n,null,null,r),ul()),d=e.memoizedState,h=n.memoizedState,d.parent!==l?(d={parent:l,cache:l},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),oa(n,Tt,l)):(l=h.cache,oa(n,Tt,l),l!==d.cache&&Qu(n,[Tt],r,!0))),$t(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Rs(e){e.flags|=4}function Vd(e,n,r,l,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(fp())e.flags|=8192;else throw lr=Lo,nd}else e.flags&=-16777217}function Pg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ny(n))if(fp())e.flags|=8192;else throw lr=Lo,nd}function ec(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ar():536870912,e.lanes|=n,si|=n)}function yl(e,n){if(!Le)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function it(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function US(e,n,r){var l=n.pendingProps;switch(Yu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Cs(Tt),at(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fr(n)?Rs(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xu())),it(n),null;case 26:var d=n.type,h=n.memoizedState;return e===null?(Rs(n),h!==null?(it(n),Pg(n,h)):(it(n),Vd(n,d,null,l,r))):h?h!==e.memoizedState?(Rs(n),it(n),Pg(n,h)):(it(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Rs(n),it(n),Vd(n,d,e,l,r)),null;case 27:if(fs(n),r=ke.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Rs(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return it(n),null}e=he.current,Fr(n)?xm(n):(e=Kp(d,l,r),n.stateNode=e,Rs(n))}return it(n),null;case 5:if(fs(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Rs(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return it(n),null}if(h=he.current,Fr(n))xm(n);else{var v=gc(ke.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}h[xt]=n,h[ht]=l;e:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=h;e:switch(Pt(h,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Rs(n)}}return it(n),Vd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Rs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(e=ke.current,Fr(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,d=Bt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}e[xt]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Lp(e.nodeValue,r)),e||la(n,!0)}else e=gc(e).createTextNode(l),e[xt]=n,n.stateNode=e}return it(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=Fr(n),r!==null){if(e===null){if(!l)throw Error(i(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[xt]=n}else nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),e=!1}else r=Xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(i(558))}return it(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Fr(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(i(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[xt]=n}else nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),d=!1}else d=Xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==d&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),ec(n,n.updateQueue),it(n),null);case 4:return at(),e===null&&lh(n.stateNode.containerInfo),it(n),null;case 10:return Cs(n.type),it(n),null;case 19:if(te(wt),l=n.memoizedState,l===null)return it(n),null;if(d=(n.flags&128)!==0,h=l.rendering,h===null)if(d)yl(l,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Po(e),h!==null){for(n.flags|=128,yl(l,!1),e=h.updateQueue,n.updateQueue=e,ec(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)gm(r,e),r=r.sibling;return re(wt,wt.current&1|2),Le&&ks(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&qt()>rc&&(n.flags|=128,d=!0,yl(l,!1),n.lanes=4194304)}else{if(!d)if(e=Po(h),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,ec(n,e),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Le)return it(n),null}else 2*qt()-l.renderingStartTime>rc&&r!==536870912&&(n.flags|=128,d=!0,yl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(e=l.last,e!==null?e.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=qt(),e.sibling=null,r=wt.current,re(wt,d?r&1|2:r&1),Le&&ks(n,l.treeForkCount),e):(it(n),null);case 22:case 23:return bn(n),od(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),r=n.updateQueue,r!==null&&ec(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&te(rr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Cs(Tt),it(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function zS(e,n){switch(Yu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Cs(Tt),at(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return fs(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(i(340));nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return te(wt),null;case 4:return at(),null;case 10:return Cs(n.type),null;case 22:case 23:return bn(n),od(),e!==null&&te(rr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Cs(Tt),null;case 25:return null;default:return null}}function Ig(e,n){switch(Yu(n),n.tag){case 3:Cs(Tt),at();break;case 26:case 27:case 5:fs(n);break;case 4:at();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:te(wt);break;case 10:Cs(n.type);break;case 22:case 23:bn(n),od(),e!==null&&te(rr);break;case 24:Cs(Tt)}}function vl(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var d=l.next;r=d;do{if((r.tag&e)===e){l=void 0;var h=r.create,v=r.inst;l=h(),v.destroy=l}r=r.next}while(r!==d)}}catch(S){Ke(n,n.return,S)}}function ma(e,n,r){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var h=d.next;l=h;do{if((l.tag&e)===e){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=n;var A=r,P=S;try{P()}catch(X){Ke(d,A,X)}}}l=l.next}while(l!==h)}}catch(X){Ke(n,n.return,X)}}function Hg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Rm(n,r)}catch(l){Ke(e,e.return,l)}}}function Fg(e,n,r){r.props=ur(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Ke(e,n,l)}}function bl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(d){Ke(e,n,d)}}function os(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(d){Ke(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Ke(e,n,d)}else r.current=null}function qg(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(d){Ke(e,e.return,d)}}function $d(e,n,r){try{var l=e.stateNode;a_(l,e.type,r,n),l[ht]=n}catch(d){Ke(e,e.return,d)}}function Gg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&wa(e.type)||e.tag===4}function Pd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&wa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Id(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=mn));else if(l!==4&&(l===27&&wa(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Id(e,n,r),e=e.sibling;e!==null;)Id(e,n,r),e=e.sibling}function tc(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&wa(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(tc(e,n,r),e=e.sibling;e!==null;)tc(e,n,r),e=e.sibling}function Yg(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Pt(n,l,r),n[xt]=e,n[ht]=r}catch(h){Ke(e,e.return,h)}}var Ms=!1,kt=!1,Hd=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function LS(e,n){if(e=e.containerInfo,uh=Sc,e=im(e),zu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var d=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var v=0,S=-1,A=-1,P=0,X=0,W=e,H=null;t:for(;;){for(var q;W!==r||d!==0&&W.nodeType!==3||(S=v+d),W!==h||l!==0&&W.nodeType!==3||(A=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(q=W.firstChild)!==null;)H=W,W=q;for(;;){if(W===e)break t;if(H===r&&++P===d&&(S=v),H===h&&++X===l&&(A=v),(q=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=q}r=S===-1||A===-1?null:{start:S,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(dh={focusedElem:e,selectionRange:r},Sc=!1,Lt=n;Lt!==null;)if(n=Lt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Lt=e;else for(;Lt!==null;){switch(n=Lt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)d=e[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,r=n,d=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var ce=ur(r.type,d);e=l.getSnapshotBeforeUpdate(ce,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(ve){Ke(r,r.return,ve)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)mh(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,Lt=e;break}Lt=n.return}}function Xg(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:zs(e,r),l&4&&vl(5,r);break;case 1:if(zs(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(v){Ke(r,r.return,v)}else{var d=ur(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Ke(r,r.return,v)}}l&64&&Hg(r),l&512&&bl(r,r.return);break;case 3:if(zs(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Rm(e,n)}catch(v){Ke(r,r.return,v)}}break;case 27:n===null&&l&4&&Yg(r);case 26:case 5:zs(e,r),n===null&&l&4&&qg(r),l&512&&bl(r,r.return);break;case 12:zs(e,r);break;case 31:zs(e,r),l&4&&Qg(e,r);break;case 13:zs(e,r),l&4&&Wg(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=GS.bind(null,r),h_(e,r))));break;case 22:if(l=r.memoizedState!==null||Ms,!l){n=n!==null&&n.memoizedState!==null||kt,d=Ms;var h=kt;Ms=l,(kt=n)&&!h?Ls(e,r,(r.subtreeFlags&8772)!==0):zs(e,r),Ms=d,kt=h}break;case 30:break;default:zs(e,r)}}function Jg(e){var n=e.alternate;n!==null&&(e.alternate=null,Jg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Nr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lt=null,an=!1;function Us(e,n,r){for(r=r.child;r!==null;)Zg(e,n,r),r=r.sibling}function Zg(e,n,r){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(za,r)}catch{}switch(r.tag){case 26:kt||os(r,n),Us(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:kt||os(r,n);var l=lt,d=an;wa(r.type)&&(lt=r.stateNode,an=!1),Us(e,n,r),Al(r.stateNode),lt=l,an=d;break;case 5:kt||os(r,n);case 6:if(l=lt,d=an,lt=null,Us(e,n,r),lt=l,an=d,lt!==null)if(an)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(r.stateNode)}catch(h){Ke(r,n,h)}else try{lt.removeChild(r.stateNode)}catch(h){Ke(r,n,h)}break;case 18:lt!==null&&(an?(e=lt,Hp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),di(e)):Hp(lt,r.stateNode));break;case 4:l=lt,d=an,lt=r.stateNode.containerInfo,an=!0,Us(e,n,r),lt=l,an=d;break;case 0:case 11:case 14:case 15:ma(2,r,n),kt||ma(4,r,n),Us(e,n,r);break;case 1:kt||(os(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Fg(r,n,l)),Us(e,n,r);break;case 21:Us(e,n,r);break;case 22:kt=(l=kt)||r.memoizedState!==null,Us(e,n,r),kt=l;break;default:Us(e,n,r)}}function Qg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{di(e)}catch(r){Ke(n,n.return,r)}}}function Wg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{di(e)}catch(r){Ke(n,n.return,r)}}function BS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Kg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Kg),n;default:throw Error(i(435,e.tag))}}function nc(e,n){var r=BS(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var d=YS.bind(null,e,l);l.then(d,d)}})}function rn(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var d=r[l],h=e,v=n,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(wa(S.type)){lt=S.stateNode,an=!1;break e}break;case 5:lt=S.stateNode,an=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,an=!0;break e}S=S.return}if(lt===null)throw Error(i(160));Zg(h,v,d),lt=null,an=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ep(n,e),n=n.sibling}var qn=null;function ep(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),ln(e),l&4&&(ma(3,e,e.return),vl(3,e),ma(5,e,e.return));break;case 1:rn(n,e),ln(e),l&512&&(kt||r===null||os(r,r.return)),l&64&&Ms&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var d=qn;if(rn(n,e),ln(e),l&512&&(kt||r===null||os(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":h=d.getElementsByTagName("title")[0],(!h||h[nn]||h[xt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(l),d.head.insertBefore(h,d.querySelector("head > title"))),Pt(h,l,r),h[xt]=e,Rt(h),l=h;break e;case"link":var v=ey("link","href",d).get(l+(r.href||""));if(v){for(var S=0;S<v.length;S++)if(h=v[S],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(S,1);break t}}h=d.createElement(l),Pt(h,l,r),d.head.appendChild(h);break;case"meta":if(v=ey("meta","content",d).get(l+(r.content||""))){for(S=0;S<v.length;S++)if(h=v[S],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(S,1);break t}}h=d.createElement(l),Pt(h,l,r),d.head.appendChild(h);break;default:throw Error(i(468,l))}h[xt]=e,Rt(h),l=h}e.stateNode=l}else ty(d,e.type,e.stateNode);else e.stateNode=Wp(d,l,e.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?ty(d,e.type,e.stateNode):Wp(d,l,e.memoizedProps)):l===null&&e.stateNode!==null&&$d(e,e.memoizedProps,r.memoizedProps)}break;case 27:rn(n,e),ln(e),l&512&&(kt||r===null||os(r,r.return)),r!==null&&l&4&&$d(e,e.memoizedProps,r.memoizedProps);break;case 5:if(rn(n,e),ln(e),l&512&&(kt||r===null||os(r,r.return)),e.flags&32){d=e.stateNode;try{sa(d,"")}catch(ce){Ke(e,e.return,ce)}}l&4&&e.stateNode!=null&&(d=e.memoizedProps,$d(e,d,r!==null?r.memoizedProps:d)),l&1024&&(Hd=!0);break;case 6:if(rn(n,e),ln(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(ce){Ke(e,e.return,ce)}}break;case 3:if(vc=null,d=qn,qn=pc(n.containerInfo),rn(n,e),qn=d,ln(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{di(n.containerInfo)}catch(ce){Ke(e,e.return,ce)}Hd&&(Hd=!1,tp(e));break;case 4:l=qn,qn=pc(e.stateNode.containerInfo),rn(n,e),ln(e),qn=l;break;case 12:rn(n,e),ln(e);break;case 31:rn(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,nc(e,l)));break;case 13:rn(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ac=qt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,nc(e,l)));break;case 22:d=e.memoizedState!==null;var A=r!==null&&r.memoizedState!==null,P=Ms,X=kt;if(Ms=P||d,kt=X||A,rn(n,e),kt=X,Ms=P,ln(e),l&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(r===null||A||Ms||kt||dr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){A=r=n;try{if(h=A.stateNode,d)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=A.stateNode;var W=A.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ce){Ke(A,A.return,ce)}}}else if(n.tag===6){if(r===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(ce){Ke(A,A.return,ce)}}}else if(n.tag===18){if(r===null){A=n;try{var q=A.stateNode;d?Fp(q,!0):Fp(A.stateNode,!1)}catch(ce){Ke(A,A.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,nc(e,r))));break;case 19:rn(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,nc(e,l)));break;case 30:break;case 21:break;default:rn(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(Gg(l)){r=l;break}l=l.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var d=r.stateNode,h=Pd(e);tc(e,h,d);break;case 5:var v=r.stateNode;r.flags&32&&(sa(v,""),r.flags&=-33);var S=Pd(e);tc(e,S,v);break;case 3:case 4:var A=r.stateNode.containerInfo,P=Pd(e);Id(e,P,A);break;default:throw Error(i(161))}}catch(X){Ke(e,e.return,X)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function tp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function zs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(e,n.alternate,n),n=n.sibling}function dr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ma(4,n,n.return),dr(n);break;case 1:os(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Fg(n,n.return,r),dr(n);break;case 27:Al(n.stateNode);case 26:case 5:os(n,n.return),dr(n);break;case 22:n.memoizedState===null&&dr(n);break;case 30:dr(n);break;default:dr(n)}e=e.sibling}}function Ls(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,d=e,h=n,v=h.flags;switch(h.tag){case 0:case 11:case 15:Ls(d,h,r),vl(4,h);break;case 1:if(Ls(d,h,r),l=h,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(P){Ke(l,l.return,P)}if(l=h,d=l.updateQueue,d!==null){var S=l.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Dm(A[d],S)}catch(P){Ke(l,l.return,P)}}r&&v&64&&Hg(h),bl(h,h.return);break;case 27:Yg(h);case 26:case 5:Ls(d,h,r),r&&l===null&&v&4&&qg(h),bl(h,h.return);break;case 12:Ls(d,h,r);break;case 31:Ls(d,h,r),r&&v&4&&Qg(d,h);break;case 13:Ls(d,h,r),r&&v&4&&Wg(d,h);break;case 22:h.memoizedState===null&&Ls(d,h,r),bl(h,h.return);break;case 30:break;default:Ls(d,h,r)}n=n.sibling}}function Fd(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&rl(r))}function qd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&rl(e))}function Gn(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)np(e,n,r,l),n=n.sibling}function np(e,n,r,l){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(e,n,r,l),d&2048&&vl(9,n);break;case 1:Gn(e,n,r,l);break;case 3:Gn(e,n,r,l),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&rl(e)));break;case 12:if(d&2048){Gn(e,n,r,l),e=n.stateNode;try{var h=n.memoizedProps,v=h.id,S=h.onPostCommit;typeof S=="function"&&S(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ke(n,n.return,A)}}else Gn(e,n,r,l);break;case 31:Gn(e,n,r,l);break;case 13:Gn(e,n,r,l);break;case 23:break;case 22:h=n.stateNode,v=n.alternate,n.memoizedState!==null?h._visibility&2?Gn(e,n,r,l):xl(e,n):h._visibility&2?Gn(e,n,r,l):(h._visibility|=2,ei(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Fd(v,n);break;case 24:Gn(e,n,r,l),d&2048&&qd(n.alternate,n);break;default:Gn(e,n,r,l)}}function ei(e,n,r,l,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,v=n,S=r,A=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:ei(h,v,S,A,d),vl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?ei(h,v,S,A,d):xl(h,v):(X._visibility|=2,ei(h,v,S,A,d)),d&&P&2048&&Fd(v.alternate,v);break;case 24:ei(h,v,S,A,d),d&&P&2048&&qd(v.alternate,v);break;default:ei(h,v,S,A,d)}n=n.sibling}}function xl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,d=l.flags;switch(l.tag){case 22:xl(r,l),d&2048&&Fd(l.alternate,l);break;case 24:xl(r,l),d&2048&&qd(l.alternate,l);break;default:xl(r,l)}n=n.sibling}}var wl=8192;function ti(e,n,r){if(e.subtreeFlags&wl)for(e=e.child;e!==null;)sp(e,n,r),e=e.sibling}function sp(e,n,r){switch(e.tag){case 26:ti(e,n,r),e.flags&wl&&e.memoizedState!==null&&T_(r,qn,e.memoizedState,e.memoizedProps);break;case 5:ti(e,n,r);break;case 3:case 4:var l=qn;qn=pc(e.stateNode.containerInfo),ti(e,n,r),qn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=wl,wl=16777216,ti(e,n,r),wl=l):ti(e,n,r));break;default:ti(e,n,r)}}function ap(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Lt=l,ip(l,e)}ap(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rp(e),e=e.sibling}function rp(e){switch(e.tag){case 0:case 11:case 15:Sl(e),e.flags&2048&&ma(9,e,e.return);break;case 3:Sl(e);break;case 12:Sl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sc(e)):Sl(e);break;default:Sl(e)}}function sc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Lt=l,ip(l,e)}ap(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ma(8,n,n.return),sc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,sc(n));break;default:sc(n)}e=e.sibling}}function ip(e,n){for(;Lt!==null;){var r=Lt;switch(r.tag){case 0:case 11:case 15:ma(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Lt=l;else e:for(r=e;Lt!==null;){l=Lt;var d=l.sibling,h=l.return;if(Jg(l),l===r){Lt=null;break e}if(d!==null){d.return=h,Lt=d;break e}Lt=h}}}var VS={getCacheForType:function(e){var n=Vt(Tt),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Vt(Tt).controller.signal}},$S=typeof WeakMap=="function"?WeakMap:Map,Fe=0,We=null,Ne=null,De=0,Ye=0,xn=null,ga=!1,ni=!1,Gd=!1,Bs=0,pt=0,pa=0,hr=0,Yd=0,wn=0,si=0,_l=null,on=null,Kd=!1,ac=0,lp=0,rc=1/0,ic=null,ya=null,Ut=0,va=null,ai=null,Vs=0,Xd=0,Jd=null,op=null,Tl=0,Zd=null;function Sn(){return(Fe&2)!==0&&De!==0?De&-De:Y.T!==null?sh():Cr()}function cp(){if(wn===0)if((De&536870912)===0||Le){var e=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),wn=e}else wn=536870912;return e=vn.current,e!==null&&(e.flags|=32),wn}function cn(e,n,r){(e===We&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)&&(ri(e,0),ba(e,De,wn,!1)),Qs(e,r),((Fe&2)===0||e!==We)&&(e===We&&((Fe&2)===0&&(hr|=r),pt===4&&ba(e,De,wn,!1)),cs(e))}function up(e,n,r){if((Fe&6)!==0)throw Error(i(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),d=l?HS(e,n):Wd(e,n,!0),h=l;do{if(d===0){ni&&!l&&ba(e,n,0,!1);break}else{if(r=e.current.alternate,h&&!PS(r)){d=Wd(e,n,!1),h=!1;continue}if(d===2){if(h=n,e.errorRecoveryDisabledLanes&h)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var S=e;d=_l;var A=S.current.memoizedState.isDehydrated;if(A&&(ri(S,v).flags|=256),v=Wd(S,v,!1),v!==2){if(Gd&&!A){S.errorRecoveryDisabledLanes|=h,hr|=h,d=4;break e}h=on,on=d,h!==null&&(on===null?on=h:on.push.apply(on,h))}d=v}if(h=!1,d!==2)continue}}if(d===1){ri(e,0),ba(e,n,0,!0);break}e:{switch(l=e,h=d,h){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:ba(l,n,wn,!ga);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(d=ac+300-qt(),10<d)){if(ba(l,n,wn,!ga),Zs(l,0,!0)!==0)break e;Vs=n,l.timeoutHandle=Pp(dp.bind(null,l,r,on,ic,Kd,n,wn,hr,si,ga,h,"Throttled",-0,0),d);break e}dp(l,r,on,ic,Kd,n,wn,hr,si,ga,h,null,-0,0)}}break}while(!0);cs(e)}function dp(e,n,r,l,d,h,v,S,A,P,X,W,H,q){if(e.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},sp(n,h,W);var ce=(h&62914560)===h?ac-qt():(h&4194048)===h?lp-qt():0;if(ce=E_(W,ce),ce!==null){Vs=h,e.cancelPendingCommit=ce(bp.bind(null,e,n,h,r,l,d,v,S,A,X,W,null,H,q)),ba(e,h,v,!P);return}}bp(e,n,h,r,l,d,v,S,A)}function PS(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var d=r[l],h=d.getSnapshot;d=d.value;try{if(!pn(h(),d))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ba(e,n,r,l){n&=~Yd,n&=~hr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var d=n;0<d;){var h=31-Ve(d),v=1<<h;l[h]=-1,d&=~v}r!==0&&kn(e,r,n)}function lc(){return(Fe&6)===0?(El(0),!1):!0}function Qd(){if(Ne!==null){if(Ye===0)var e=Ne.return;else e=Ne,As=sr=null,md(e),Xr=null,ll=0,e=Ne;for(;e!==null;)Ig(e.alternate,e),e=e.return;Ne=null}}function ri(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,l_(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Vs=0,Qd(),We=e,Ne=r=js(e.current,null),De=n,Ye=0,xn=null,ga=!1,ni=jn(e,n),Gd=!1,si=wn=Yd=hr=pa=pt=0,on=_l=null,Kd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var d=31-Ve(l),h=1<<d;n|=e[d],l&=~h}return Bs=n,Ao(),r}function hp(e,n){Ee=null,Y.H=gl,n===Kr||n===zo?(n=Am(),Ye=3):n===nd?(n=Am(),Ye=4):Ye=n===Nd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Ne===null&&(pt=1,Jo(e,Nn(n,e.current)))}function fp(){var e=vn.current;return e===null?!0:(De&4194048)===De?Mn===null:(De&62914560)===De||(De&536870912)!==0?e===Mn:!1}function mp(){var e=Y.H;return Y.H=gl,e===null?gl:e}function gp(){var e=Y.A;return Y.A=VS,e}function oc(){pt=4,ga||(De&4194048)!==De&&vn.current!==null||(ni=!0),(pa&134217727)===0&&(hr&134217727)===0||We===null||ba(We,De,wn,!1)}function Wd(e,n,r){var l=Fe;Fe|=2;var d=mp(),h=gp();(We!==e||De!==n)&&(ic=null,ri(e,n)),n=!1;var v=pt;e:do try{if(Ye!==0&&Ne!==null){var S=Ne,A=xn;switch(Ye){case 8:Qd(),v=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var P=Ye;if(Ye=0,xn=null,ii(e,S,A,P),r&&ni){v=0;break e}break;default:P=Ye,Ye=0,xn=null,ii(e,S,A,P)}}IS(),v=pt;break}catch(X){hp(e,X)}while(!0);return n&&e.shellSuspendCounter++,As=sr=null,Fe=l,Y.H=d,Y.A=h,Ne===null&&(We=null,De=0,Ao()),v}function IS(){for(;Ne!==null;)pp(Ne)}function HS(e,n){var r=Fe;Fe|=2;var l=mp(),d=gp();We!==e||De!==n?(ic=null,rc=qt()+500,ri(e,n)):ni=jn(e,n);e:do try{if(Ye!==0&&Ne!==null){n=Ne;var h=xn;t:switch(Ye){case 1:Ye=0,xn=null,ii(e,n,h,1);break;case 2:case 9:if(jm(h)){Ye=0,xn=null,yp(n);break}n=function(){Ye!==2&&Ye!==9||We!==e||(Ye=7),cs(e)},h.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:jm(h)?(Ye=0,xn=null,yp(n)):(Ye=0,xn=null,ii(e,n,h,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var S=Ne;if(v?ny(v):S.stateNode.complete){Ye=0,xn=null;var A=S.sibling;if(A!==null)Ne=A;else{var P=S.return;P!==null?(Ne=P,cc(P)):Ne=null}break t}}Ye=0,xn=null,ii(e,n,h,5);break;case 6:Ye=0,xn=null,ii(e,n,h,6);break;case 8:Qd(),pt=6;break e;default:throw Error(i(462))}}FS();break}catch(X){hp(e,X)}while(!0);return As=sr=null,Y.H=l,Y.A=d,Fe=r,Ne!==null?0:(We=null,De=0,Ao(),pt)}function FS(){for(;Ne!==null&&!Ma();)pp(Ne)}function pp(e){var n=$g(e.alternate,e,Bs);e.memoizedProps=e.pendingProps,n===null?cc(e):Ne=n}function yp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Mg(r,n,n.pendingProps,n.type,void 0,De);break;case 11:n=Mg(r,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:md(n);default:Ig(r,n),n=Ne=gm(n,Bs),n=$g(r,n,Bs)}e.memoizedProps=e.pendingProps,n===null?cc(e):Ne=n}function ii(e,n,r,l){As=sr=null,md(n),Xr=null,ll=0;var d=n.return;try{if(DS(e,d,n,r,De)){pt=1,Jo(e,Nn(r,e.current)),Ne=null;return}}catch(h){if(d!==null)throw Ne=d,h;pt=1,Jo(e,Nn(r,e.current)),Ne=null;return}n.flags&32768?(Le||l===1?e=!0:ni||(De&536870912)!==0?e=!1:(ga=e=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vp(n,e)):cc(n)}function cc(e){var n=e;do{if((n.flags&32768)!==0){vp(n,ga);return}e=n.return;var r=US(n.alternate,n,Bs);if(r!==null){Ne=r;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=e}while(n!==null);pt===0&&(pt=5)}function vp(e,n){do{var r=zS(e.alternate,e);if(r!==null){r.flags&=32767,Ne=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=r}while(e!==null);pt=6,Ne=null}function bp(e,n,r,l,d,h,v,S,A){e.cancelPendingCommit=null;do uc();while(Ut!==0);if((Fe&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(h=n.lanes|n.childLanes,h|=Pu,go(e,r,h,v,S,A),e===We&&(Ne=We=null,De=0),ai=n,va=e,Vs=r,Xd=h,Jd=d,op=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,KS(gs,function(){return Tp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,d=K.p,K.p=2,v=Fe,Fe|=4;try{LS(e,n,r)}finally{Fe=v,K.p=d,Y.T=l}}Ut=1,xp(),wp(),Sp()}}function xp(){if(Ut===1){Ut=0;var e=va,n=ai,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Y.T,Y.T=null;var l=K.p;K.p=2;var d=Fe;Fe|=4;try{ep(n,e);var h=dh,v=im(e.containerInfo),S=h.focusedElem,A=h.selectionRange;if(v!==S&&S&&S.ownerDocument&&rm(S.ownerDocument.documentElement,S)){if(A!==null&&zu(S)){var P=A.start,X=A.end;if(X===void 0&&(X=P),"selectionStart"in S)S.selectionStart=P,S.selectionEnd=Math.min(X,S.value.length);else{var W=S.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var q=H.getSelection(),ce=S.textContent.length,ve=Math.min(A.start,ce),Ze=A.end===void 0?ve:Math.min(A.end,ce);!q.extend&&ve>Ze&&(v=Ze,Ze=ve,ve=v);var z=am(S,ve),R=am(S,Ze);if(z&&R&&(q.rangeCount!==1||q.anchorNode!==z.node||q.anchorOffset!==z.offset||q.focusNode!==R.node||q.focusOffset!==R.offset)){var $=W.createRange();$.setStart(z.node,z.offset),q.removeAllRanges(),ve>Ze?(q.addRange($),q.extend(R.node,R.offset)):($.setEnd(R.node,R.offset),q.addRange($))}}}}for(W=[],q=S;q=q.parentNode;)q.nodeType===1&&W.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var Q=W[S];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Sc=!!uh,dh=uh=null}finally{Fe=d,K.p=l,Y.T=r}}e.current=n,Ut=2}}function wp(){if(Ut===2){Ut=0;var e=va,n=ai,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Y.T,Y.T=null;var l=K.p;K.p=2;var d=Fe;Fe|=4;try{Xg(e,n.alternate,n)}finally{Fe=d,K.p=l,Y.T=r}}Ut=3}}function Sp(){if(Ut===4||Ut===3){Ut=0,Xs();var e=va,n=ai,r=Vs,l=op;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ut=5:(Ut=0,ai=va=null,_p(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(ya=null),Ws(r),n=n.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(za,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,d=K.p,K.p=2,Y.T=null;try{for(var h=e.onRecoverableError,v=0;v<l.length;v++){var S=l[v];h(S.value,{componentStack:S.stack})}}finally{Y.T=n,K.p=d}}(Vs&3)!==0&&uc(),cs(e),d=e.pendingLanes,(r&261930)!==0&&(d&42)!==0?e===Zd?Tl++:(Tl=0,Zd=e):Tl=0,El(0)}}function _p(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,rl(n)))}function uc(){return xp(),wp(),Sp(),Tp()}function Tp(){if(Ut!==5)return!1;var e=va,n=Xd;Xd=0;var r=Ws(Vs),l=Y.T,d=K.p;try{K.p=32>r?32:r,Y.T=null,r=Jd,Jd=null;var h=va,v=Vs;if(Ut=0,ai=va=null,Vs=0,(Fe&6)!==0)throw Error(i(331));var S=Fe;if(Fe|=4,rp(h.current),np(h,h.current,v,r),Fe=S,El(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(za,h)}catch{}return!0}finally{K.p=d,Y.T=l,_p(e,n)}}function Ep(e,n,r){n=Nn(r,n),n=Cd(e.stateNode,n,2),e=da(e,n,2),e!==null&&(Qs(e,2),cs(e))}function Ke(e,n,r){if(e.tag===3)Ep(e,e,r);else for(;n!==null;){if(n.tag===3){Ep(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ya===null||!ya.has(l))){e=Nn(r,e),r=jg(2),l=da(n,r,2),l!==null&&(kg(r,l,n,e),Qs(l,2),cs(l));break}}n=n.return}}function eh(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new $S;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(r)||(Gd=!0,d.add(r),e=qS.bind(null,e,n,r),n.then(e,e))}function qS(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,We===e&&(De&r)===r&&(pt===4||pt===3&&(De&62914560)===De&&300>qt()-ac?(Fe&2)===0&&ri(e,0):Yd|=r,si===De&&(si=0)),cs(e)}function jp(e,n){n===0&&(n=Ar()),e=er(e,n),e!==null&&(Qs(e,n),cs(e))}function GS(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),jp(e,r)}function YS(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(n),jp(e,r)}function KS(e,n){return Wn(e,n)}var dc=null,li=null,th=!1,hc=!1,nh=!1,xa=0;function cs(e){e!==li&&e.next===null&&(li===null?dc=li=e:li=li.next=e),hc=!0,th||(th=!0,JS())}function El(e,n){if(!nh&&hc){nh=!0;do for(var r=!1,l=dc;l!==null;){if(e!==0){var d=l.pendingLanes;if(d===0)var h=0;else{var v=l.suspendedLanes,S=l.pingedLanes;h=(1<<31-Ve(42|e)+1)-1,h&=d&~(v&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,Np(l,h))}else h=De,h=Zs(l,l===We?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||jn(l,h)||(r=!0,Np(l,h));l=l.next}while(r);nh=!1}}function XS(){kp()}function kp(){hc=th=!1;var e=0;xa!==0&&i_()&&(e=xa);for(var n=qt(),r=null,l=dc;l!==null;){var d=l.next,h=Ap(l,n);h===0?(l.next=null,r===null?dc=d:r.next=d,d===null&&(li=r)):(r=l,(e!==0||(h&3)!==0)&&(hc=!0)),l=d}Ut!==0&&Ut!==5||El(e),xa!==0&&(xa=0)}function Ap(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var v=31-Ve(h),S=1<<v,A=d[v];A===-1?((S&r)===0||(S&l)!==0)&&(d[v]=Au(S,n)):A<=n&&(e.expiredLanes|=S),h&=~S}if(n=We,r=De,r=Zs(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ms(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||jn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&ms(l),Ws(r)){case 2:case 8:r=vt;break;case 32:r=gs;break;case 268435456:r=$i;break;default:r=gs}return l=Cp.bind(null,e),r=Wn(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&ms(l),e.callbackPriority=2,e.callbackNode=null,2}function Cp(e,n){if(Ut!==0&&Ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(uc()&&e.callbackNode!==r)return null;var l=De;return l=Zs(e,e===We?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(up(e,l,n),Ap(e,qt()),e.callbackNode!=null&&e.callbackNode===r?Cp.bind(null,e):null)}function Np(e,n){if(uc())return null;up(e,n,!0)}function JS(){o_(function(){(Fe&6)!==0?Wn(Ua,XS):kp()})}function sh(){if(xa===0){var e=Gr;e===0&&(e=dt,dt<<=1,(dt&261888)===0&&(dt=256)),xa=e}return xa}function Op(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fa(""+e)}function Dp(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function ZS(e,n,r,l,d){if(n==="submit"&&r&&r.stateNode===d){var h=Op((d[ht]||null).action),v=l.submitter;v&&(n=(n=v[ht]||null)?Op(n.formAction):v.getAttribute("formAction"),n!==null&&(h=n,v=null));var S=new x("action","action",null,l,d);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xa!==0){var A=v?Dp(d,v):new FormData(d);_d(r,{pending:!0,data:A,method:d.method,action:h},null,A)}}else typeof h=="function"&&(S.preventDefault(),A=v?Dp(d,v):new FormData(d),_d(r,{pending:!0,data:A,method:d.method,action:h},h,A))},currentTarget:d}]})}}for(var ah=0;ah<$u.length;ah++){var rh=$u[ah],QS=rh.toLowerCase(),WS=rh[0].toUpperCase()+rh.slice(1);Fn(QS,"on"+WS)}Fn(cm,"onAnimationEnd"),Fn(um,"onAnimationIteration"),Fn(dm,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(gS,"onTransitionRun"),Fn(pS,"onTransitionStart"),Fn(yS,"onTransitionCancel"),Fn(hm,"onTransitionEnd"),Gt("onMouseEnter",["mouseout","mouseover"]),Gt("onMouseLeave",["mouseout","mouseover"]),Gt("onPointerEnter",["pointerout","pointerover"]),Gt("onPointerLeave",["pointerout","pointerover"]),Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Rp(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],d=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var v=l.length-1;0<=v;v--){var S=l[v],A=S.instance,P=S.currentTarget;if(S=S.listener,A!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=P;try{h(d)}catch(X){ko(X)}d.currentTarget=null,h=A}else for(v=0;v<l.length;v++){if(S=l[v],A=S.instance,P=S.currentTarget,S=S.listener,A!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=P;try{h(d)}catch(X){ko(X)}d.currentTarget=null,h=A}}}}function Oe(e,n){var r=n[$a];r===void 0&&(r=n[$a]=new Set);var l=e+"__bubble";r.has(l)||(Mp(n,e,2,!1),r.add(l))}function ih(e,n,r){var l=0;n&&(l|=4),Mp(r,e,l,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function lh(e){if(!e[fc]){e[fc]=!0,Cu.forEach(function(r){r!=="selectionchange"&&(e_.has(r)||ih(r,!1,e),ih(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,ih("selectionchange",!1,n))}}function Mp(e,n,r,l){switch(cy(n)){case 2:var d=A_;break;case 8:d=C_;break;default:d=Sh}r=d.bind(null,n,r,e),d=void 0,!Ya||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,r,{capture:!0,passive:d}):e.addEventListener(n,r,!0):d!==void 0?e.addEventListener(n,r,{passive:d}):e.addEventListener(n,r,!1)}function oh(e,n,r,l,d){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=l.return;v!==null;){var A=v.tag;if((A===3||A===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=es(S),v===null)return;if(A=v.tag,A===5||A===6||A===26||A===27){l=h=v;continue e}S=S.parentNode}}l=l.return}To(function(){var P=h,X=qa(r),W=[];e:{var H=fm.get(e);if(H!==void 0){var q=x,ce=e;switch(e){case"keypress":if(Ka(r)===0)break e;case"keydown":case"keyup":q=Yw;break;case"focusin":ce="focus",q=ne;break;case"focusout":ce="blur",q=ne;break;case"beforeblur":case"afterblur":q=ne;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=fe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Te;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Jw;break;case cm:case um:case dm:q=ze;break;case hm:q=Qw;break;case"scroll":case"scrollend":q=C;break;case"wheel":q=eS;break;case"copy":case"cut":case"paste":q=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=F0;break;case"toggle":case"beforetoggle":q=nS}var ve=(n&4)!==0,Ze=!ve&&(e==="scroll"||e==="scrollend"),z=ve?H!==null?H+"Capture":null:H;ve=[];for(var R=P,$;R!==null;){var Q=R;if($=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||$===null||z===null||(Q=Ga(R,z),Q!=null&&ve.push(kl(R,Q,$))),Ze)break;R=R.return}0<ve.length&&(H=new q(H,ce,null,r,X),W.push({event:H,listeners:ve}))}}if((n&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",H&&r!==Ki&&(ce=r.relatedTarget||r.fromElement)&&(es(ce)||ce[vs]))break e;if((q||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,q?(ce=r.relatedTarget||r.toElement,q=P,ce=ce?es(ce):null,ce!==null&&(Ze=c(ce),ve=ce.tag,ce!==Ze||ve!==5&&ve!==27&&ve!==6)&&(ce=null)):(q=null,ce=P),q!==ce)){if(ve=fe,Q="onMouseLeave",z="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ve=F0,Q="onPointerLeave",z="onPointerEnter",R="pointer"),Ze=q==null?H:xs(q),$=ce==null?H:xs(ce),H=new ve(Q,R+"leave",q,r,X),H.target=Ze,H.relatedTarget=$,Q=null,es(X)===P&&(ve=new ve(z,R+"enter",ce,r,X),ve.target=$,ve.relatedTarget=Ze,Q=ve),Ze=Q,q&&ce)t:{for(ve=t_,z=q,R=ce,$=0,Q=z;Q;Q=ve(Q))$++;Q=0;for(var pe=R;pe;pe=ve(pe))Q++;for(;0<$-Q;)z=ve(z),$--;for(;0<Q-$;)R=ve(R),Q--;for(;$--;){if(z===R||R!==null&&z===R.alternate){ve=z;break t}z=ve(z),R=ve(R)}ve=null}else ve=null;q!==null&&Up(W,H,q,ve,!1),ce!==null&&Ze!==null&&Up(W,Ze,ce,ve,!0)}}e:{if(H=P?xs(P):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var Ie=Q0;else if(J0(H))if(W0)Ie=hS;else{Ie=uS;var me=cS}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?P&&Rr(P.elementType)&&(Ie=Q0):Ie=dS;if(Ie&&(Ie=Ie(e,P))){Z0(W,Ie,r,X);break e}me&&me(e,H,P),e==="focusout"&&P&&H.type==="number"&&P.memoizedProps.value!=null&&ta(H,"number",H.value)}switch(me=P?xs(P):window,e){case"focusin":(J0(me)||me.contentEditable==="true")&&(Br=me,Lu=P,nl=null);break;case"focusout":nl=Lu=Br=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,lm(W,r,X);break;case"selectionchange":if(mS)break;case"keydown":case"keyup":lm(W,r,X)}var je;if(Ru)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Lr?K0(e,r)&&(Re="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Re="onCompositionStart");Re&&(q0&&r.locale!=="ko"&&(Lr||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Lr&&(je=Xi()):(ss=X,Ur="value"in ss?ss.value:ss.textContent,Lr=!0)),me=mc(P,Re),0<me.length&&(Re=new xe(Re,e,null,r,X),W.push({event:Re,listeners:me}),je?Re.data=je:(je=X0(r),je!==null&&(Re.data=je)))),(je=aS?rS(e,r):iS(e,r))&&(Re=mc(P,"onBeforeInput"),0<Re.length&&(me=new xe("onBeforeInput","beforeinput",null,r,X),W.push({event:me,listeners:Re}),me.data=je)),ZS(W,e,P,r,X)}Rp(W,n)})}function kl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function mc(e,n){for(var r=n+"Capture",l=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=Ga(e,r),d!=null&&l.unshift(kl(e,d,h)),d=Ga(e,n),d!=null&&l.push(kl(e,d,h))),e.tag===3)return l;e=e.return}return[]}function t_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Up(e,n,r,l,d){for(var h=n._reactName,v=[];r!==null&&r!==l;){var S=r,A=S.alternate,P=S.stateNode;if(S=S.tag,A!==null&&A===l)break;S!==5&&S!==26&&S!==27||P===null||(A=P,d?(P=Ga(r,h),P!=null&&v.unshift(kl(r,P,A))):d||(P=Ga(r,h),P!=null&&v.push(kl(r,P,A)))),r=r.return}v.length!==0&&e.push({event:n,listeners:v})}var n_=/\r\n?/g,s_=/\u0000|\uFFFD/g;function zp(e){return(typeof e=="string"?e:""+e).replace(n_,`
`).replace(s_,"")}function Lp(e,n){return n=zp(n),zp(e)===n}function Je(e,n,r,l,d,h){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sa(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sa(e,""+l);break;case"className":Ha(e,"class",l);break;case"tabIndex":Ha(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ha(e,r,l);break;case"style":Yi(e,l,h);break;case"data":if(n!=="object"){Ha(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Fa(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&Je(e,n,"name",d.name,d,null),Je(e,n,"formEncType",d.formEncType,d,null),Je(e,n,"formMethod",d.formMethod,d,null),Je(e,n,"formTarget",d.formTarget,d,null)):(Je(e,n,"encType",d.encType,d,null),Je(e,n,"method",d.method,d,null),Je(e,n,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Fa(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=mn);break;case"onScroll":l!=null&&Oe("scroll",e);break;case"onScrollEnd":l!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Fa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),Ia(e,"popover",l);break;case"xlinkActuate":An(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":An(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":An(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":An(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":An(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":An(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":An(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":An(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":An(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ia(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=So.get(r)||r,Ia(e,r,l))}}function ch(e,n,r,l,d,h){switch(r){case"style":Yi(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"children":typeof l=="string"?sa(e,l):(typeof l=="number"||typeof l=="bigint")&&sa(e,""+l);break;case"onScroll":l!=null&&Oe("scroll",e);break;case"onScrollEnd":l!=null&&Oe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nu.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),n=r.slice(2,d?r.length-7:void 0),h=e[ht]||null,h=h!=null?h[r]:null,typeof h=="function"&&e.removeEventListener(n,h,d),typeof l=="function")){typeof h!="function"&&h!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,d);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Ia(e,r,l)}}}function Pt(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var l=!1,d=!1,h;for(h in r)if(r.hasOwnProperty(h)){var v=r[h];if(v!=null)switch(h){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Je(e,n,h,v,r,null)}}d&&Je(e,n,"srcSet",r.srcSet,r,null),l&&Je(e,n,"src",r.src,r,null);return;case"input":Oe("invalid",e);var S=h=v=d=null,A=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var X=r[l];if(X!=null)switch(l){case"name":d=X;break;case"type":v=X;break;case"checked":A=X;break;case"defaultChecked":P=X;break;case"value":h=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,n));break;default:Je(e,n,l,X,r,null)}}Ts(e,h,S,A,P,v,d,!1);return;case"select":Oe("invalid",e),l=v=h=null;for(d in r)if(r.hasOwnProperty(d)&&(S=r[d],S!=null))switch(d){case"value":h=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:Je(e,n,d,S,r,null)}n=h,r=v,e.multiple=!!l,n!=null?na(e,!!l,n,!1):r!=null&&na(e,!!l,r,!0);return;case"textarea":Oe("invalid",e),h=d=l=null;for(v in r)if(r.hasOwnProperty(v)&&(S=r[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":d=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Je(e,n,v,S,r,null)}wo(e,l,d,h);return;case"option":for(A in r)if(r.hasOwnProperty(A)&&(l=r[A],l!=null))switch(A){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(e,n,A,l,r,null)}return;case"dialog":Oe("beforetoggle",e),Oe("toggle",e),Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(l=0;l<jl.length;l++)Oe(jl[l],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Je(e,n,P,l,r,null)}return;default:if(Rr(n)){for(X in r)r.hasOwnProperty(X)&&(l=r[X],l!==void 0&&ch(e,n,X,l,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(l=r[S],l!=null&&Je(e,n,S,l,r,null))}function a_(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,v=null,S=null,A=null,P=null,X=null;for(q in r){var W=r[q];if(r.hasOwnProperty(q)&&W!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":A=W;default:l.hasOwnProperty(q)||Je(e,n,q,null,l,W)}}for(var H in l){var q=l[H];if(W=r[H],l.hasOwnProperty(H)&&(q!=null||W!=null))switch(H){case"type":h=q;break;case"name":d=q;break;case"checked":P=q;break;case"defaultChecked":X=q;break;case"value":v=q;break;case"defaultValue":S=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,n));break;default:q!==W&&Je(e,n,H,q,l,W)}}Fi(e,v,S,A,P,X,h,d);return;case"select":q=v=S=H=null;for(h in r)if(A=r[h],r.hasOwnProperty(h)&&A!=null)switch(h){case"value":break;case"multiple":q=A;default:l.hasOwnProperty(h)||Je(e,n,h,null,l,A)}for(d in l)if(h=l[d],A=r[d],l.hasOwnProperty(d)&&(h!=null||A!=null))switch(d){case"value":H=h;break;case"defaultValue":S=h;break;case"multiple":v=h;default:h!==A&&Je(e,n,d,h,l,A)}n=S,r=v,l=q,H!=null?na(e,!!r,H,!1):!!l!=!!r&&(n!=null?na(e,!!r,n,!0):na(e,!!r,r?[]:"",!1));return;case"textarea":q=H=null;for(S in r)if(d=r[S],r.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(e,n,S,null,l,d)}for(v in l)if(d=l[v],h=r[v],l.hasOwnProperty(v)&&(d!=null||h!=null))switch(v){case"value":H=d;break;case"defaultValue":q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==h&&Je(e,n,v,d,l,h)}qi(e,H,q);return;case"option":for(var ce in r)if(H=r[ce],r.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:Je(e,n,ce,null,l,H)}for(A in l)if(H=l[A],q=r[A],l.hasOwnProperty(A)&&H!==q&&(H!=null||q!=null))switch(A){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Je(e,n,A,H,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in r)H=r[ve],r.hasOwnProperty(ve)&&H!=null&&!l.hasOwnProperty(ve)&&Je(e,n,ve,null,l,H);for(P in l)if(H=l[P],q=r[P],l.hasOwnProperty(P)&&H!==q&&(H!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,n));break;default:Je(e,n,P,H,l,q)}return;default:if(Rr(n)){for(var Ze in r)H=r[Ze],r.hasOwnProperty(Ze)&&H!==void 0&&!l.hasOwnProperty(Ze)&&ch(e,n,Ze,void 0,l,H);for(X in l)H=l[X],q=r[X],!l.hasOwnProperty(X)||H===q||H===void 0&&q===void 0||ch(e,n,X,H,l,q);return}}for(var z in r)H=r[z],r.hasOwnProperty(z)&&H!=null&&!l.hasOwnProperty(z)&&Je(e,n,z,null,l,H);for(W in l)H=l[W],q=r[W],!l.hasOwnProperty(W)||H===q||H==null&&q==null||Je(e,n,W,H,l,q)}function Bp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function r_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var d=r[l],h=d.transferSize,v=d.initiatorType,S=d.duration;if(h&&S&&Bp(v)){for(v=0,S=d.responseEnd,l+=1;l<r.length;l++){var A=r[l],P=A.startTime;if(P>S)break;var X=A.transferSize,W=A.initiatorType;X&&Bp(W)&&(A=A.responseEnd,v+=X*(A<S?1:(S-P)/(A-P)))}if(--l,n+=8*(h+v)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var uh=null,dh=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function Vp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $p(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fh=null;function i_(){var e=window.event;return e&&e.type==="popstate"?e===fh?!1:(fh=e,!0):(fh=null,!1)}var Pp=typeof setTimeout=="function"?setTimeout:void 0,l_=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,o_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(e){return Ip.resolve(null).then(e).catch(c_)}:Pp;function c_(e){setTimeout(function(){throw e})}function wa(e){return e==="head"}function Hp(e,n){var r=n,l=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(d),di(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Al(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Al(r);for(var h=r.firstChild;h;){var v=h.nextSibling,S=h.nodeName;h[nn]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=v}}else r==="body"&&Al(e.ownerDocument.body);r=d}while(r);di(n)}function Fp(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function mh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":mh(r),Nr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function u_(e,n,r,l){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[nn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function d_(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Un(e.nextSibling),e===null))return null;return e}function qp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function gh(e){return e.data==="$?"||e.data==="$~"}function ph(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function h_(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yh=null;function Gp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Un(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Yp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Kp(e,n,r){switch(n=gc(r),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Nr(e)}var zn=new Map,Xp=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $s=K.d;K.d={f:f_,r:m_,D:g_,C:p_,L:y_,m:v_,X:x_,S:b_,M:w_};function f_(){var e=$s.f(),n=lc();return e||n}function m_(e){var n=bs(e);n!==null&&n.tag===5&&n.type==="form"?hg(n):$s.r(e)}var oi=typeof document>"u"?null:document;function Jp(e,n,r){var l=oi;if(l&&typeof n=="string"&&n){var d=sn(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),Xp.has(d)||(Xp.add(d),e={rel:e,crossOrigin:r,href:n},l.querySelector(d)===null&&(n=l.createElement("link"),Pt(n,"link",e),Rt(n),l.head.appendChild(n)))}}function g_(e){$s.D(e),Jp("dns-prefetch",e,null)}function p_(e,n){$s.C(e,n),Jp("preconnect",e,n)}function y_(e,n,r){$s.L(e,n,r);var l=oi;if(l&&e&&n){var d='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+sn(r.imageSizes)+'"]')):d+='[href="'+sn(e)+'"]';var h=d;switch(n){case"style":h=ci(e);break;case"script":h=ui(e)}zn.has(h)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),zn.set(h,e),l.querySelector(d)!==null||n==="style"&&l.querySelector(Cl(h))||n==="script"&&l.querySelector(Nl(h))||(n=l.createElement("link"),Pt(n,"link",e),Rt(n),l.head.appendChild(n)))}}function v_(e,n){$s.m(e,n);var r=oi;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',h=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ui(e)}if(!zn.has(h)&&(e=b({rel:"modulepreload",href:e},n),zn.set(h,e),r.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Nl(h)))return}l=r.createElement("link"),Pt(l,"link",e),Rt(l),r.head.appendChild(l)}}}function b_(e,n,r){$s.S(e,n,r);var l=oi;if(l&&e){var d=ws(l).hoistableStyles,h=ci(e);n=n||"default";var v=d.get(h);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Cl(h)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=zn.get(h))&&vh(e,r);var A=v=l.createElement("link");Rt(A),Pt(A,"link",e),A._p=new Promise(function(P,X){A.onload=P,A.onerror=X}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,yc(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(h,v)}}}function x_(e,n){$s.X(e,n);var r=oi;if(r&&e){var l=ws(r).hoistableScripts,d=ui(e),h=l.get(d);h||(h=r.querySelector(Nl(d)),h||(e=b({src:e,async:!0},n),(n=zn.get(d))&&bh(e,n),h=r.createElement("script"),Rt(h),Pt(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function w_(e,n){$s.M(e,n);var r=oi;if(r&&e){var l=ws(r).hoistableScripts,d=ui(e),h=l.get(d);h||(h=r.querySelector(Nl(d)),h||(e=b({src:e,async:!0,type:"module"},n),(n=zn.get(d))&&bh(e,n),h=r.createElement("script"),Rt(h),Pt(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function Zp(e,n,r,l){var d=(d=ke.current)?pc(d):null;if(!d)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ci(r.href),r=ws(d).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ci(r.href);var h=ws(d).hoistableStyles,v=h.get(e);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,v),(h=d.querySelector(Cl(e)))&&!h._p&&(v.instance=h,v.state.loading=5),zn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},zn.set(e,r),h||S_(d,e,r,v.state))),n&&l===null)throw Error(i(528,""));return v}if(n&&l!==null)throw Error(i(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ui(r),r=ws(d).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ci(e){return'href="'+sn(e)+'"'}function Cl(e){return'link[rel="stylesheet"]['+e+"]"}function Qp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function S_(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pt(n,"link",r),Rt(n),e.head.appendChild(n))}function ui(e){return'[src="'+sn(e)+'"]'}function Nl(e){return"script[async]"+e}function Wp(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+sn(r.href)+'"]');if(l)return n.instance=l,Rt(l),l;var d=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Rt(l),Pt(l,"style",d),yc(l,r.precedence,e),n.instance=l;case"stylesheet":d=ci(r.href);var h=e.querySelector(Cl(d));if(h)return n.state.loading|=4,n.instance=h,Rt(h),h;l=Qp(r),(d=zn.get(d))&&vh(l,d),h=(e.ownerDocument||e).createElement("link"),Rt(h);var v=h;return v._p=new Promise(function(S,A){v.onload=S,v.onerror=A}),Pt(h,"link",l),n.state.loading|=4,yc(h,r.precedence,e),n.instance=h;case"script":return h=ui(r.src),(d=e.querySelector(Nl(h)))?(n.instance=d,Rt(d),d):(l=r,(d=zn.get(h))&&(l=b({},r),bh(l,d)),e=e.ownerDocument||e,d=e.createElement("script"),Rt(d),Pt(d,"link",l),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yc(l,r.precedence,e));return n.instance}function yc(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,h=d,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===n)h=S;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function vh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vc=null;function ey(e,n,r){if(vc===null){var l=new Map,d=vc=new Map;d.set(r,l)}else d=vc,l=d.get(r),l||(l=new Map,d.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var h=r[d];if(!(h[nn]||h[xt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(n)||"";v=e+v;var S=l.get(v);S?S.push(h):l.set(v,[h])}}return l}function ty(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function __(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ny(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function T_(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=ci(l.href),h=n.querySelector(Cl(d));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=bc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=h,Rt(h);return}h=n.ownerDocument||n,l=Qp(l),(d=zn.get(d))&&vh(l,d),h=h.createElement("link"),Rt(h);var v=h;v._p=new Promise(function(S,A){v.onload=S,v.onerror=A}),Pt(h,"link",l),r.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=bc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var xh=0;function E_(e,n){return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&xh===0&&(xh=62500*r_());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>xh?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xc=null;function wc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xc=new Map,n.forEach(j_,e),xc=null,bc.call(e))}function j_(e,n){if(!(n.state.loading&4)){var r=xc.get(e);if(r)var l=r.get(null);else{r=new Map,xc.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var v=d[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}d=n.instance,v=d.getAttribute("data-precedence"),h=r.get(v)||l,h===l&&r.set(null,d),r.set(v,d),this.count++,l=bc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Ol={$$typeof:O,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function k_(e,n,r,l,d,h,v,S,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ba(0),this.hiddenUpdates=Ba(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function sy(e,n,r,l,d,h,v,S,A,P,X,W){return e=new k_(e,n,r,v,A,P,X,W,S),n=1,h===!0&&(n|=24),h=yn(3,null,null,n),e.current=h,h.stateNode=e,n=Wu(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:n},sd(h),e}function ay(e){return e?(e=Pr,e):Pr}function ry(e,n,r,l,d,h){d=ay(d),l.context===null?l.context=d:l.pendingContext=d,l=ua(n),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=da(e,l,n),r!==null&&(cn(r,e,n),cl(r,e,n))}function iy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function wh(e,n){iy(e,n),(e=e.alternate)&&iy(e,n)}function ly(e){if(e.tag===13||e.tag===31){var n=er(e,67108864);n!==null&&cn(n,e,67108864),wh(e,67108864)}}function oy(e){if(e.tag===13||e.tag===31){var n=Sn();n=ys(n);var r=er(e,n);r!==null&&cn(r,e,n),wh(e,n)}}var Sc=!0;function A_(e,n,r,l){var d=Y.T;Y.T=null;var h=K.p;try{K.p=2,Sh(e,n,r,l)}finally{K.p=h,Y.T=d}}function C_(e,n,r,l){var d=Y.T;Y.T=null;var h=K.p;try{K.p=8,Sh(e,n,r,l)}finally{K.p=h,Y.T=d}}function Sh(e,n,r,l){if(Sc){var d=_h(l);if(d===null)oh(e,n,l,_c,r),uy(e,l);else if(O_(d,e,n,r,l))l.stopPropagation();else if(uy(e,l),n&4&&-1<N_.indexOf(e)){for(;d!==null;){var h=bs(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=Wt(h.pendingLanes);if(v!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var A=1<<31-Ve(v);S.entanglements[1]|=A,v&=~A}cs(h),(Fe&6)===0&&(rc=qt()+500,El(0))}}break;case 31:case 13:S=er(h,2),S!==null&&cn(S,h,2),lc(),wh(h,2)}if(h=_h(l),h===null&&oh(e,n,l,_c,r),h===d)break;d=h}d!==null&&l.stopPropagation()}else oh(e,n,l,null,r)}}function _h(e){return e=qa(e),Th(e)}var _c=null;function Th(e){if(_c=null,e=es(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=u(n),e!==null)return e;e=null}else if(r===31){if(e=m(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function cy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eu()){case Ua:return 2;case vt:return 8;case gs:case ju:return 32;case $i:return 268435456;default:return 32}default:return 32}}var Eh=!1,Sa=null,_a=null,Ta=null,Dl=new Map,Rl=new Map,Ea=[],N_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uy(e,n){switch(e){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(n.pointerId)}}function Ml(e,n,r,l,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[d]},n!==null&&(n=bs(n),n!==null&&ly(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function O_(e,n,r,l,d){switch(n){case"focusin":return Sa=Ml(Sa,e,n,r,l,d),!0;case"dragenter":return _a=Ml(_a,e,n,r,l,d),!0;case"mouseover":return Ta=Ml(Ta,e,n,r,l,d),!0;case"pointerover":var h=d.pointerId;return Dl.set(h,Ml(Dl.get(h)||null,e,n,r,l,d)),!0;case"gotpointercapture":return h=d.pointerId,Rl.set(h,Ml(Rl.get(h)||null,e,n,r,l,d)),!0}return!1}function dy(e){var n=es(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=u(r),n!==null){e.blockedOn=n,Va(e.priority,function(){oy(r)});return}}else if(n===31){if(n=m(r),n!==null){e.blockedOn=n,Va(e.priority,function(){oy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=_h(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Ki=l,r.target.dispatchEvent(l),Ki=null}else return n=bs(r),n!==null&&ly(n),e.blockedOn=r,!1;n.shift()}return!0}function hy(e,n,r){Tc(e)&&r.delete(n)}function D_(){Eh=!1,Sa!==null&&Tc(Sa)&&(Sa=null),_a!==null&&Tc(_a)&&(_a=null),Ta!==null&&Tc(Ta)&&(Ta=null),Dl.forEach(hy),Rl.forEach(hy)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Eh||(Eh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,D_)))}var jc=null;function fy(e){jc!==e&&(jc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jc===e&&(jc=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],d=e[n+2];if(typeof l!="function"){if(Th(l||r)===null)continue;break}var h=bs(r);h!==null&&(e.splice(n,3),n-=3,_d(h,{pending:!0,data:d,method:r.method,action:l},l,d))}}))}function di(e){function n(A){return Ec(A,e)}Sa!==null&&Ec(Sa,e),_a!==null&&Ec(_a,e),Ta!==null&&Ec(Ta,e),Dl.forEach(n),Rl.forEach(n);for(var r=0;r<Ea.length;r++){var l=Ea[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ea.length&&(r=Ea[0],r.blockedOn===null);)dy(r),r.blockedOn===null&&Ea.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var d=r[l],h=r[l+1],v=d[ht]||null;if(typeof h=="function")v||fy(r);else if(v){var S=null;if(h&&h.hasAttribute("formAction")){if(d=h,v=h[ht]||null)S=v.formAction;else if(Th(d)!==null)continue}else S=v.action;typeof S=="function"?r[l+1]=S:(r.splice(l,3),l-=3),fy(r)}}}function my(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function jh(e){this._internalRoot=e}kc.prototype.render=jh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var r=n.current,l=Sn();ry(r,l,e,n,null,null)},kc.prototype.unmount=jh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ry(e.current,2,null,e,null,null),lc(),n[vs]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Cr();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ea.length&&n!==0&&n<Ea[r].priority;r++);Ea.splice(r,0,e),r===0&&dy(e)}};var gy=t.version;if(gy!=="19.2.3")throw Error(i(527,gy,"19.2.3"));K.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var R_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{za=Ac.inject(R_),Qt=Ac}catch{}}return zl.createRoot=function(e,n){if(!o(e))throw Error(i(299));var r=!1,l="",d=Sg,h=_g,v=Tg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=sy(e,1,!1,null,null,r,l,null,d,h,v,my),e[vs]=n.current,lh(e),new jh(n)},zl.hydrateRoot=function(e,n,r){if(!o(e))throw Error(i(299));var l=!1,d="",h=Sg,v=_g,S=Tg,A=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(A=r.formState)),n=sy(e,1,!0,n,r??null,l,d,A,h,v,S,my),n.context=ay(null),r=n.current,l=Sn(),l=ys(l),d=ua(l),d.callback=null,da(r,d,l),r=l,n.current.lanes=r,Qs(n,r),cs(n),e[vs]=n.current,lh(e),new kc(n)},zl.version="19.2.3",zl}var Ey;function F_(){if(Ey)return Ch.exports;Ey=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ch.exports=H_(),Ch.exports}var q_=F_();const G_=Jf(q_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K_=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,i)=>i?i.toUpperCase():a.toLowerCase()),jy=s=>{const t=K_(s);return t.charAt(0).toUpperCase()+t.slice(1)},Db=(...s)=>s.filter((t,a,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===a).join(" ").trim(),X_=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=L.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:u,...m},g)=>L.createElement("svg",{ref:g,...J_,width:t,height:t,stroke:s,strokeWidth:i?Number(a)*24/Number(t):a,className:Db("lucide",o),...!c&&!X_(m)&&{"aria-hidden":"true"},...m},[...u.map(([p,y])=>L.createElement(p,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(s,t)=>{const a=L.forwardRef(({className:i,...o},c)=>L.createElement(Z_,{ref:c,iconNode:t,className:Db(`lucide-${Y_(jy(s))}`,`lucide-${s}`,i),...o}));return a.displayName=jy(s),a};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Rh=Ue("activity",Q_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Rb=Ue("arrow-right",W_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],ky=Ue("calendar-check",e2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cc=Ue("calendar",t2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],s2=Ue("chart-column",n2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bn=Ue("check",a2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wf=Ue("chevron-down",r2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Mh=Ue("chevron-left",i2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$l=Ue("chevron-right",l2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Uh=Ue("clock",o2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Mb=Ue("ellipsis-vertical",c2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],hi=Ue("flame",u2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],h2=Ue("globe",d2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ub=Ue("layout-dashboard",f2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],Ay=Ue("list-todo",m2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zl=Ue("loader-circle",g2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],y2=Ue("log-out",p2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],zb=Ue("moon",v2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],x2=Ue("move-right",b2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cf=Ue("pen-line",w2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],_2=Ue("play",S2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gl=Ue("plus",T2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],j2=Ue("refresh-cw",E2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Lb=Ue("repeat",k2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C2=Ue("settings",A2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Bb=Ue("sun",N2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Vb=Ue("tag",O2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$b=Ue("target",D2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Pb=Ue("trash-2",R2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],U2=Ue("trending-up",M2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],L2=Ue("unlink",z2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],V2=Ue("user",B2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fs=Ue("x",$2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],I2=Ue("zap",P2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],F2=Ue("zoom-in",H2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],G2=Ue("zoom-out",q2),Y2=({onGetStarted:s})=>{const t=()=>{const a=document.getElementById("features");a&&a.scrollIntoView({behavior:"smooth"})};return f.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 transition-colors selection:bg-violet-100 dark:selection:bg-violet-900/30",children:[f.jsxs("div",{className:"relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-[600px] bg-gradient-to-b from-violet-50/50 to-transparent dark:from-violet-950/20 dark:to-transparent pointer-events-none"}),f.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-violet-500/10 rounded-full blur-3xl pointer-events-none"}),f.jsx("div",{className:"absolute top-20 -left-40 w-96 h-96 bg-fuchsia-500/10 rounded-full blur-3xl pointer-events-none"}),f.jsxs("div",{className:"max-w-6xl mx-auto px-6 pt-20 pb-20 relative z-10 flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden shadow-2xl shadow-violet-600/30 mb-8 transform rotate-3 hover:rotate-6 transition-transform duration-500 bg-white dark:bg-slate-900 flex items-center justify-center",children:f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("img",{src:"/favicon.svg",alt:"Ascend Logo",className:"w-16 h-16"})})}),f.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold mb-8 tracking-tight max-w-4xl leading-[1.1]",children:["F kontroll p din dag  ",f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#6F00FF] to-fuchsia-600",children:"visuellt."})]}),f.jsx("p",{className:"text-xl md:text-2xl text-slate-500 dark:text-slate-400 mb-10 max-w-2xl leading-relaxed",children:"Timeboxing, uppgifter och kalender i perfekt synk. Byggd fr dig som vill jobba djupt och distraktionsfritt."}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full justify-center",children:[f.jsxs("button",{onClick:s,className:"group w-full sm:w-auto flex items-center justify-center gap-3 px-8 py-4 bg-[#6F00FF] text-white rounded-full font-bold text-lg hover:bg-violet-700 hover:shadow-xl hover:shadow-violet-600/20 transition-all transform hover:-translate-y-1",children:["Starta gratis",f.jsx(Rb,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),f.jsxs("button",{onClick:t,className:"group w-full sm:w-auto flex items-center justify-center gap-3 px-8 py-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-300 rounded-full font-bold text-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all",children:["Se hur det funkar",f.jsx(_2,{size:18,className:"text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-200 transition-colors"})]})]}),f.jsxs("div",{className:"mt-8 flex items-center gap-6 text-sm font-medium text-slate-500 dark:text-slate-400",children:[f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx(Bn,{size:16,className:"text-emerald-500"})," Inget kreditkort krvs"]}),f.jsx("span",{className:"hidden sm:block text-slate-300 dark:text-slate-700",children:""}),f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx(Bn,{size:16,className:"text-emerald-500"})," Kom igng med Google"]})]})]})]}),f.jsx("div",{id:"features",className:"py-24 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800/50",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ett workspace fr allt"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-2xl mx-auto",children:"Sluta hoppa mellan to-do listor och kalendrar. Ascend samlar allt p ett stlle."})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[f.jsxs("div",{className:"group p-8 rounded-3xl bg-slate-50 dark:bg-slate-800/30 hover:bg-violet-50/50 dark:hover:bg-violet-900/10 transition-colors duration-300 border border-transparent hover:border-violet-100 dark:hover:border-violet-900/30",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white dark:bg-slate-800 shadow-sm flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(Ub,{className:"text-[#6F00FF]",size:28})}),f.jsx("h3",{className:"text-xl font-bold mb-3",children:"Planera visuellt"}),f.jsxs("p",{className:"text-slate-500 dark:text-slate-400 leading-relaxed",children:["Dra-och-slpp dina uppgifter direkt i schemat. Se exakt ",f.jsx("em",{className:"not-italic text-slate-700 dark:text-slate-300 font-medium",children:"nr"})," jobbet blir gjort, inte bara ",f.jsx("em",{className:"not-italic text-slate-700 dark:text-slate-300 font-medium",children:"att"})," det ska gras."]})]}),f.jsxs("div",{className:"group p-8 rounded-3xl bg-slate-50 dark:bg-slate-800/30 hover:bg-emerald-50/50 dark:hover:bg-emerald-900/10 transition-colors duration-300 border border-transparent hover:border-emerald-100 dark:hover:border-emerald-900/30",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white dark:bg-slate-800 shadow-sm flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(j2,{className:"text-emerald-500",size:28})}),f.jsx("h3",{className:"text-xl font-bold mb-3",children:"Allt i din kalender"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 leading-relaxed",children:"Full tvvgssynk med Google Kalender. Dina tidsblock blir mten, och dina mten blir block. Erstt dubbelarbete med automatik."})]}),f.jsxs("div",{className:"group p-8 rounded-3xl bg-slate-50 dark:bg-slate-800/30 hover:bg-amber-50/50 dark:hover:bg-amber-900/10 transition-colors duration-300 border border-transparent hover:border-amber-100 dark:hover:border-amber-900/30",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white dark:bg-slate-800 shadow-sm flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx($b,{className:"text-amber-500",size:28})}),f.jsx("h3",{className:"text-xl font-bold mb-3",children:"Bygg rutiner fr deep work"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 leading-relaxed",children:"Anvnd fokuslgen och en ren design fr att stnga ute distraktioner och hitta ditt flow varje dag."})]})]})]})}),f.jsxs("div",{className:"py-20 border-t border-slate-100 dark:border-slate-800 text-center px-6",children:[f.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Redo att ta kontroll?"}),f.jsx("button",{onClick:s,className:"inline-flex items-center justify-center gap-2 px-8 py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-full font-bold text-lg hover:opacity-90 transition-opacity",children:"Kom igng nu"})]})]})},e0=L.createContext({});function t0(s){const t=L.useRef(null);return t.current===null&&(t.current=s()),t.current}const n0=typeof window<"u",Ib=n0?L.useLayoutEffect:L.useEffect,mu=L.createContext(null);function s0(s,t){s.indexOf(t)===-1&&s.push(t)}function a0(s,t){const a=s.indexOf(t);a>-1&&s.splice(a,1)}const qs=(s,t,a)=>a>t?t:a<s?s:a;let r0=()=>{};const Gs={},Hb=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function Fb(s){return typeof s=="object"&&s!==null}const qb=s=>/^0[^.\s]+$/u.test(s);function i0(s){let t;return()=>(t===void 0&&(t=s()),t)}const $n=s=>s,K2=(s,t)=>a=>t(s(a)),lo=(...s)=>s.reduce(K2),Ql=(s,t,a)=>{const i=t-s;return i===0?1:(a-s)/i};class l0{constructor(){this.subscriptions=[]}add(t){return s0(this.subscriptions,t),()=>a0(this.subscriptions,t)}notify(t,a,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,a,i);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(t,a,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ds=s=>s*1e3,Vn=s=>s/1e3;function Gb(s,t){return t?s*(1e3/t):0}const Yb=(s,t,a)=>(((1-3*a+3*t)*s+(3*a-6*t))*s+3*t)*s,X2=1e-7,J2=12;function Z2(s,t,a,i,o){let c,u,m=0;do u=t+(a-t)/2,c=Yb(u,i,o)-s,c>0?a=u:t=u;while(Math.abs(c)>X2&&++m<J2);return u}function oo(s,t,a,i){if(s===t&&a===i)return $n;const o=c=>Z2(c,0,1,s,a);return c=>c===0||c===1?c:Yb(o(c),t,i)}const Kb=s=>t=>t<=.5?s(2*t)/2:(2-s(2*(1-t)))/2,Xb=s=>t=>1-s(1-t),Jb=oo(.33,1.53,.69,.99),o0=Xb(Jb),Zb=Kb(o0),Qb=s=>(s*=2)<1?.5*o0(s):.5*(2-Math.pow(2,-10*(s-1))),c0=s=>1-Math.sin(Math.acos(s)),Wb=Xb(c0),ex=Kb(c0),Q2=oo(.42,0,1,1),W2=oo(0,0,.58,1),tx=oo(.42,0,.58,1),eT=s=>Array.isArray(s)&&typeof s[0]!="number",nx=s=>Array.isArray(s)&&typeof s[0]=="number",tT={linear:$n,easeIn:Q2,easeInOut:tx,easeOut:W2,circIn:c0,circInOut:ex,circOut:Wb,backIn:o0,backInOut:Zb,backOut:Jb,anticipate:Qb},nT=s=>typeof s=="string",Cy=s=>{if(nx(s)){r0(s.length===4);const[t,a,i,o]=s;return oo(t,a,i,o)}else if(nT(s))return tT[s];return s},Nc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function sT(s,t){let a=new Set,i=new Set,o=!1,c=!1;const u=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function g(y){u.has(y)&&(p.schedule(y),s()),y(m)}const p={schedule:(y,b=!1,w=!1)=>{const E=w&&o?a:i;return b&&u.add(y),E.has(y)||E.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(m=y,o){c=!0;return}o=!0,[a,i]=[i,a],a.forEach(g),a.clear(),o=!1,c&&(c=!1,p.process(y))}};return p}const aT=40;function sx(s,t){let a=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>a=!0,u=Nc.reduce((O,F)=>(O[F]=sT(c),O),{}),{setup:m,read:g,resolveKeyframes:p,preUpdate:y,update:b,preRender:w,render:_,postRender:E}=u,k=()=>{const O=Gs.useManualTiming?o.timestamp:performance.now();a=!1,Gs.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(O-o.timestamp,aT),1)),o.timestamp=O,o.isProcessing=!0,m.process(o),g.process(o),p.process(o),y.process(o),b.process(o),w.process(o),_.process(o),E.process(o),o.isProcessing=!1,a&&t&&(i=!1,s(k))},T=()=>{a=!0,i=!0,o.isProcessing||s(k)};return{schedule:Nc.reduce((O,F)=>{const J=u[F];return O[F]=(ee,G=!1,Z=!1)=>(a||T(),J.schedule(ee,G,Z)),O},{}),cancel:O=>{for(let F=0;F<Nc.length;F++)u[Nc[F]].cancel(O)},state:o,steps:u}}const{schedule:ct,cancel:Na,state:Ft,steps:zh}=sx(typeof requestAnimationFrame<"u"?requestAnimationFrame:$n,!0);let Fc;function rT(){Fc=void 0}const hn={now:()=>(Fc===void 0&&hn.set(Ft.isProcessing||Gs.useManualTiming?Ft.timestamp:performance.now()),Fc),set:s=>{Fc=s,queueMicrotask(rT)}},ax=s=>t=>typeof t=="string"&&t.startsWith(s),rx=ax("--"),iT=ax("var(--"),u0=s=>iT(s)?lT.test(s.split("/*")[0].trim()):!1,lT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ri={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Wl={...Ri,transform:s=>qs(0,1,s)},Oc={...Ri,default:1},Yl=s=>Math.round(s*1e5)/1e5,d0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oT(s){return s==null}const cT=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,h0=(s,t)=>a=>!!(typeof a=="string"&&cT.test(a)&&a.startsWith(s)||t&&!oT(a)&&Object.prototype.hasOwnProperty.call(a,t)),ix=(s,t,a)=>i=>{if(typeof i!="string")return i;const[o,c,u,m]=i.match(d0);return{[s]:parseFloat(o),[t]:parseFloat(c),[a]:parseFloat(u),alpha:m!==void 0?parseFloat(m):1}},uT=s=>qs(0,255,s),Lh={...Ri,transform:s=>Math.round(uT(s))},_r={test:h0("rgb","red"),parse:ix("red","green","blue"),transform:({red:s,green:t,blue:a,alpha:i=1})=>"rgba("+Lh.transform(s)+", "+Lh.transform(t)+", "+Lh.transform(a)+", "+Yl(Wl.transform(i))+")"};function dT(s){let t="",a="",i="",o="";return s.length>5?(t=s.substring(1,3),a=s.substring(3,5),i=s.substring(5,7),o=s.substring(7,9)):(t=s.substring(1,2),a=s.substring(2,3),i=s.substring(3,4),o=s.substring(4,5),t+=t,a+=a,i+=i,o+=o),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const uf={test:h0("#"),parse:dT,transform:_r.transform},co=s=>({test:t=>typeof t=="string"&&t.endsWith(s)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${s}`}),ka=co("deg"),hs=co("%"),we=co("px"),hT=co("vh"),fT=co("vw"),Ny={...hs,parse:s=>hs.parse(s)/100,transform:s=>hs.transform(s*100)},bi={test:h0("hsl","hue"),parse:ix("hue","saturation","lightness"),transform:({hue:s,saturation:t,lightness:a,alpha:i=1})=>"hsla("+Math.round(s)+", "+hs.transform(Yl(t))+", "+hs.transform(Yl(a))+", "+Yl(Wl.transform(i))+")"},Nt={test:s=>_r.test(s)||uf.test(s)||bi.test(s),parse:s=>_r.test(s)?_r.parse(s):bi.test(s)?bi.parse(s):uf.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?_r.transform(s):bi.transform(s),getAnimatableNone:s=>{const t=Nt.parse(s);return t.alpha=0,Nt.transform(t)}},mT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gT(s){var t,a;return isNaN(s)&&typeof s=="string"&&(((t=s.match(d0))==null?void 0:t.length)||0)+(((a=s.match(mT))==null?void 0:a.length)||0)>0}const lx="number",ox="color",pT="var",yT="var(",Oy="${}",vT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eo(s){const t=s.toString(),a=[],i={color:[],number:[],var:[]},o=[];let c=0;const m=t.replace(vT,g=>(Nt.test(g)?(i.color.push(c),o.push(ox),a.push(Nt.parse(g))):g.startsWith(yT)?(i.var.push(c),o.push(pT),a.push(g)):(i.number.push(c),o.push(lx),a.push(parseFloat(g))),++c,Oy)).split(Oy);return{values:a,split:m,indexes:i,types:o}}function cx(s){return eo(s).values}function ux(s){const{split:t,types:a}=eo(s),i=t.length;return o=>{let c="";for(let u=0;u<i;u++)if(c+=t[u],o[u]!==void 0){const m=a[u];m===lx?c+=Yl(o[u]):m===ox?c+=Nt.transform(o[u]):c+=o[u]}return c}}const bT=s=>typeof s=="number"?0:Nt.test(s)?Nt.getAnimatableNone(s):s;function xT(s){const t=cx(s);return ux(s)(t.map(bT))}const Oa={test:gT,parse:cx,createTransformer:ux,getAnimatableNone:xT};function Bh(s,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?s+(t-s)*6*a:a<1/2?t:a<2/3?s+(t-s)*(2/3-a)*6:s}function wT({hue:s,saturation:t,lightness:a,alpha:i}){s/=360,t/=100,a/=100;let o=0,c=0,u=0;if(!t)o=c=u=a;else{const m=a<.5?a*(1+t):a+t-a*t,g=2*a-m;o=Bh(g,m,s+1/3),c=Bh(g,m,s),u=Bh(g,m,s-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:i}}function Wc(s,t){return a=>a>0?t:s}const ut=(s,t,a)=>s+(t-s)*a,Vh=(s,t,a)=>{const i=s*s,o=a*(t*t-i)+i;return o<0?0:Math.sqrt(o)},ST=[uf,_r,bi],_T=s=>ST.find(t=>t.test(s));function Dy(s){const t=_T(s);if(!t)return!1;let a=t.parse(s);return t===bi&&(a=wT(a)),a}const Ry=(s,t)=>{const a=Dy(s),i=Dy(t);if(!a||!i)return Wc(s,t);const o={...a};return c=>(o.red=Vh(a.red,i.red,c),o.green=Vh(a.green,i.green,c),o.blue=Vh(a.blue,i.blue,c),o.alpha=ut(a.alpha,i.alpha,c),_r.transform(o))},df=new Set(["none","hidden"]);function TT(s,t){return df.has(s)?a=>a<=0?s:t:a=>a>=1?t:s}function ET(s,t){return a=>ut(s,t,a)}function f0(s){return typeof s=="number"?ET:typeof s=="string"?u0(s)?Wc:Nt.test(s)?Ry:AT:Array.isArray(s)?dx:typeof s=="object"?Nt.test(s)?Ry:jT:Wc}function dx(s,t){const a=[...s],i=a.length,o=s.map((c,u)=>f0(c)(c,t[u]));return c=>{for(let u=0;u<i;u++)a[u]=o[u](c);return a}}function jT(s,t){const a={...s,...t},i={};for(const o in a)s[o]!==void 0&&t[o]!==void 0&&(i[o]=f0(s[o])(s[o],t[o]));return o=>{for(const c in i)a[c]=i[c](o);return a}}function kT(s,t){const a=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const c=t.types[o],u=s.indexes[c][i[c]],m=s.values[u]??0;a[o]=m,i[c]++}return a}const AT=(s,t)=>{const a=Oa.createTransformer(t),i=eo(s),o=eo(t);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?df.has(s)&&!o.values.length||df.has(t)&&!i.values.length?TT(s,t):lo(dx(kT(i,o),o.values),a):Wc(s,t)};function hx(s,t,a){return typeof s=="number"&&typeof t=="number"&&typeof a=="number"?ut(s,t,a):f0(s)(s,t)}const CT=s=>{const t=({timestamp:a})=>s(a);return{start:(a=!0)=>ct.update(t,a),stop:()=>Na(t),now:()=>Ft.isProcessing?Ft.timestamp:hn.now()}},fx=(s,t,a=10)=>{let i="";const o=Math.max(Math.round(t/a),2);for(let c=0;c<o;c++)i+=Math.round(s(c/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},eu=2e4;function m0(s){let t=0;const a=50;let i=s.next(t);for(;!i.done&&t<eu;)t+=a,i=s.next(t);return t>=eu?1/0:t}function NT(s,t=100,a){const i=a({...s,keyframes:[0,t]}),o=Math.min(m0(i),eu);return{type:"keyframes",ease:c=>i.next(o*c).value/t,duration:Vn(o)}}const OT=5;function mx(s,t,a){const i=Math.max(t-OT,0);return Gb(a-s(i),t-i)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$h=.001;function DT({duration:s=yt.duration,bounce:t=yt.bounce,velocity:a=yt.velocity,mass:i=yt.mass}){let o,c,u=1-t;u=qs(yt.minDamping,yt.maxDamping,u),s=qs(yt.minDuration,yt.maxDuration,Vn(s)),u<1?(o=p=>{const y=p*u,b=y*s,w=y-a,_=hf(p,u),E=Math.exp(-b);return $h-w/_*E},c=p=>{const b=p*u*s,w=b*a+a,_=Math.pow(u,2)*Math.pow(p,2)*s,E=Math.exp(-b),k=hf(Math.pow(p,2),u);return(-o(p)+$h>0?-1:1)*((w-_)*E)/k}):(o=p=>{const y=Math.exp(-p*s),b=(p-a)*s+1;return-$h+y*b},c=p=>{const y=Math.exp(-p*s),b=(a-p)*(s*s);return y*b});const m=5/s,g=MT(o,c,m);if(s=ds(s),isNaN(g))return{stiffness:yt.stiffness,damping:yt.damping,duration:s};{const p=Math.pow(g,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:s}}}const RT=12;function MT(s,t,a){let i=a;for(let o=1;o<RT;o++)i=i-s(i)/t(i);return i}function hf(s,t){return s*Math.sqrt(1-t*t)}const UT=["duration","bounce"],zT=["stiffness","damping","mass"];function My(s,t){return t.some(a=>s[a]!==void 0)}function LT(s){let t={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...s};if(!My(s,zT)&&My(s,UT))if(s.visualDuration){const a=s.visualDuration,i=2*Math.PI/(a*1.2),o=i*i,c=2*qs(.05,1,1-(s.bounce||0))*Math.sqrt(o);t={...t,mass:yt.mass,stiffness:o,damping:c}}else{const a=DT(s);t={...t,...a,mass:yt.mass},t.isResolvedFromDuration=!0}return t}function tu(s=yt.visualDuration,t=yt.bounce){const a=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:t}:s;let{restSpeed:i,restDelta:o}=a;const c=a.keyframes[0],u=a.keyframes[a.keyframes.length-1],m={done:!1,value:c},{stiffness:g,damping:p,mass:y,duration:b,velocity:w,isResolvedFromDuration:_}=LT({...a,velocity:-Vn(a.velocity||0)}),E=w||0,k=p/(2*Math.sqrt(g*y)),T=u-c,M=Vn(Math.sqrt(g/y)),V=Math.abs(T)<5;i||(i=V?yt.restSpeed.granular:yt.restSpeed.default),o||(o=V?yt.restDelta.granular:yt.restDelta.default);let O;if(k<1){const J=hf(M,k);O=ee=>{const G=Math.exp(-k*M*ee);return u-G*((E+k*M*T)/J*Math.sin(J*ee)+T*Math.cos(J*ee))}}else if(k===1)O=J=>u-Math.exp(-M*J)*(T+(E+M*T)*J);else{const J=M*Math.sqrt(k*k-1);O=ee=>{const G=Math.exp(-k*M*ee),Z=Math.min(J*ee,300);return u-G*((E+k*M*T)*Math.sinh(Z)+J*T*Math.cosh(Z))/J}}const F={calculatedDuration:_&&b||null,next:J=>{const ee=O(J);if(_)m.done=J>=b;else{let G=J===0?E:0;k<1&&(G=J===0?ds(E):mx(O,J,ee));const Z=Math.abs(G)<=i,se=Math.abs(u-ee)<=o;m.done=Z&&se}return m.value=m.done?u:ee,m},toString:()=>{const J=Math.min(m0(F),eu),ee=fx(G=>F.next(J*G).value,J,30);return J+"ms "+ee},toTransition:()=>{}};return F}tu.applyToOptions=s=>{const t=NT(s,100,tu);return s.ease=t.ease,s.duration=ds(t.duration),s.type="keyframes",s};function ff({keyframes:s,velocity:t=0,power:a=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:m,max:g,restDelta:p=.5,restSpeed:y}){const b=s[0],w={done:!1,value:b},_=Z=>m!==void 0&&Z<m||g!==void 0&&Z>g,E=Z=>m===void 0?g:g===void 0||Math.abs(m-Z)<Math.abs(g-Z)?m:g;let k=a*t;const T=b+k,M=u===void 0?T:u(T);M!==T&&(k=M-b);const V=Z=>-k*Math.exp(-Z/i),O=Z=>M+V(Z),F=Z=>{const se=V(Z),le=O(Z);w.done=Math.abs(se)<=p,w.value=w.done?M:le};let J,ee;const G=Z=>{_(w.value)&&(J=Z,ee=tu({keyframes:[w.value,E(w.value)],velocity:mx(O,Z,w.value),damping:o,stiffness:c,restDelta:p,restSpeed:y}))};return G(0),{calculatedDuration:null,next:Z=>{let se=!1;return!ee&&J===void 0&&(se=!0,F(Z),G(Z)),J!==void 0&&Z>=J?ee.next(Z-J):(!se&&F(Z),w)}}}function BT(s,t,a){const i=[],o=a||Gs.mix||hx,c=s.length-1;for(let u=0;u<c;u++){let m=o(s[u],s[u+1]);if(t){const g=Array.isArray(t)?t[u]||$n:t;m=lo(g,m)}i.push(m)}return i}function VT(s,t,{clamp:a=!0,ease:i,mixer:o}={}){const c=s.length;if(r0(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const u=s[0]===s[1];s[0]>s[c-1]&&(s=[...s].reverse(),t=[...t].reverse());const m=BT(t,i,o),g=m.length,p=y=>{if(u&&y<s[0])return t[0];let b=0;if(g>1)for(;b<s.length-2&&!(y<s[b+1]);b++);const w=Ql(s[b],s[b+1],y);return m[b](w)};return a?y=>p(qs(s[0],s[c-1],y)):p}function $T(s,t){const a=s[s.length-1];for(let i=1;i<=t;i++){const o=Ql(0,t,i);s.push(ut(a,1,o))}}function PT(s){const t=[0];return $T(t,s.length-1),t}function IT(s,t){return s.map(a=>a*t)}function HT(s,t){return s.map(()=>t||tx).splice(0,s.length-1)}function Kl({duration:s=300,keyframes:t,times:a,ease:i="easeInOut"}){const o=eT(i)?i.map(Cy):Cy(i),c={done:!1,value:t[0]},u=IT(a&&a.length===t.length?a:PT(t),s),m=VT(u,t,{ease:Array.isArray(o)?o:HT(t,o)});return{calculatedDuration:s,next:g=>(c.value=m(g),c.done=g>=s,c)}}const FT=s=>s!==null;function g0(s,{repeat:t,repeatType:a="loop"},i,o=1){const c=s.filter(FT),m=o<0||t&&a!=="loop"&&t%2===1?0:c.length-1;return!m||i===void 0?c[m]:i}const qT={decay:ff,inertia:ff,tween:Kl,keyframes:Kl,spring:tu};function gx(s){typeof s.type=="string"&&(s.type=qT[s.type])}class p0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const GT=s=>s/100;class y0 extends p0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:a}=this.options;a&&a.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;gx(t);const{type:a=Kl,repeat:i=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=t;let{keyframes:m}=t;const g=a||Kl;g!==Kl&&typeof m[0]!="number"&&(this.mixKeyframes=lo(GT,hx(m[0],m[1])),m=[0,100]);const p=g({...t,keyframes:m});c==="mirror"&&(this.mirroredGenerator=g({...t,keyframes:[...m].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=m0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:i,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:m,calculatedDuration:g}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:b,repeatType:w,repeatDelay:_,type:E,onUpdate:k,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const M=this.currentTime-p*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?M<0:M>o;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let O=this.currentTime,F=i;if(b){const Z=Math.min(this.currentTime,o)/m;let se=Math.floor(Z),le=Z%1;!le&&Z>=1&&(le=1),le===1&&se--,se=Math.min(se,b+1),!!(se%2)&&(w==="reverse"?(le=1-le,_&&(le-=_/m)):w==="mirror"&&(F=u)),O=qs(0,1,le)*m}const J=V?{done:!1,value:y[0]}:F.next(O);c&&(J.value=c(J.value));let{done:ee}=J;!V&&g!==null&&(ee=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ee);return G&&E!==ff&&(J.value=g0(y,this.options,T,this.speed)),k&&k(J.value),G&&this.finish(),J}then(t,a){return this.finished.then(t,a)}get duration(){return Vn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vn(t)}get time(){return Vn(this.currentTime)}set time(t){var a;t=ds(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(a=this.driver)==null||a.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(hn.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=Vn(this.currentTime))}play(){var o,c;if(this.isStopped)return;const{driver:t=CT,startTime:a}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),(c=(o=this.options).onPlay)==null||c.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=a??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,a;this.notifyFinished(),this.teardown(),this.state="finished",(a=(t=this.options).onComplete)==null||a.call(t)}cancel(){var t,a;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(a=(t=this.options).onCancel)==null||a.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var a;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(a=this.driver)==null||a.stop(),t.observe(this)}}function YT(s){for(let t=1;t<s.length;t++)s[t]??(s[t]=s[t-1])}const Tr=s=>s*180/Math.PI,mf=s=>{const t=Tr(Math.atan2(s[1],s[0]));return gf(t)},KT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:mf,rotateZ:mf,skewX:s=>Tr(Math.atan(s[1])),skewY:s=>Tr(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},gf=s=>(s=s%360,s<0&&(s+=360),s),Uy=mf,zy=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),Ly=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),XT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zy,scaleY:Ly,scale:s=>(zy(s)+Ly(s))/2,rotateX:s=>gf(Tr(Math.atan2(s[6],s[5]))),rotateY:s=>gf(Tr(Math.atan2(-s[2],s[0]))),rotateZ:Uy,rotate:Uy,skewX:s=>Tr(Math.atan(s[4])),skewY:s=>Tr(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function pf(s){return s.includes("scale")?1:0}function yf(s,t){if(!s||s==="none")return pf(t);const a=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(a)i=XT,o=a;else{const m=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=KT,o=m}if(!o)return pf(t);const c=i[t],u=o[1].split(",").map(ZT);return typeof c=="function"?c(u):u[c]}const JT=(s,t)=>{const{transform:a="none"}=getComputedStyle(s);return yf(a,t)};function ZT(s){return parseFloat(s.trim())}const Mi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ui=new Set(Mi),By=s=>s===Ri||s===we,QT=new Set(["x","y","z"]),WT=Mi.filter(s=>!QT.has(s));function eE(s){const t=[];return WT.forEach(a=>{const i=s.getValue(a);i!==void 0&&(t.push([a,i.get()]),i.set(a.startsWith("scale")?1:0))}),t}const jr={width:({x:s},{paddingLeft:t="0",paddingRight:a="0"})=>s.max-s.min-parseFloat(t)-parseFloat(a),height:({y:s},{paddingTop:t="0",paddingBottom:a="0"})=>s.max-s.min-parseFloat(t)-parseFloat(a),top:(s,{top:t})=>parseFloat(t),left:(s,{left:t})=>parseFloat(t),bottom:({y:s},{top:t})=>parseFloat(t)+(s.max-s.min),right:({x:s},{left:t})=>parseFloat(t)+(s.max-s.min),x:(s,{transform:t})=>yf(t,"x"),y:(s,{transform:t})=>yf(t,"y")};jr.translateX=jr.x;jr.translateY=jr.y;const kr=new Set;let vf=!1,bf=!1,xf=!1;function px(){if(bf){const s=Array.from(kr).filter(i=>i.needsMeasurement),t=new Set(s.map(i=>i.element)),a=new Map;t.forEach(i=>{const o=eE(i);o.length&&(a.set(i,o),i.render())}),s.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const o=a.get(i);o&&o.forEach(([c,u])=>{var m;(m=i.getValue(c))==null||m.set(u)})}),s.forEach(i=>i.measureEndState()),s.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}bf=!1,vf=!1,kr.forEach(s=>s.complete(xf)),kr.clear()}function yx(){kr.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(bf=!0)})}function tE(){xf=!0,yx(),px(),xf=!1}class v0{constructor(t,a,i,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=i,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(kr.add(this),vf||(vf=!0,ct.read(yx),ct.resolveKeyframes(px))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:i,motionValue:o}=this;if(t[0]===null){const c=o==null?void 0:o.get(),u=t[t.length-1];if(c!==void 0)t[0]=c;else if(i&&a){const m=i.readValue(a,u);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=u),o&&c===void 0&&o.set(t[0])}YT(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),kr.delete(this)}cancel(){this.state==="scheduled"&&(kr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nE=s=>s.startsWith("--");function sE(s,t,a){nE(t)?s.style.setProperty(t,a):s.style[t]=a}const aE=i0(()=>window.ScrollTimeline!==void 0),rE={};function iE(s,t){const a=i0(s);return()=>rE[t]??a()}const vx=iE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pl=([s,t,a,i])=>`cubic-bezier(${s}, ${t}, ${a}, ${i})`,Vy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pl([0,.65,.55,1]),circOut:Pl([.55,0,1,.45]),backIn:Pl([.31,.01,.66,-.59]),backOut:Pl([.33,1.53,.69,.99])};function bx(s,t){if(s)return typeof s=="function"?vx()?fx(s,t):"ease-out":nx(s)?Pl(s):Array.isArray(s)?s.map(a=>bx(a,t)||Vy.easeOut):Vy[s]}function lE(s,t,a,{delay:i=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:m="easeOut",times:g}={},p=void 0){const y={[t]:a};g&&(y.offset=g);const b=bx(m,o);Array.isArray(b)&&(y.easing=b);const w={delay:i,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),s.animate(y,w)}function xx(s){return typeof s=="function"&&"applyToOptions"in s}function oE({type:s,...t}){return xx(s)&&vx()?s.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class cE extends p0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:a,name:i,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:m,onComplete:g}=t;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=t,r0(typeof t.type!="string");const p=oE(t);this.animation=lE(a,i,o,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const y=g0(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(y):sE(a,i,y),this.animation.cancel()}g==null||g(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,a;(a=(t=this.animation).finish)==null||a.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,a;this.isPseudoElement||(a=(t=this.animation).commitStyles)==null||a.call(t)}get duration(){var a,i;const t=((i=(a=this.animation.effect)==null?void 0:a.getComputedTiming)==null?void 0:i.call(a).duration)||0;return Vn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vn(t)}get time(){return Vn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ds(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&aE()?(this.animation.timeline=t,$n):a(this)}}const wx={anticipate:Qb,backInOut:Zb,circInOut:ex};function uE(s){return s in wx}function dE(s){typeof s.ease=="string"&&uE(s.ease)&&(s.ease=wx[s.ease])}const $y=10;class hE extends cE{constructor(t){dE(t),gx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:i,onComplete:o,element:c,...u}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const m=new y0({...u,autoplay:!1}),g=ds(this.finishedTime??this.time);a.setWithVelocity(m.sample(g-$y).value,m.sample(g).value,$y),m.stop()}}const Py=(s,t)=>t==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Oa.test(s)||s==="0")&&!s.startsWith("url("));function fE(s){const t=s[0];if(s.length===1)return!0;for(let a=0;a<s.length;a++)if(s[a]!==t)return!0}function mE(s,t,a,i){const o=s[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const c=s[s.length-1],u=Py(o,t),m=Py(c,t);return!u||!m?!1:fE(s)||(a==="spring"||xx(a))&&i}function wf(s){s.duration=0,s.type="keyframes"}const gE=new Set(["opacity","clipPath","filter","transform"]),pE=i0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yE(s){var y;const{motionValue:t,name:a,repeatDelay:i,repeatType:o,damping:c,type:u}=s;if(!(((y=t==null?void 0:t.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:p}=t.owner.getProps();return pE()&&a&&gE.has(a)&&(a!=="transform"||!p)&&!g&&!i&&o!=="mirror"&&c!==0&&u!=="inertia"}const vE=40;class bE extends p0{constructor({autoplay:t=!0,delay:a=0,type:i="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:m,name:g,motionValue:p,element:y,...b}){var E;super(),this.stop=()=>{var k,T;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=hn.now();const w={autoplay:t,delay:a,type:i,repeat:o,repeatDelay:c,repeatType:u,name:g,motionValue:p,element:y,...b},_=(y==null?void 0:y.KeyframeResolver)||v0;this.keyframeResolver=new _(m,(k,T,M)=>this.onKeyframesResolved(k,T,w,!M),g,p,y),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(t,a,i,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:m,delay:g,isHandoff:p,onUpdate:y}=i;this.resolvedAt=hn.now(),mE(t,c,u,m)||((Gs.instantAnimations||!g)&&(y==null||y(g0(t,i,a))),t[0]=t[t.length-1],wf(i),i.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>vE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...i,keyframes:t},_=!p&&yE(w)?new hE({...w,element:w.motionValue.owner.current}):new y0(w);_.finished.then(()=>this.notifyFinished()).catch($n),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),tE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const xE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wE(s){const t=xE.exec(s);if(!t)return[,];const[,a,i,o]=t;return[`--${a??i}`,o]}function Sx(s,t,a=1){const[i,o]=wE(s);if(!i)return;const c=window.getComputedStyle(t).getPropertyValue(i);if(c){const u=c.trim();return Hb(u)?parseFloat(u):u}return u0(o)?Sx(o,t,a+1):o}function b0(s,t){return(s==null?void 0:s[t])??(s==null?void 0:s.default)??s}const _x=new Set(["width","height","top","left","right","bottom",...Mi]),SE={test:s=>s==="auto",parse:s=>s},Tx=s=>t=>t.test(s),Ex=[Ri,we,hs,ka,fT,hT,SE],Iy=s=>Ex.find(Tx(s));function _E(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||qb(s):!0}const TE=new Set(["brightness","contrast","saturate","opacity"]);function EE(s){const[t,a]=s.slice(0,-1).split("(");if(t==="drop-shadow")return s;const[i]=a.match(d0)||[];if(!i)return s;const o=a.replace(i,"");let c=TE.has(t)?1:0;return i!==a&&(c*=100),t+"("+c+o+")"}const jE=/\b([a-z-]*)\(.*?\)/gu,Sf={...Oa,getAnimatableNone:s=>{const t=s.match(jE);return t?t.map(EE).join(" "):s}},Hy={...Ri,transform:Math.round},kE={rotate:ka,rotateX:ka,rotateY:ka,rotateZ:ka,scale:Oc,scaleX:Oc,scaleY:Oc,scaleZ:Oc,skew:ka,skewX:ka,skewY:ka,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Wl,originX:Ny,originY:Ny,originZ:we},x0={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...kE,zIndex:Hy,fillOpacity:Wl,strokeOpacity:Wl,numOctaves:Hy},AE={...x0,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:Sf,WebkitFilter:Sf},jx=s=>AE[s];function kx(s,t){let a=jx(s);return a!==Sf&&(a=Oa),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const CE=new Set(["auto","none","0"]);function NE(s,t,a){let i=0,o;for(;i<s.length&&!o;){const c=s[i];typeof c=="string"&&!CE.has(c)&&eo(c).values.length&&(o=s[i]),i++}if(o&&a)for(const c of t)s[c]=kx(a,o)}class OE extends v0{constructor(t,a,i,o,c){super(t,a,i,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:i}=this;if(!a||!a.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let p=t[g];if(typeof p=="string"&&(p=p.trim(),u0(p))){const y=Sx(p,a.current);y!==void 0&&(t[g]=y),g===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!_x.has(i)||t.length!==2)return;const[o,c]=t,u=Iy(o),m=Iy(c);if(u!==m)if(By(u)&&By(m))for(let g=0;g<t.length;g++){const p=t[g];typeof p=="string"&&(t[g]=parseFloat(p))}else jr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,i=[];for(let o=0;o<t.length;o++)(t[o]===null||_E(t[o]))&&i.push(o);i.length&&NE(t,i,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const o=a[a.length-1];o!==void 0&&t.getValue(i,o).jump(o,!1)}measureEndState(){var m;const{element:t,name:a,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const o=t.getValue(a);o&&o.jump(this.measuredOrigin,!1);const c=i.length-1,u=i[c];i[c]=jr[a](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([g,p])=>{t.getValue(g).set(p)}),this.resolveNoneKeyframes()}}function DE(s,t,a){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let i=document;const o=(a==null?void 0:a[s])??i.querySelectorAll(s);return o?Array.from(o):[]}return Array.from(s)}const Ax=(s,t)=>t&&typeof s=="number"?t.transform(s):s;function Cx(s){return Fb(s)&&"offsetHeight"in s}const Fy=30,RE=s=>!isNaN(parseFloat(s));class ME{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var c;const o=hn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=hn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=RE(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new l0);const i=this.events[t].add(a);return t==="change"?()=>{i(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,i){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Fy)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,Fy);return Gb(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,a;(t=this.dependents)==null||t.clear(),(a=this.events.destroy)==null||a.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ki(s,t){return new ME(s,t)}const{schedule:w0}=sx(queueMicrotask,!1),Xn={x:!1,y:!1};function Nx(){return Xn.x||Xn.y}function UE(s){return s==="x"||s==="y"?Xn[s]?null:(Xn[s]=!0,()=>{Xn[s]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}function Ox(s,t){const a=DE(s),i=new AbortController,o={passive:!0,...t,signal:i.signal};return[a,o,()=>i.abort()]}function qy(s){return!(s.pointerType==="touch"||Nx())}function zE(s,t,a={}){const[i,o,c]=Ox(s,a),u=m=>{if(!qy(m))return;const{target:g}=m,p=t(g,m);if(typeof p!="function"||!g)return;const y=b=>{qy(b)&&(p(b),g.removeEventListener("pointerleave",y))};g.addEventListener("pointerleave",y,o)};return i.forEach(m=>{m.addEventListener("pointerenter",u,o)}),c}const Dx=(s,t)=>t?s===t?!0:Dx(s,t.parentElement):!1,S0=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,LE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BE(s){return LE.has(s.tagName)||s.tabIndex!==-1}const qc=new WeakSet;function Gy(s){return t=>{t.key==="Enter"&&s(t)}}function Ph(s,t){s.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const VE=(s,t)=>{const a=s.currentTarget;if(!a)return;const i=Gy(()=>{if(qc.has(a))return;Ph(a,"down");const o=Gy(()=>{Ph(a,"up")}),c=()=>Ph(a,"cancel");a.addEventListener("keyup",o,t),a.addEventListener("blur",c,t)});a.addEventListener("keydown",i,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",i),t)};function Yy(s){return S0(s)&&!Nx()}function $E(s,t,a={}){const[i,o,c]=Ox(s,a),u=m=>{const g=m.currentTarget;if(!Yy(m))return;qc.add(g);const p=t(g,m),y=(_,E)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),qc.has(g)&&qc.delete(g),Yy(_)&&typeof p=="function"&&p(_,{success:E})},b=_=>{y(_,g===window||g===document||a.useGlobalTarget||Dx(g,_.target))},w=_=>{y(_,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",w,o)};return i.forEach(m=>{(a.useGlobalTarget?window:m).addEventListener("pointerdown",u,o),Cx(m)&&(m.addEventListener("focus",p=>VE(p,o)),!BE(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),c}function Rx(s){return Fb(s)&&"ownerSVGElement"in s}function PE(s){return Rx(s)&&s.tagName==="svg"}const Zt=s=>!!(s&&s.getVelocity),IE=[...Ex,Nt,Oa],HE=s=>IE.find(Tx(s)),_0=L.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function Ky(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function FE(...s){return t=>{let a=!1;const i=s.map(o=>{const c=Ky(o,t);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():Ky(s[o],null)}}}}function qE(...s){return L.useCallback(FE(...s),s)}class GE extends L.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const i=a.offsetParent,o=Cx(i)&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=a.offsetHeight||0,c.width=a.offsetWidth||0,c.top=a.offsetTop,c.left=a.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function YE({children:s,isPresent:t,anchorX:a,root:i}){const o=L.useId(),c=L.useRef(null),u=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=L.useContext(_0),g=qE(c,s==null?void 0:s.ref);return L.useInsertionEffect(()=>{const{width:p,height:y,top:b,left:w,right:_}=u.current;if(t||!c.current||!p||!y)return;const E=a==="left"?`left: ${w}`:`right: ${_}`;c.current.dataset.motionPopId=o;const k=document.createElement("style");m&&(k.nonce=m);const T=i??document.head;return T.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${E}px !important;
            top: ${b}px !important;
          }
        `),()=>{T.contains(k)&&T.removeChild(k)}},[t]),f.jsx(GE,{isPresent:t,childRef:c,sizeRef:u,children:L.cloneElement(s,{ref:g})})}const KE=({children:s,initial:t,isPresent:a,onExitComplete:i,custom:o,presenceAffectsLayout:c,mode:u,anchorX:m,root:g})=>{const p=t0(XE),y=L.useId();let b=!0,w=L.useMemo(()=>(b=!1,{id:y,initial:t,isPresent:a,custom:o,onExitComplete:_=>{p.set(_,!0);for(const E of p.values())if(!E)return;i&&i()},register:_=>(p.set(_,!1),()=>p.delete(_))}),[a,p,i]);return c&&b&&(w={...w}),L.useMemo(()=>{p.forEach((_,E)=>p.set(E,!1))},[a]),L.useEffect(()=>{!a&&!p.size&&i&&i()},[a]),u==="popLayout"&&(s=f.jsx(YE,{isPresent:a,anchorX:m,root:g,children:s})),f.jsx(mu.Provider,{value:w,children:s})};function XE(){return new Map}function Mx(s=!0){const t=L.useContext(mu);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:i,register:o}=t,c=L.useId();L.useEffect(()=>{if(s)return o(c)},[s]);const u=L.useCallback(()=>s&&i&&i(c),[c,i,s]);return!a&&i?[!1,u]:[!0]}const Dc=s=>s.key||"";function Xy(s){const t=[];return L.Children.forEach(s,a=>{L.isValidElement(a)&&t.push(a)}),t}const Il=({children:s,custom:t,initial:a=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:m="left",root:g})=>{const[p,y]=Mx(u),b=L.useMemo(()=>Xy(s),[s]),w=u&&!p?[]:b.map(Dc),_=L.useRef(!0),E=L.useRef(b),k=t0(()=>new Map),[T,M]=L.useState(b),[V,O]=L.useState(b);Ib(()=>{_.current=!1,E.current=b;for(let ee=0;ee<V.length;ee++){const G=Dc(V[ee]);w.includes(G)?k.delete(G):k.get(G)!==!0&&k.set(G,!1)}},[V,w.length,w.join("-")]);const F=[];if(b!==T){let ee=[...b];for(let G=0;G<V.length;G++){const Z=V[G],se=Dc(Z);w.includes(se)||(ee.splice(G,0,Z),F.push(Z))}return c==="wait"&&F.length&&(ee=F),O(Xy(ee)),M(b),null}const{forceRender:J}=L.useContext(e0);return f.jsx(f.Fragment,{children:V.map(ee=>{const G=Dc(ee),Z=u&&!p?!1:b===V||w.includes(G),se=()=>{if(k.has(G))k.set(G,!0);else return;let le=!0;k.forEach(ye=>{ye||(le=!1)}),le&&(J==null||J(),O(E.current),u&&(y==null||y()),i&&i())};return f.jsx(KE,{isPresent:Z,initial:!_.current||a?void 0:!1,custom:t,presenceAffectsLayout:o,mode:c,root:g,onExitComplete:Z?void 0:se,anchorX:m,children:ee},G)})})},Ux=L.createContext({strict:!1}),Jy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ai={};for(const s in Jy)Ai[s]={isEnabled:t=>Jy[s].some(a=>!!t[a])};function JE(s){for(const t in s)Ai[t]={...Ai[t],...s[t]}}const ZE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nu(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||ZE.has(s)}let zx=s=>!nu(s);function QE(s){typeof s=="function"&&(zx=t=>t.startsWith("on")?!nu(t):s(t))}try{QE(require("@emotion/is-prop-valid").default)}catch{}function WE(s,t,a){const i={};for(const o in s)o==="values"&&typeof s.values=="object"||(zx(o)||a===!0&&nu(o)||!t&&!nu(o)||s.draggable&&o.startsWith("onDrag"))&&(i[o]=s[o]);return i}const gu=L.createContext({});function pu(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function to(s){return typeof s=="string"||Array.isArray(s)}const T0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],E0=["initial",...T0];function yu(s){return pu(s.animate)||E0.some(t=>to(s[t]))}function Lx(s){return!!(yu(s)||s.variants)}function ej(s,t){if(yu(s)){const{initial:a,animate:i}=s;return{initial:a===!1||to(a)?a:void 0,animate:to(i)?i:void 0}}return s.inherit!==!1?t:{}}function tj(s){const{initial:t,animate:a}=ej(s,L.useContext(gu));return L.useMemo(()=>({initial:t,animate:a}),[Zy(t),Zy(a)])}function Zy(s){return Array.isArray(s)?s.join(" "):s}function Qy(s,t){return t.max===t.min?0:s/(t.max-t.min)*100}const Ll={correct:(s,t)=>{if(!t.target)return s;if(typeof s=="string")if(we.test(s))s=parseFloat(s);else return s;const a=Qy(s,t.target.x),i=Qy(s,t.target.y);return`${a}% ${i}%`}},nj={correct:(s,{treeScale:t,projectionDelta:a})=>{const i=s,o=Oa.parse(s);if(o.length>5)return i;const c=Oa.createTransformer(s),u=typeof o[0]!="number"?1:0,m=a.x.scale*t.x,g=a.y.scale*t.y;o[0+u]/=m,o[1+u]/=g;const p=ut(m,g,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),c(o)}},_f={borderRadius:{...Ll,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ll,borderTopRightRadius:Ll,borderBottomLeftRadius:Ll,borderBottomRightRadius:Ll,boxShadow:nj};function Bx(s,{layout:t,layoutId:a}){return Ui.has(s)||s.startsWith("origin")||(t||a!==void 0)&&(!!_f[s]||s==="opacity")}const sj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aj=Mi.length;function rj(s,t,a){let i="",o=!0;for(let c=0;c<aj;c++){const u=Mi[c],m=s[u];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(u.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||a){const p=Ax(m,x0[u]);if(!g){o=!1;const y=sj[u]||u;i+=`${y}(${p}) `}a&&(t[u]=p)}}return i=i.trim(),a?i=a(t,o?"":i):o&&(i="none"),i}function j0(s,t,a){const{style:i,vars:o,transformOrigin:c}=s;let u=!1,m=!1;for(const g in t){const p=t[g];if(Ui.has(g)){u=!0;continue}else if(rx(g)){o[g]=p;continue}else{const y=Ax(p,x0[g]);g.startsWith("origin")?(m=!0,c[g]=y):i[g]=y}}if(t.transform||(u||a?i.transform=rj(t,s.transform,a):i.transform&&(i.transform="none")),m){const{originX:g="50%",originY:p="50%",originZ:y=0}=c;i.transformOrigin=`${g} ${p} ${y}`}}const k0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Vx(s,t,a){for(const i in t)!Zt(t[i])&&!Bx(i,a)&&(s[i]=t[i])}function ij({transformTemplate:s},t){return L.useMemo(()=>{const a=k0();return j0(a,t,s),Object.assign({},a.vars,a.style)},[t])}function lj(s,t){const a=s.style||{},i={};return Vx(i,a,s),Object.assign(i,ij(s,t)),i}function oj(s,t){const a={},i=lj(s,t);return s.drag&&s.dragListener!==!1&&(a.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(a.tabIndex=0),a.style=i,a}const cj={offset:"stroke-dashoffset",array:"stroke-dasharray"},uj={offset:"strokeDashoffset",array:"strokeDasharray"};function dj(s,t,a=1,i=0,o=!0){s.pathLength=1;const c=o?cj:uj;s[c.offset]=we.transform(-i);const u=we.transform(t),m=we.transform(a);s[c.array]=`${u} ${m}`}function $x(s,{attrX:t,attrY:a,attrScale:i,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...m},g,p,y){if(j0(s,m,p),g){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:b,style:w}=s;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),a!==void 0&&(b.y=a),i!==void 0&&(b.scale=i),o!==void 0&&dj(b,o,c,u,!1)}const Px=()=>({...k0(),attrs:{}}),Ix=s=>typeof s=="string"&&s.toLowerCase()==="svg";function hj(s,t,a,i){const o=L.useMemo(()=>{const c=Px();return $x(c,t,Ix(i),s.transformTemplate,s.style),{...c.attrs,style:{...c.style}}},[t]);if(s.style){const c={};Vx(c,s.style,s),o.style={...c,...o.style}}return o}const fj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function A0(s){return typeof s!="string"||s.includes("-")?!1:!!(fj.indexOf(s)>-1||/[A-Z]/u.test(s))}function mj(s,t,a,{latestValues:i},o,c=!1){const m=(A0(s)?hj:oj)(t,i,o,s),g=WE(t,typeof s=="string",c),p=s!==L.Fragment?{...g,...m,ref:a}:{},{children:y}=t,b=L.useMemo(()=>Zt(y)?y.get():y,[y]);return L.createElement(s,{...p,children:b})}function Wy(s){const t=[{},{}];return s==null||s.values.forEach((a,i)=>{t[0][i]=a.get(),t[1][i]=a.getVelocity()}),t}function C0(s,t,a,i){if(typeof t=="function"){const[o,c]=Wy(i);t=t(a!==void 0?a:s.custom,o,c)}if(typeof t=="string"&&(t=s.variants&&s.variants[t]),typeof t=="function"){const[o,c]=Wy(i);t=t(a!==void 0?a:s.custom,o,c)}return t}function Gc(s){return Zt(s)?s.get():s}function gj({scrapeMotionValuesFromProps:s,createRenderState:t},a,i,o){return{latestValues:pj(a,i,o,s),renderState:t()}}function pj(s,t,a,i){const o={},c=i(s,{});for(const w in c)o[w]=Gc(c[w]);let{initial:u,animate:m}=s;const g=yu(s),p=Lx(s);t&&p&&!g&&s.inherit!==!1&&(u===void 0&&(u=t.initial),m===void 0&&(m=t.animate));let y=a?a.initial===!1:!1;y=y||u===!1;const b=y?m:u;if(b&&typeof b!="boolean"&&!pu(b)){const w=Array.isArray(b)?b:[b];for(let _=0;_<w.length;_++){const E=C0(s,w[_]);if(E){const{transitionEnd:k,transition:T,...M}=E;for(const V in M){let O=M[V];if(Array.isArray(O)){const F=y?O.length-1:0;O=O[F]}O!==null&&(o[V]=O)}for(const V in k)o[V]=k[V]}}}return o}const Hx=s=>(t,a)=>{const i=L.useContext(gu),o=L.useContext(mu),c=()=>gj(s,t,i,o);return a?c():t0(c)};function N0(s,t,a){var c;const{style:i}=s,o={};for(const u in i)(Zt(i[u])||t.style&&Zt(t.style[u])||Bx(u,s)||((c=a==null?void 0:a.getValue(u))==null?void 0:c.liveStyle)!==void 0)&&(o[u]=i[u]);return o}const yj=Hx({scrapeMotionValuesFromProps:N0,createRenderState:k0});function Fx(s,t,a){const i=N0(s,t,a);for(const o in s)if(Zt(s[o])||Zt(t[o])){const c=Mi.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[c]=s[o]}return i}const vj=Hx({scrapeMotionValuesFromProps:Fx,createRenderState:Px}),bj=Symbol.for("motionComponentSymbol");function xi(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function xj(s,t,a){return L.useCallback(i=>{i&&s.onMount&&s.onMount(i),t&&(i?t.mount(i):t.unmount()),a&&(typeof a=="function"?a(i):xi(a)&&(a.current=i))},[t])}const O0=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wj="framerAppearId",qx="data-"+O0(wj),Gx=L.createContext({});function Sj(s,t,a,i,o){var k,T;const{visualElement:c}=L.useContext(gu),u=L.useContext(Ux),m=L.useContext(mu),g=L.useContext(_0).reducedMotion,p=L.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(s,{visualState:t,parent:c,props:a,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const y=p.current,b=L.useContext(Gx);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&_j(p.current,a,o,b);const w=L.useRef(!1);L.useInsertionEffect(()=>{y&&w.current&&y.update(a,m)});const _=a[qx],E=L.useRef(!!_&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,_))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,_)));return Ib(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),E.current&&y.animationState&&y.animationState.animateChanges())}),L.useEffect(()=>{y&&(!E.current&&y.animationState&&y.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,_)}),E.current=!1),y.enteringChildren=void 0)}),y}function _j(s,t,a,i){const{layoutId:o,layout:c,drag:u,dragConstraints:m,layoutScroll:g,layoutRoot:p,layoutCrossfade:y}=t;s.projection=new a(s.latestValues,t["data-framer-portal-id"]?void 0:Yx(s.parent)),s.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||m&&xi(m),visualElement:s,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:g,layoutRoot:p})}function Yx(s){if(s)return s.options.allowProjection!==!1?s.projection:Yx(s.parent)}function Ih(s,{forwardMotionProps:t=!1}={},a,i){a&&JE(a);const o=A0(s)?vj:yj;function c(m,g){let p;const y={...L.useContext(_0),...m,layoutId:Tj(m)},{isStatic:b}=y,w=tj(m),_=o(m,b);if(!b&&n0){Ej();const E=jj(y);p=E.MeasureLayout,w.visualElement=Sj(s,_,y,i,E.ProjectionNode)}return f.jsxs(gu.Provider,{value:w,children:[p&&w.visualElement?f.jsx(p,{visualElement:w.visualElement,...y}):null,mj(s,m,xj(_,w.visualElement,g),_,b,t)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const u=L.forwardRef(c);return u[bj]=s,u}function Tj({layoutId:s}){const t=L.useContext(e0).id;return t&&s!==void 0?t+"-"+s:s}function Ej(s,t){L.useContext(Ux).strict}function jj(s){const{drag:t,layout:a}=Ai;if(!t&&!a)return{};const i={...t,...a};return{MeasureLayout:t!=null&&t.isEnabled(s)||a!=null&&a.isEnabled(s)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function kj(s,t){if(typeof Proxy>"u")return Ih;const a=new Map,i=(c,u)=>Ih(c,u,s,t),o=(c,u)=>i(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?i:(a.has(u)||a.set(u,Ih(u,void 0,s,t)),a.get(u))})}function Kx({top:s,left:t,right:a,bottom:i}){return{x:{min:t,max:a},y:{min:s,max:i}}}function Aj({x:s,y:t}){return{top:t.min,right:s.max,bottom:t.max,left:s.min}}function Cj(s,t){if(!t)return s;const a=t({x:s.left,y:s.top}),i=t({x:s.right,y:s.bottom});return{top:a.y,left:a.x,bottom:i.y,right:i.x}}function Hh(s){return s===void 0||s===1}function Tf({scale:s,scaleX:t,scaleY:a}){return!Hh(s)||!Hh(t)||!Hh(a)}function yr(s){return Tf(s)||Xx(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function Xx(s){return ev(s.x)||ev(s.y)}function ev(s){return s&&s!=="0%"}function su(s,t,a){const i=s-a,o=t*i;return a+o}function tv(s,t,a,i,o){return o!==void 0&&(s=su(s,o,i)),su(s,a,i)+t}function Ef(s,t=0,a=1,i,o){s.min=tv(s.min,t,a,i,o),s.max=tv(s.max,t,a,i,o)}function Jx(s,{x:t,y:a}){Ef(s.x,t.translate,t.scale,t.originPoint),Ef(s.y,a.translate,a.scale,a.originPoint)}const nv=.999999999999,sv=1.0000000000001;function Nj(s,t,a,i=!1){const o=a.length;if(!o)return;t.x=t.y=1;let c,u;for(let m=0;m<o;m++){c=a[m],u=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Si(s,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,Jx(s,u)),i&&yr(c.latestValues)&&Si(s,c.latestValues))}t.x<sv&&t.x>nv&&(t.x=1),t.y<sv&&t.y>nv&&(t.y=1)}function wi(s,t){s.min=s.min+t,s.max=s.max+t}function av(s,t,a,i,o=.5){const c=ut(s.min,s.max,o);Ef(s,t,a,c,i)}function Si(s,t){av(s.x,t.x,t.scaleX,t.scale,t.originX),av(s.y,t.y,t.scaleY,t.scale,t.originY)}function Zx(s,t){return Kx(Cj(s.getBoundingClientRect(),t))}function Oj(s,t,a){const i=Zx(s,a),{scroll:o}=t;return o&&(wi(i.x,o.offset.x),wi(i.y,o.offset.y)),i}const rv=()=>({translate:0,scale:1,origin:0,originPoint:0}),_i=()=>({x:rv(),y:rv()}),iv=()=>({min:0,max:0}),zt=()=>({x:iv(),y:iv()}),jf={current:null},Qx={current:!1};function Dj(){if(Qx.current=!0,!!n0)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),t=()=>jf.current=s.matches;s.addEventListener("change",t),t()}else jf.current=!1}const Rj=new WeakMap;function Mj(s,t,a){for(const i in t){const o=t[i],c=a[i];if(Zt(o))s.addValue(i,o);else if(Zt(c))s.addValue(i,ki(o,{owner:s}));else if(c!==o)if(s.hasValue(i)){const u=s.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=s.getStaticValue(i);s.addValue(i,ki(u!==void 0?u:o,{owner:s}))}}for(const i in a)t[i]===void 0&&s.removeValue(i);return t}const lv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Uj{scrapeMotionValuesFromProps(t,a,i){return{}}constructor({parent:t,props:a,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=v0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=hn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ct.render(this.render,!1,!0))};const{latestValues:g,renderState:p}=u;this.latestValues=g,this.baseTarget={...g},this.initialValues=a.initial?{...g}:{},this.renderState=p,this.parent=t,this.props=a,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=yu(a),this.isVariantNode=Lx(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(a,{},this);for(const w in b){const _=b[w];g[w]!==void 0&&Zt(_)&&_.set(g[w])}}mount(t){var a;this.current=t,Rj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),Qx.current||Dj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jf.current,(a=this.parent)==null||a.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Na(this.notifyUpdate),Na(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const a in this.events)this.events[a].clear();for(const a in this.features){const i=this.features[a];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Ui.has(t);i&&this.onBindTransform&&this.onBindTransform();const o=a.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ct.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{o(),c&&c(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ai){const a=Ai[t];if(!a)continue;const{isEnabled:i,Feature:o}=a;if(!this.features[t]&&o&&i(this.props)&&(this.features[t]=new o(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let i=0;i<lv.length;i++){const o=lv[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=t[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=Mj(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const i=this.values.get(t);a!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&a!==void 0&&(i=ki(a===null?void 0:a,{owner:this}),this.addValue(t,i)),i}readValue(t,a){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Hb(i)||qb(i))?i=parseFloat(i):!HE(i)&&Oa.test(a)&&(i=kx(t,a)),this.setBaseTarget(t,Zt(i)?i.get():i)),Zt(i)?i.get():i}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){var c;const{initial:a}=this.props;let i;if(typeof a=="string"||typeof a=="object"){const u=C0(this.props,a,(c=this.presenceContext)==null?void 0:c.custom);u&&(i=u[t])}if(a&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Zt(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new l0),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){w0.render(this.render)}}class Wx extends Uj{constructor(){super(...arguments),this.KeyframeResolver=OE}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:i}){delete a[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Zt(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function e1(s,{style:t,vars:a},i,o){const c=s.style;let u;for(u in t)c[u]=t[u];o==null||o.applyProjectionStyles(c,i);for(u in a)c.setProperty(u,a[u])}function zj(s){return window.getComputedStyle(s)}class Lj extends Wx{constructor(){super(...arguments),this.type="html",this.renderInstance=e1}readValueFromInstance(t,a){var i;if(Ui.has(a))return(i=this.projection)!=null&&i.isProjecting?pf(a):JT(t,a);{const o=zj(t),c=(rx(a)?o.getPropertyValue(a):o[a])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(t,{transformPagePoint:a}){return Zx(t,a)}build(t,a,i){j0(t,a,i.transformTemplate)}scrapeMotionValuesFromProps(t,a,i){return N0(t,a,i)}}const t1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bj(s,t,a,i){e1(s,t,void 0,i);for(const o in t.attrs)s.setAttribute(t1.has(o)?o:O0(o),t.attrs[o])}class Vj extends Wx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(Ui.has(a)){const i=jx(a);return i&&i.default||0}return a=t1.has(a)?a:O0(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,i){return Fx(t,a,i)}build(t,a,i){$x(t,a,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,a,i,o){Bj(t,a,i,o)}mount(t){this.isSVGTag=Ix(t.tagName),super.mount(t)}}const $j=(s,t)=>A0(s)?new Vj(t):new Lj(t,{allowProjection:s!==L.Fragment});function Ti(s,t,a){const i=s.getProps();return C0(i,t,a!==void 0?a:i.custom,s)}const kf=s=>Array.isArray(s);function Pj(s,t,a){s.hasValue(t)?s.getValue(t).set(a):s.addValue(t,ki(a))}function Ij(s){return kf(s)?s[s.length-1]||0:s}function Hj(s,t){const a=Ti(s,t);let{transitionEnd:i={},transition:o={},...c}=a||{};c={...c,...i};for(const u in c){const m=Ij(c[u]);Pj(s,u,m)}}function Fj(s){return!!(Zt(s)&&s.add)}function Af(s,t){const a=s.getValue("willChange");if(Fj(a))return a.add(t);if(!a&&Gs.WillChange){const i=new Gs.WillChange("auto");s.addValue("willChange",i),i.add(t)}}function n1(s){return s.props[qx]}const qj=s=>s!==null;function Gj(s,{repeat:t,repeatType:a="loop"},i){const o=s.filter(qj),c=t&&a!=="loop"&&t%2===1?0:o.length-1;return o[c]}const Yj={type:"spring",stiffness:500,damping:25,restSpeed:10},Kj=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),Xj={type:"keyframes",duration:.8},Jj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zj=(s,{keyframes:t})=>t.length>2?Xj:Ui.has(s)?s.startsWith("scale")?Kj(t[1]):Yj:Jj;function Qj({when:s,delay:t,delayChildren:a,staggerChildren:i,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:m,from:g,elapsed:p,...y}){return!!Object.keys(y).length}const D0=(s,t,a,i={},o,c)=>u=>{const m=b0(i,s)||{},g=m.delay||i.delay||0;let{elapsed:p=0}=i;p=p-ds(g);const y={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-p,onUpdate:w=>{t.set(w),m.onUpdate&&m.onUpdate(w)},onComplete:()=>{u(),m.onComplete&&m.onComplete()},name:s,motionValue:t,element:c?void 0:o};Qj(m)||Object.assign(y,Zj(s,y)),y.duration&&(y.duration=ds(y.duration)),y.repeatDelay&&(y.repeatDelay=ds(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(wf(y),y.delay===0&&(b=!0)),(Gs.instantAnimations||Gs.skipAnimations)&&(b=!0,wf(y),y.delay=0),y.allowFlatten=!m.type&&!m.ease,b&&!c&&t.get()!==void 0){const w=Gj(y.keyframes,m);if(w!==void 0){ct.update(()=>{y.onUpdate(w),y.onComplete()});return}}return m.isSync?new y0(y):new bE(y)};function Wj({protectedKeys:s,needsAnimating:t},a){const i=s.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,i}function s1(s,t,{delay:a=0,transitionOverride:i,type:o}={}){let{transition:c=s.getDefaultTransition(),transitionEnd:u,...m}=t;i&&(c=i);const g=[],p=o&&s.animationState&&s.animationState.getState()[o];for(const y in m){const b=s.getValue(y,s.latestValues[y]??null),w=m[y];if(w===void 0||p&&Wj(p,y))continue;const _={delay:a,...b0(c||{},y)},E=b.get();if(E!==void 0&&!b.isAnimating&&!Array.isArray(w)&&w===E&&!_.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const M=n1(s);if(M){const V=window.MotionHandoffAnimation(M,y,ct);V!==null&&(_.startTime=V,k=!0)}}Af(s,y),b.start(D0(y,b,w,s.shouldReduceMotion&&_x.has(y)?{type:!1}:_,s,k));const T=b.animation;T&&g.push(T)}return u&&Promise.all(g).then(()=>{ct.update(()=>{u&&Hj(s,u)})}),g}function a1(s,t,a,i=0,o=1){const c=Array.from(s).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=s.size,m=(u-1)*i;return typeof a=="function"?a(c,u):o===1?c*i:m-c*i}function Cf(s,t,a={}){var g;const i=Ti(s,t,a.type==="exit"?(g=s.presenceContext)==null?void 0:g.custom:void 0);let{transition:o=s.getDefaultTransition()||{}}=i||{};a.transitionOverride&&(o=a.transitionOverride);const c=i?()=>Promise.all(s1(s,i,a)):()=>Promise.resolve(),u=s.variantChildren&&s.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:b,staggerDirection:w}=o;return ek(s,t,p,y,b,w,a)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,y]=m==="beforeChildren"?[c,u]:[u,c];return p().then(()=>y())}else return Promise.all([c(),u(a.delay)])}function ek(s,t,a=0,i=0,o=0,c=1,u){const m=[];for(const g of s.variantChildren)g.notify("AnimationStart",t),m.push(Cf(g,t,{...u,delay:a+(typeof i=="function"?0:i)+a1(s.variantChildren,g,i,o,c)}).then(()=>g.notify("AnimationComplete",t)));return Promise.all(m)}function tk(s,t,a={}){s.notify("AnimationStart",t);let i;if(Array.isArray(t)){const o=t.map(c=>Cf(s,c,a));i=Promise.all(o)}else if(typeof t=="string")i=Cf(s,t,a);else{const o=typeof t=="function"?Ti(s,t,a.custom):t;i=Promise.all(s1(s,o,a))}return i.then(()=>{s.notify("AnimationComplete",t)})}function r1(s,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==s.length)return!1;for(let i=0;i<a;i++)if(t[i]!==s[i])return!1;return!0}const nk=E0.length;function i1(s){if(!s)return;if(!s.isControllingVariants){const a=s.parent?i1(s.parent)||{}:{};return s.props.initial!==void 0&&(a.initial=s.props.initial),a}const t={};for(let a=0;a<nk;a++){const i=E0[a],o=s.props[i];(to(o)||o===!1)&&(t[i]=o)}return t}const sk=[...T0].reverse(),ak=T0.length;function rk(s){return t=>Promise.all(t.map(({animation:a,options:i})=>tk(s,a,i)))}function ik(s){let t=rk(s),a=ov(),i=!0;const o=g=>(p,y)=>{var w;const b=Ti(s,y,g==="exit"?(w=s.presenceContext)==null?void 0:w.custom:void 0);if(b){const{transition:_,transitionEnd:E,...k}=b;p={...p,...k,...E}}return p};function c(g){t=g(s)}function u(g){const{props:p}=s,y=i1(s.parent)||{},b=[],w=new Set;let _={},E=1/0;for(let T=0;T<ak;T++){const M=sk[T],V=a[M],O=p[M]!==void 0?p[M]:y[M],F=to(O),J=M===g?V.isActive:null;J===!1&&(E=T);let ee=O===y[M]&&O!==p[M]&&F;if(ee&&i&&s.manuallyAnimateOnMount&&(ee=!1),V.protectedKeys={..._},!V.isActive&&J===null||!O&&!V.prevProp||pu(O)||typeof O=="boolean")continue;const G=lk(V.prevProp,O);let Z=G||M===g&&V.isActive&&!ee&&F||T>E&&F,se=!1;const le=Array.isArray(O)?O:[O];let ye=le.reduce(o(M),{});J===!1&&(ye={});const{prevResolvedValues:Se={}}=V,st={...Se,...ye},Qe=K=>{Z=!0,w.has(K)&&(se=!0,w.delete(K)),V.needsAnimating[K]=!0;const ue=s.getValue(K);ue&&(ue.liveStyle=!1)};for(const K in st){const ue=ye[K],Ae=Se[K];if(_.hasOwnProperty(K))continue;let Ce=!1;kf(ue)&&kf(Ae)?Ce=!r1(ue,Ae):Ce=ue!==Ae,Ce?ue!=null?Qe(K):w.add(K):ue!==void 0&&w.has(K)?Qe(K):V.protectedKeys[K]=!0}V.prevProp=O,V.prevResolvedValues=ye,V.isActive&&(_={..._,...ye}),i&&s.blockInitialAnimation&&(Z=!1);const Pe=ee&&G;Z&&(!Pe||se)&&b.push(...le.map(K=>{const ue={type:M};if(typeof K=="string"&&i&&!Pe&&s.manuallyAnimateOnMount&&s.parent){const{parent:Ae}=s,Ce=Ti(Ae,K);if(Ae.enteringChildren&&Ce){const{delayChildren:D}=Ce.transition||{};ue.delay=a1(Ae.enteringChildren,s,D)}}return{animation:K,options:ue}}))}if(w.size){const T={};if(typeof p.initial!="boolean"){const M=Ti(s,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(T.transition=M.transition)}w.forEach(M=>{const V=s.getBaseTarget(M),O=s.getValue(M);O&&(O.liveStyle=!0),T[M]=V??null}),b.push({animation:T})}let k=!!b.length;return i&&(p.initial===!1||p.initial===p.animate)&&!s.manuallyAnimateOnMount&&(k=!1),i=!1,k?t(b):Promise.resolve()}function m(g,p){var b;if(a[g].isActive===p)return Promise.resolve();(b=s.variantChildren)==null||b.forEach(w=>{var _;return(_=w.animationState)==null?void 0:_.setActive(g,p)}),a[g].isActive=p;const y=u(g);for(const w in a)a[w].protectedKeys={};return y}return{animateChanges:u,setActive:m,setAnimateFunction:c,getState:()=>a,reset:()=>{a=ov()}}}function lk(s,t){return typeof t=="string"?t!==s:Array.isArray(t)?!r1(t,s):!1}function fr(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ov(){return{animate:fr(!0),whileInView:fr(),whileHover:fr(),whileTap:fr(),whileDrag:fr(),whileFocus:fr(),exit:fr()}}class Da{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ok extends Da{constructor(t){super(t),t.animationState||(t.animationState=ik(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();pu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ck=0;class uk extends Da{constructor(){super(...arguments),this.id=ck++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t);a&&!t&&o.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const dk={animation:{Feature:ok},exit:{Feature:uk}};function no(s,t,a,i={passive:!0}){return s.addEventListener(t,a,i),()=>s.removeEventListener(t,a)}function uo(s){return{point:{x:s.pageX,y:s.pageY}}}const hk=s=>t=>S0(t)&&s(t,uo(t));function Xl(s,t,a,i){return no(s,t,hk(a),i)}const l1=1e-4,fk=1-l1,mk=1+l1,o1=.01,gk=0-o1,pk=0+o1;function tn(s){return s.max-s.min}function yk(s,t,a){return Math.abs(s-t)<=a}function cv(s,t,a,i=.5){s.origin=i,s.originPoint=ut(t.min,t.max,s.origin),s.scale=tn(a)/tn(t),s.translate=ut(a.min,a.max,s.origin)-s.originPoint,(s.scale>=fk&&s.scale<=mk||isNaN(s.scale))&&(s.scale=1),(s.translate>=gk&&s.translate<=pk||isNaN(s.translate))&&(s.translate=0)}function Jl(s,t,a,i){cv(s.x,t.x,a.x,i?i.originX:void 0),cv(s.y,t.y,a.y,i?i.originY:void 0)}function uv(s,t,a){s.min=a.min+t.min,s.max=s.min+tn(t)}function vk(s,t,a){uv(s.x,t.x,a.x),uv(s.y,t.y,a.y)}function dv(s,t,a){s.min=t.min-a.min,s.max=s.min+tn(t)}function au(s,t,a){dv(s.x,t.x,a.x),dv(s.y,t.y,a.y)}function Ln(s){return[s("x"),s("y")]}const c1=({current:s})=>s?s.ownerDocument.defaultView:null,hv=(s,t)=>Math.abs(s-t);function bk(s,t){const a=hv(s.x,t.x),i=hv(s.y,t.y);return Math.sqrt(a**2+i**2)}class u1{constructor(t,a,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=qh(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=bk(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!E)return;const{point:k}=w,{timestamp:T}=Ft;this.history.push({...k,timestamp:T});const{onStart:M,onMove:V}=this.handlers;_||(M&&M(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Fh(_,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:E,onSessionEnd:k,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=qh(w.type==="pointercancel"?this.lastMoveEventInfo:Fh(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(w,M),k&&k(w,M)},!S0(t))return;this.dragSnapToOrigin=c,this.handlers=a,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const m=uo(t),g=Fh(m,this.transformPagePoint),{point:p}=g,{timestamp:y}=Ft;this.history=[{...p,timestamp:y}];const{onSessionStart:b}=a;b&&b(t,qh(g,this.history)),this.removeListeners=lo(Xl(this.contextWindow,"pointermove",this.handlePointerMove),Xl(this.contextWindow,"pointerup",this.handlePointerUp),Xl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Na(this.updatePoint)}}function Fh(s,t){return t?{point:t(s.point)}:s}function fv(s,t){return{x:s.x-t.x,y:s.y-t.y}}function qh({point:s},t){return{point:s,delta:fv(s,d1(t)),offset:fv(s,xk(t)),velocity:wk(t,.1)}}function xk(s){return s[0]}function d1(s){return s[s.length-1]}function wk(s,t){if(s.length<2)return{x:0,y:0};let a=s.length-1,i=null;const o=d1(s);for(;a>=0&&(i=s[a],!(o.timestamp-i.timestamp>ds(t)));)a--;if(!i)return{x:0,y:0};const c=Vn(o.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-i.x)/c,y:(o.y-i.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Sk(s,{min:t,max:a},i){return t!==void 0&&s<t?s=i?ut(t,s,i.min):Math.max(s,t):a!==void 0&&s>a&&(s=i?ut(a,s,i.max):Math.min(s,a)),s}function mv(s,t,a){return{min:t!==void 0?s.min+t:void 0,max:a!==void 0?s.max+a-(s.max-s.min):void 0}}function _k(s,{top:t,left:a,bottom:i,right:o}){return{x:mv(s.x,a,o),y:mv(s.y,t,i)}}function gv(s,t){let a=t.min-s.min,i=t.max-s.max;return t.max-t.min<s.max-s.min&&([a,i]=[i,a]),{min:a,max:i}}function Tk(s,t){return{x:gv(s.x,t.x),y:gv(s.y,t.y)}}function Ek(s,t){let a=.5;const i=tn(s),o=tn(t);return o>i?a=Ql(t.min,t.max-i,s.min):i>o&&(a=Ql(s.min,s.max-o,t.min)),qs(0,1,a)}function jk(s,t){const a={};return t.min!==void 0&&(a.min=t.min-s.min),t.max!==void 0&&(a.max=t.max-s.min),a}const Nf=.35;function kk(s=Nf){return s===!1?s=0:s===!0&&(s=Nf),{x:pv(s,"left","right"),y:pv(s,"top","bottom")}}function pv(s,t,a){return{min:yv(s,t),max:yv(s,a)}}function yv(s,t){return typeof s=="number"?s:s[t]||0}const Ak=new WeakMap;class Ck{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=b=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(uo(b).point)},u=(b,w)=>{const{drag:_,dragPropagation:E,onDragStart:k}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UE(_),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ln(M=>{let V=this.getAxisMotionValue(M).get()||0;if(hs.test(V)){const{projection:O}=this.visualElement;if(O&&O.layout){const F=O.layout.layoutBox[M];F&&(V=tn(F)*(parseFloat(V)/100))}}this.originPoint[M]=V}),k&&ct.postRender(()=>k(b,w)),Af(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},m=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:k,onDrag:T}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:M}=w;if(E&&this.currentDirection===null){this.currentDirection=Nk(M),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,M),this.updateAxis("y",w.point,M),this.visualElement.render(),T&&T(b,w)},g=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ln(b=>{var w;return this.getAnimationState(b)==="paused"&&((w=this.getAxisMotionValue(b).animation)==null?void 0:w.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new u1(t,{onSessionStart:c,onStart:u,onMove:m,onSessionEnd:g,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:c1(this.visualElement)})}stop(t,a){const i=t||this.latestPointerEvent,o=a||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:m}=this.getProps();m&&ct.postRender(()=>m(i,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,i){const{drag:o}=this.getProps();if(!i||!Rc(t,o,this.currentDirection))return;const c=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=Sk(u,this.constraints[t],this.elastic[t])),c.set(u)}resolveConstraints(){var c;const{dragConstraints:t,dragElastic:a}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,o=this.constraints;t&&xi(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=_k(i.layoutBox,t):this.constraints=!1,this.elastic=kk(a),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ln(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=jk(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!xi(t))return!1;const i=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=Oj(i,o.root,this.visualElement.getTransformPagePoint());let u=Tk(o.layout.layoutBox,c);if(a){const m=a(Aj(u));this.hasMutatedConstraints=!!m,m&&(u=Kx(m))}return u}startAnimation(t){const{drag:a,dragMomentum:i,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},p=Ln(y=>{if(!Rc(y,a,this.currentDirection))return;let b=g&&g[y]||{};u&&(b={min:0,max:0});const w=o?200:1e6,_=o?40:1e7,E={type:"inertia",velocity:i?t[y]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...c,...b};return this.startAxisValueAnimation(y,E)});return Promise.all(p).then(m)}startAxisValueAnimation(t,a){const i=this.getAxisMotionValue(t);return Af(this.visualElement,t),i.start(D0(t,i,0,a,this.visualElement,!1))}stopAnimation(){Ln(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ln(t=>{var a;return(a=this.getAxisMotionValue(t).animation)==null?void 0:a.pause()})}getAnimationState(t){var a;return(a=this.getAxisMotionValue(t).animation)==null?void 0:a.state}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),o=i[a];return o||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Ln(a=>{const{drag:i}=this.getProps();if(!Rc(a,i,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(a);if(o&&o.layout){const{min:u,max:m}=o.layout.layoutBox[a];c.set(t[a]-ut(u,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:i}=this.visualElement;if(!xi(a)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ln(u=>{const m=this.getAxisMotionValue(u);if(m&&this.constraints!==!1){const g=m.get();o[u]=Ek({min:g,max:g},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ln(u=>{if(!Rc(u,t,null))return;const m=this.getAxisMotionValue(u),{min:g,max:p}=this.constraints[u];m.set(ut(g,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;Ak.set(this.visualElement,this);const t=this.visualElement.current,a=Xl(t,"pointerdown",g=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(g)}),i=()=>{const{dragConstraints:g}=this.getProps();xi(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ct.read(i);const u=no(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ln(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=g[y].translate,b.set(b.get()+g[y].translate))}),this.visualElement.render())}));return()=>{u(),a(),c(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=Nf,dragMomentum:m=!0}=t;return{...t,drag:a,dragDirectionLock:i,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:m}}}function Rc(s,t,a){return(t===!0||t===s)&&(a===null||a===s)}function Nk(s,t=10){let a=null;return Math.abs(s.y)>t?a="y":Math.abs(s.x)>t&&(a="x"),a}class Ok extends Da{constructor(t){super(t),this.removeGroupControls=$n,this.removeListeners=$n,this.controls=new Ck(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$n}unmount(){this.removeGroupControls(),this.removeListeners()}}const vv=s=>(t,a)=>{s&&ct.postRender(()=>s(t,a))};class Dk extends Da{constructor(){super(...arguments),this.removePointerDownListener=$n}onPointerDown(t){this.session=new u1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:c1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:vv(t),onStart:vv(a),onMove:i,onEnd:(c,u)=>{delete this.session,o&&ct.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=Xl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Gh=!1;class Rk extends L.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:i,layoutId:o}=this.props,{projection:c}=t;c&&(a.group&&a.group.add(c),i&&i.register&&o&&i.register(c),Gh&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Yc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:i,drag:o,isPresent:c}=this.props,{projection:u}=i;return u&&(u.isPresent=c,Gh=!0,o||t.layoutDependency!==a||a===void 0||t.isPresent!==c?u.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?u.promote():u.relegate()||ct.postRender(()=>{const m=u.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),w0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:i}=this.props,{projection:o}=t;Gh=!0,o&&(o.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function h1(s){const[t,a]=Mx(),i=L.useContext(e0);return f.jsx(Rk,{...s,layoutGroup:i,switchLayoutGroup:L.useContext(Gx),isPresent:t,safeToRemove:a})}function Mk(s,t,a){const i=Zt(s)?s:ki(s);return i.start(D0("",i,t,a)),i.animation}const Uk=(s,t)=>s.depth-t.depth;class zk{constructor(){this.children=[],this.isDirty=!1}add(t){s0(this.children,t),this.isDirty=!0}remove(t){a0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Uk),this.isDirty=!1,this.children.forEach(t)}}function Lk(s,t){const a=hn.now(),i=({timestamp:o})=>{const c=o-a;c>=t&&(Na(i),s(c-t))};return ct.setup(i,!0),()=>Na(i)}const f1=["TopLeft","TopRight","BottomLeft","BottomRight"],Bk=f1.length,bv=s=>typeof s=="string"?parseFloat(s):s,xv=s=>typeof s=="number"||we.test(s);function Vk(s,t,a,i,o,c){o?(s.opacity=ut(0,a.opacity??1,$k(i)),s.opacityExit=ut(t.opacity??1,0,Pk(i))):c&&(s.opacity=ut(t.opacity??1,a.opacity??1,i));for(let u=0;u<Bk;u++){const m=`border${f1[u]}Radius`;let g=wv(t,m),p=wv(a,m);if(g===void 0&&p===void 0)continue;g||(g=0),p||(p=0),g===0||p===0||xv(g)===xv(p)?(s[m]=Math.max(ut(bv(g),bv(p),i),0),(hs.test(p)||hs.test(g))&&(s[m]+="%")):s[m]=p}(t.rotate||a.rotate)&&(s.rotate=ut(t.rotate||0,a.rotate||0,i))}function wv(s,t){return s[t]!==void 0?s[t]:s.borderRadius}const $k=m1(0,.5,Wb),Pk=m1(.5,.95,$n);function m1(s,t,a){return i=>i<s?0:i>t?1:a(Ql(s,t,i))}function Sv(s,t){s.min=t.min,s.max=t.max}function Yn(s,t){Sv(s.x,t.x),Sv(s.y,t.y)}function _v(s,t){s.translate=t.translate,s.scale=t.scale,s.originPoint=t.originPoint,s.origin=t.origin}function Tv(s,t,a,i,o){return s-=t,s=su(s,1/a,i),o!==void 0&&(s=su(s,1/o,i)),s}function Ik(s,t=0,a=1,i=.5,o,c=s,u=s){if(hs.test(t)&&(t=parseFloat(t),t=ut(u.min,u.max,t/100)-u.min),typeof t!="number")return;let m=ut(c.min,c.max,i);s===c&&(m-=t),s.min=Tv(s.min,t,a,m,o),s.max=Tv(s.max,t,a,m,o)}function Ev(s,t,[a,i,o],c,u){Ik(s,t[a],t[i],t[o],t.scale,c,u)}const Hk=["x","scaleX","originX"],Fk=["y","scaleY","originY"];function jv(s,t,a,i){Ev(s.x,t,Hk,a?a.x:void 0,i?i.x:void 0),Ev(s.y,t,Fk,a?a.y:void 0,i?i.y:void 0)}function kv(s){return s.translate===0&&s.scale===1}function g1(s){return kv(s.x)&&kv(s.y)}function Av(s,t){return s.min===t.min&&s.max===t.max}function qk(s,t){return Av(s.x,t.x)&&Av(s.y,t.y)}function Cv(s,t){return Math.round(s.min)===Math.round(t.min)&&Math.round(s.max)===Math.round(t.max)}function p1(s,t){return Cv(s.x,t.x)&&Cv(s.y,t.y)}function Nv(s){return tn(s.x)/tn(s.y)}function Ov(s,t){return s.translate===t.translate&&s.scale===t.scale&&s.originPoint===t.originPoint}class Gk{constructor(){this.members=[]}add(t){s0(this.members,t),t.scheduleRender()}remove(t){if(a0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(o=>t===o);if(a===0)return!1;let i;for(let o=a;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(t,a){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,a&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:i}=t;a.onExitComplete&&a.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yk(s,t,a){let i="";const o=s.x.translate/t.x,c=s.y.translate/t.y,u=(a==null?void 0:a.z)||0;if((o||c||u)&&(i=`translate3d(${o}px, ${c}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:p,rotate:y,rotateX:b,rotateY:w,skewX:_,skewY:E}=a;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),b&&(i+=`rotateX(${b}deg) `),w&&(i+=`rotateY(${w}deg) `),_&&(i+=`skewX(${_}deg) `),E&&(i+=`skewY(${E}deg) `)}const m=s.x.scale*t.x,g=s.y.scale*t.y;return(m!==1||g!==1)&&(i+=`scale(${m}, ${g})`),i||"none"}const Yh=["","X","Y","Z"],Kk=1e3;let Xk=0;function Kh(s,t,a,i){const{latestValues:o}=t;o[s]&&(a[s]=o[s],t.setStaticValue(s,0),i&&(i[s]=0))}function y1(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:t}=s.options;if(!t)return;const a=n1(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:o,layoutId:c}=s.options;window.MotionCancelOptimisedAnimation(a,"transform",ct,!(o||c))}const{parent:i}=s;i&&!i.hasCheckedOptimisedAppear&&y1(i)}function v1({attachResizeListener:s,defaultParent:t,measureScroll:a,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},m=t==null?void 0:t()){this.id=Xk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Qk),this.nodes.forEach(nA),this.nodes.forEach(sA),this.nodes.forEach(Wk)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new zk)}addEventListener(u,m){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new l0),this.eventHandlers.get(u).add(m)}notifyListeners(u,...m){const g=this.eventHandlers.get(u);g&&g.notify(...m)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Rx(u)&&!PE(u),this.instance=u;const{layoutId:m,layout:g,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||m)&&(this.isLayoutDirty=!0),s){let y,b=0;const w=()=>this.root.updateBlockedByResize=!1;ct.read(()=>{b=window.innerWidth}),s(u,()=>{const _=window.innerWidth;_!==b&&(b=_,this.root.updateBlockedByResize=!0,y&&y(),y=Lk(w,250),Yc.hasAnimatedSinceResize&&(Yc.hasAnimatedSinceResize=!1,this.nodes.forEach(Mv)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&p&&(m||g)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||oA,{onLayoutAnimationStart:k,onLayoutAnimationComplete:T}=p.getProps(),M=!this.targetLayout||!p1(this.targetLayout,_),V=!b&&w;if(this.options.layoutRoot||this.resumeFrom||V||b&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...b0(E,"layout"),onPlay:k,onComplete:T};(p.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(y,V)}else b||Mv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Na(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aA),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&y1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Dv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Rv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tA),this.nodes.forEach(Jk),this.nodes.forEach(Zk)):this.nodes.forEach(Rv),this.clearAllSnapshots();const m=hn.now();Ft.delta=qs(0,1e3/60,m-Ft.timestamp),Ft.timestamp=m,Ft.isProcessing=!0,zh.update.process(Ft),zh.preRender.process(Ft),zh.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,w0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eA),this.sharedNodes.forEach(rA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tn(this.snapshot.measuredBox.x)&&!tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(m=!1),m&&this.instance){const g=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:g,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!g1(this.projectionDelta),g=this.getTransformTemplate(),p=g?g(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(m||yr(this.latestValues)||y)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return u&&(g=this.removeTransform(g)),cA(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return zt();const m=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(uA))){const{scroll:y}=this.root;y&&(wi(m.x,y.offset.x),wi(m.y,y.offset.y))}return m}removeElementScroll(u){var g;const m=zt();if(Yn(m,u),(g=this.scroll)!=null&&g.wasRoot)return m;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:b,options:w}=y;y!==this.root&&b&&w.layoutScroll&&(b.wasRoot&&Yn(m,u),wi(m.x,b.offset.x),wi(m.y,b.offset.y))}return m}applyTransform(u,m=!1){const g=zt();Yn(g,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!m&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Si(g,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),yr(y.latestValues)&&Si(g,y.latestValues)}return yr(this.latestValues)&&Si(g,this.latestValues),g}removeTransform(u){const m=zt();Yn(m,u);for(let g=0;g<this.path.length;g++){const p=this.path[g];if(!p.instance||!yr(p.latestValues))continue;Tf(p.latestValues)&&p.updateSnapshot();const y=zt(),b=p.measurePageBox();Yn(y,b),jv(m,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return yr(this.latestValues)&&jv(m,this.latestValues),m}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var _;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!this.layout||!(y||b))return;this.resolvedRelativeTargetAt=Ft.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),Jx(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Tf(this.parent.latestValues)||Xx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,m,g){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),au(this.relativeTargetOrigin,m,g),Yn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var E;const u=this.getLead(),m=!!this.resumingFrom||this!==u;let g=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(g=!1),g)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Yn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;Nj(this.layoutCorrected,this.treeScale,this.path,m),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=zt());const{target:_}=u;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_v(this.prevProjectionDelta.x,this.projectionDelta.x),_v(this.prevProjectionDelta.y,this.projectionDelta.y)),Jl(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!Ov(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ov(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),u){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_i(),this.projectionDelta=_i(),this.projectionDeltaWithTransform=_i()}setAnimationOrigin(u,m=!1){const g=this.snapshot,p=g?g.latestValues:{},y={...this.latestValues},b=_i();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const w=zt(),_=g?g.source:void 0,E=this.layout?this.layout.source:void 0,k=_!==E,T=this.getStack(),M=!T||T.members.length<=1,V=!!(k&&!M&&this.options.crossfade===!0&&!this.path.some(lA));this.animationProgress=0;let O;this.mixTargetDelta=F=>{const J=F/1e3;Uv(b.x,u.x,J),Uv(b.y,u.y,J),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(au(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iA(this.relativeTarget,this.relativeTargetOrigin,w,J),O&&qk(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=zt()),Yn(O,this.relativeTarget)),k&&(this.animationValues=y,Vk(y,p,this.latestValues,J,V,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var m,g,p;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(p=(g=this.resumingFrom)==null?void 0:g.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Na(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{Yc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ki(0)),this.currentAnimation=Mk(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),u.onUpdate&&u.onUpdate(y)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Kk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:m,target:g,layout:p,latestValues:y}=u;if(!(!m||!g||!p)){if(this!==u&&this.layout&&p&&b1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){g=this.target||zt();const b=tn(this.layout.layoutBox.x);g.x.min=u.target.x.min,g.x.max=g.x.min+b;const w=tn(this.layout.layoutBox.y);g.y.min=u.target.y.min,g.y.max=g.y.min+w}Yn(m,g),Si(m,y),Jl(this.projectionDeltaWithTransform,this.layoutCorrected,m,y)}}registerSharedNode(u,m){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Gk),this.sharedNodes.get(u).add(m);const p=m.options.initialPromotionConfig;m.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(m):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var m;const{layoutId:u}=this.options;return u?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:u}=this.options;return u?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:m,preserveFollowOpacity:g}={}){const p=this.getStack();p&&p.promote(this,g),u&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let m=!1;const{latestValues:g}=u;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const p={};g.z&&Kh("z",u,p,this.animationValues);for(let y=0;y<Yh.length;y++)Kh(`rotate${Yh[y]}`,u,p,this.animationValues),Kh(`skew${Yh[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Gc(m==null?void 0:m.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Gc(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!yr(this.latestValues)&&(u.transform=g?g({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=Yk(this.projectionDeltaWithTransform,this.treeScale,y);g&&(b=g(y,b)),u.transform=b;const{x:w,y:_}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const E in _f){if(y[E]===void 0)continue;const{correct:k,applyTo:T,isCSSVariable:M}=_f[E],V=b==="none"?y[E]:k(y[E],p);if(T){const O=T.length;for(let F=0;F<O;F++)u[T[F]]=V}else M?this.options.visualElement.renderState.vars[E]=V:u[E]=V}this.options.layoutId&&(u.pointerEvents=p===this?Gc(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var m;return(m=u.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach(Dv),this.root.sharedNodes.clear()}}}function Jk(s){s.updateLayout()}function Zk(s){var a;const t=((a=s.resumeFrom)==null?void 0:a.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&t&&s.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=s.layout,{animationType:c}=s.options,u=t.source!==s.layout.source;c==="size"?Ln(b=>{const w=u?t.measuredBox[b]:t.layoutBox[b],_=tn(w);w.min=i[b].min,w.max=w.min+_}):b1(c,t.layoutBox,i)&&Ln(b=>{const w=u?t.measuredBox[b]:t.layoutBox[b],_=tn(i[b]);w.max=w.min+_,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[b].max=s.relativeTarget[b].min+_)});const m=_i();Jl(m,i,t.layoutBox);const g=_i();u?Jl(g,s.applyTransform(o,!0),t.measuredBox):Jl(g,i,t.layoutBox);const p=!g1(m);let y=!1;if(!s.resumeFrom){const b=s.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:w,layout:_}=b;if(w&&_){const E=zt();au(E,t.layoutBox,w.layoutBox);const k=zt();au(k,i,_.layoutBox),p1(E,k)||(y=!0),b.options.layoutRoot&&(s.relativeTarget=k,s.relativeTargetOrigin=E,s.relativeParent=b)}}}s.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:g,layoutDelta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(s.isLead()){const{onExitComplete:i}=s.options;i&&i()}s.options.transition=void 0}function Qk(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function Wk(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function eA(s){s.clearSnapshot()}function Dv(s){s.clearMeasurements()}function Rv(s){s.isLayoutDirty=!1}function tA(s){const{visualElement:t}=s.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),s.resetTransform()}function Mv(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function nA(s){s.resolveTargetDelta()}function sA(s){s.calcProjection()}function aA(s){s.resetSkewAndRotation()}function rA(s){s.removeLeadSnapshot()}function Uv(s,t,a){s.translate=ut(t.translate,0,a),s.scale=ut(t.scale,1,a),s.origin=t.origin,s.originPoint=t.originPoint}function zv(s,t,a,i){s.min=ut(t.min,a.min,i),s.max=ut(t.max,a.max,i)}function iA(s,t,a,i){zv(s.x,t.x,a.x,i),zv(s.y,t.y,a.y,i)}function lA(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const oA={duration:.45,ease:[.4,0,.1,1]},Lv=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),Bv=Lv("applewebkit/")&&!Lv("chrome/")?Math.round:$n;function Vv(s){s.min=Bv(s.min),s.max=Bv(s.max)}function cA(s){Vv(s.x),Vv(s.y)}function b1(s,t,a){return s==="position"||s==="preserve-aspect"&&!yk(Nv(t),Nv(a),.2)}function uA(s){var t;return s!==s.root&&((t=s.scroll)==null?void 0:t.wasRoot)}const dA=v1({attachResizeListener:(s,t)=>no(s,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xh={current:void 0},x1=v1({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Xh.current){const s=new dA({});s.mount(window),s.setOptions({layoutScroll:!0}),Xh.current=s}return Xh.current},resetTransform:(s,t)=>{s.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),hA={pan:{Feature:Dk},drag:{Feature:Ok,ProjectionNode:x1,MeasureLayout:h1}};function $v(s,t,a){const{props:i}=s;s.animationState&&i.whileHover&&s.animationState.setActive("whileHover",a==="Start");const o="onHover"+a,c=i[o];c&&ct.postRender(()=>c(t,uo(t)))}class fA extends Da{mount(){const{current:t}=this.node;t&&(this.unmount=zE(t,(a,i)=>($v(this.node,i,"Start"),o=>$v(this.node,o,"End"))))}unmount(){}}class mA extends Da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lo(no(this.node.current,"focus",()=>this.onFocus()),no(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pv(s,t,a){const{props:i}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&i.whileTap&&s.animationState.setActive("whileTap",a==="Start");const o="onTap"+(a==="End"?"":a),c=i[o];c&&ct.postRender(()=>c(t,uo(t)))}class gA extends Da{mount(){const{current:t}=this.node;t&&(this.unmount=$E(t,(a,i)=>(Pv(this.node,i,"Start"),(o,{success:c})=>Pv(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Of=new WeakMap,Jh=new WeakMap,pA=s=>{const t=Of.get(s.target);t&&t(s)},yA=s=>{s.forEach(pA)};function vA({root:s,...t}){const a=s||document;Jh.has(a)||Jh.set(a,{});const i=Jh.get(a),o=JSON.stringify(t);return i[o]||(i[o]=new IntersectionObserver(yA,{root:s,...t})),i[o]}function bA(s,t,a){const i=vA(t);return Of.set(s,a),i.observe(s),()=>{Of.delete(s),i.unobserve(s)}}const xA={some:0,all:1};class wA extends Da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:i,amount:o="some",once:c}=t,u={root:a?a.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:xA[o]},m=g=>{const{isIntersecting:p}=g;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),w=p?y:b;w&&w(g)};return bA(this.node.current,u,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(SA(t,a))&&this.startObserver()}unmount(){}}function SA({viewport:s={}},{viewport:t={}}={}){return a=>s[a]!==t[a]}const _A={inView:{Feature:wA},tap:{Feature:gA},focus:{Feature:mA},hover:{Feature:fA}},TA={layout:{ProjectionNode:x1,MeasureLayout:h1}},EA={...dk,..._A,...hA,...TA},qe=kj(EA,$j),jA="https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest",Iv="Ascend",w1="https://hmnbdkwjgmwchuyhtmqh.supabase.co/functions/v1/google-auth",Hv={work:"9",personal:"10",meeting:"11",task:"7",focus:"5",break:"2",urgent:"4",later:"8",google:"1",demo:"3",move:"6"},kA=[{id:"1",hex:"#7986cb"},{id:"2",hex:"#33b679"},{id:"3",hex:"#8e24aa"},{id:"4",hex:"#e67c73"},{id:"5",hex:"#f6bf26"},{id:"6",hex:"#f4511e"},{id:"7",hex:"#039be5"},{id:"8",hex:"#616161"},{id:"9",hex:"#3f51b5"},{id:"10",hex:"#0b8043"},{id:"11",hex:"#d50000"}];function Fv(s){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function AA(s,t){const a=Fv(s),i=Fv(t);return!a||!i?1/0:Math.sqrt(Math.pow(a.r-i.r,2)+Math.pow(a.g-i.g,2)+Math.pow(a.b-i.b,2))}function CA(s){if(!s||!s.startsWith("#"))return"3";let t="3",a=1/0;for(const i of kA){const o=AA(s,i.hex);o<a&&(a=o,t=i.id)}return t}const S1={1:"Lavender",2:"Sage",3:"Grape (Vindruva)",4:"Flamingo",5:"Banana",6:"Tangerine",7:"Peacock",8:"Graphite",9:"Blueberry",10:"Basil",11:"Tomato"},NA={1:"#7986cb",2:"#33b679",3:"#8e24aa",4:"#e67c73",5:"#f6bf26",6:"#f4511e",7:"#039be5",8:"#616161",9:"#3f51b5",10:"#0b8043",11:"#d50000"};function OA(s){if(s)return NA[s]}function _1(s,t){if(s&&s.startsWith("#"))return CA(s);if(t){const a=t.toLowerCase();if(Hv[a])return Hv[a]}return"3"}let Ci=null,Qn=null,DA=!1,Ni=null;const vu="ascend_calendar_id",T1="ascend_google_user";function RA(s){Ni=s}async function R0(s,t={}){const a={"Content-Type":"application/json",...t.headers};return Ni&&(a.Authorization=`Bearer ${Ni}`),fetch(`${w1}${s}`,{...t,headers:a})}async function MA(){if(!Ni)return{connected:!1};try{const s=await R0("/auth/google/status");return s.ok?await s.json():{connected:!1}}catch(s){return console.error("Error checking Google connection status:",s),{connected:!1}}}async function Kc(){if(!Ni)return null;try{const s=await R0("/auth/google/token");if(!s.ok){const a=await s.json();if(a.needsReauth)return console.log("Google connection needs re-authorization"),null;throw new Error(a.error||"Failed to get token")}return Ci=(await s.json()).accessToken,Ci}catch(s){return console.error("Error getting access token:",s),null}}async function bu(){const s=await Kc();return s?(typeof gapi<"u"&&gapi.client&&gapi.client.setToken({access_token:s}),!0):!1}function UA(s){const t=encodeURIComponent(window.location.href);window.location.href=`${w1}/auth/google?userId=${s}&returnUrl=${t}`}async function zA(){if(!Ni)return!1;try{return(await R0("/auth/google/disconnect",{method:"POST"})).ok?(Ci=null,E1(),!0):!1}catch(s){return console.error("Error disconnecting Google:",s),!1}}function E1(){localStorage.removeItem(vu),localStorage.removeItem(T1),Qn=null}function Df(s){try{localStorage.setItem(T1,JSON.stringify(s))}catch(t){console.error("Error saving user:",t)}}function LA(){const s=new URLSearchParams(window.location.search),t=s.get("google_connected"),a=s.get("google_email"),i=s.get("google_error");return i?(console.error("Google OAuth error:",i),window.history.replaceState({},"",window.location.pathname),null):t==="true"?(window.history.replaceState({},"",window.location.pathname),a&&Df({email:a}),{connected:!0,email:a||void 0}):null}async function BA(){const s=localStorage.getItem(vu);return s&&(Qn=s),new Promise((t,a)=>{if(typeof gapi>"u"){a(new Error("Google API not loaded"));return}gapi.load("client",async()=>{try{await gapi.client.init({discoveryDocs:[jA]}),DA=!0,console.log("Google API client initialized"),t()}catch(i){a(i)}})})}function qv(s){Ci=s,s&&typeof gapi<"u"&&gapi.client&&(gapi.client.setToken({access_token:s}),console.log("GAPI client token configured"))}function Gv(s){try{localStorage.setItem(vu,s)}catch(t){console.error("Error saving calendar ID:",t)}}async function j1(){if(!Ci)throw new Error("Not signed in to Google");try{const a=((await gapi.client.calendar.calendarList.list()).result.items||[]).find(c=>c.summary===Iv);if(a)return console.log("Found existing Ascend calendar:",a.id),Qn=a.id,Gv(a.id),a.id;console.log("Creating new Ascend calendar...");const o=(await gapi.client.calendar.calendars.insert({resource:{summary:Iv,description:"Tasks and timeboxes from Ascend - Your productivity workspace",timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result.id;console.log("Created Ascend calendar:",o);try{await gapi.client.calendar.calendarList.patch({calendarId:o,resource:{backgroundColor:"#7C3AED",foregroundColor:"#FFFFFF"}})}catch(c){console.log("Could not set calendar color (non-critical):",c)}return Qn=o,Gv(o),o}catch(s){throw console.error("Error finding/creating Ascend calendar:",s),s}}async function M0(){return Qn||await j1()}async function Yv(s,t,a=!0,i=!0){var u,m;if(!await bu())throw new Error("Google token expired. Please reconnect Google Calendar.");const c=[];try{let g=[];if(i)try{console.log("Fetching calendar list..."),g=(await gapi.client.calendar.calendarList.list()).result.items||[],console.log("Found calendars:",g.map(y=>({id:y.id,summary:y.summary})))}catch(p){if(((p==null?void 0:p.status)||((m=(u=p==null?void 0:p.result)==null?void 0:u.error)==null?void 0:m.code))===401)throw console.warn("Token expired (401). Please reconnect Google Calendar."),Ci=null,new Error("SESSION_EXPIRED");console.warn("Could not fetch calendar list:",p),g=[{id:"primary",summary:"Primary",backgroundColor:"#4285f4"}]}else g=[{id:"primary",summary:"Primary",backgroundColor:"#4285f4"}];for(const p of g){if(a&&p.id===Qn||p.accessRole==="freeBusyReader")continue;const y=p.accessRole==="owner"||p.accessRole==="writer";try{const _=((await gapi.client.calendar.events.list({calendarId:p.id,timeMin:s.toISOString(),timeMax:t.toISOString(),singleEvents:!0,orderBy:"startTime"})).result.items||[]).filter(E=>{var k;return(k=E.start)==null?void 0:k.dateTime});c.push(..._.map(E=>Kv(E,!1,p.summary||"Calendar",p.backgroundColor||"#4285f4",p.id,y)))}catch(b){so(b)?console.warn(`Calendar ${p.summary} not found (404), skipping...`):console.error(`Error fetching events from calendar ${p.summary}:`,b)}}if(a&&Qn)try{const y=(await gapi.client.calendar.events.list({calendarId:Qn,timeMin:s.toISOString(),timeMax:t.toISOString(),singleEvents:!0,orderBy:"startTime"})).result.items||[];c.push(...y.filter(b=>{var w;return(w=b.start)==null?void 0:w.dateTime}).map(b=>Kv(b,!0,"Ascend","#7C3AED",Qn,!0)))}catch(p){if(so(p)){console.warn("Ascend calendar not found (404), creating new one...");try{await xu()}catch(y){console.error("Failed to recreate Ascend calendar:",y)}}else console.error("Error fetching Ascend calendar events:",p)}return c}catch(g){throw console.error("Error fetching calendar events:",g),g}}function Kv(s,t,a="Calendar",i="#4285f4",o,c=!1){const u=new Date(s.start.dateTime),m=new Date(s.end.dateTime||s.start.dateTime),g=u.getHours()+u.getMinutes()/60,p=(m.getTime()-u.getTime())/(1e3*60*60),y=s.colorId?OA(s.colorId):void 0;return console.log(" Mapping Google event:",{title:s.summary,colorId:s.colorId,mappedColor:y,calendarColor:i}),{id:s.id,title:s.summary||"Untitled",start:g,duration:Math.max(.25,p),isGoogle:!0,isFromAscendCalendar:t,colorId:s.colorId,calendarName:a,calendarColor:y||i,calendarId:o,canEdit:c}}async function xu(){return console.log("Calendar not found (404). Resetting and creating new Ascend calendar..."),localStorage.removeItem(vu),Qn=null,await j1()}function so(s){var t,a;return(s==null?void 0:s.status)===404||((a=(t=s==null?void 0:s.result)==null?void 0:t.error)==null?void 0:a.code)===404||(s==null?void 0:s.code)===404}async function Zh(s,t,a,i=new Date,o,c){if(!await bu())throw new Error("Google token expired. Please reconnect Google Calendar.");let m=await M0();const g=new Date(i);g.setHours(Math.floor(t),Math.round(t%1*60),0,0);const p=new Date(g);p.setTime(g.getTime()+a*60*60*1e3);const y=_1(c,o);console.log(" Color mapping:",{input:{hexColor:c,tag:o},output:y,colorName:S1[y]||"Unknown"});const b={summary:s,colorId:y,description:o?`Tag: ${o}`:void 0,start:{dateTime:g.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},end:{dateTime:p.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}};console.log(" Sending to Google Calendar:",JSON.stringify(b,null,2));try{const w=await gapi.client.calendar.events.insert({calendarId:m,resource:b});return console.log("Created event in Ascend calendar:",w.result.id),w.result.id}catch(w){if(so(w)){console.warn("Calendar 404 detected, attempting recovery..."),m=await xu();const _=await gapi.client.calendar.events.insert({calendarId:m,resource:b});return console.log("Created event in new Ascend calendar:",_.result.id),_.result.id}throw console.error("Error creating calendar event:",w),w}}async function Xv(s){if(!await bu())throw new Error("Google token expired. Please reconnect Google Calendar.");const a=await M0();try{await gapi.client.calendar.events.delete({calendarId:a,eventId:s})}catch(i){if(so(i)){console.warn("Calendar or event not found (404), skipping delete:",s),await xu();return}throw console.error("Error deleting calendar event:",i),i}}async function Qh(s,t,a,i,o=new Date,c,u){if(!await bu())throw new Error("Google token expired. Please reconnect Google Calendar.");const g=c||await M0(),p=new Date(o);p.setHours(Math.floor(a),Math.round(a%1*60),0,0);const y=new Date(p);y.setTime(p.getTime()+i*60*60*1e3);const b=_1(u,null);console.log(" Update color mapping:",{input:{hexColor:u},output:b,colorName:S1[b]||"Unknown"});const w={summary:t,colorId:b,start:{dateTime:p.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},end:{dateTime:y.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}};console.log(" Updating Google Calendar event:",JSON.stringify(w,null,2));try{await gapi.client.calendar.events.update({calendarId:g,eventId:s,resource:w})}catch(_){if(so(_)){console.warn("Calendar or event not found (404), skipping update:",s),await xu();return}throw console.error("Error updating calendar event:",_),_}}const VA=E1,Jv=({streakCount:s,progressPercentage:t,size:a=48,className:i="",showCount:o=!0,label:c,value:u})=>{const m=Qf.useId(),g=Math.min(Math.max(t,0),100),p=g>80,y=g<20,b={animate:{scale:[1,1.05,1],rotate:[0,-1,1,0],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},w={animate:{opacity:[.6,.8,.6],scale:[.95,1,.95],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}},_="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.256 1.181-3.142A2.5 2.5 0 0 0 8.5 14.5z";return f.jsxs("div",{className:`flex items-center gap-2 ${i}`,children:[f.jsxs("div",{className:"relative flex items-center justify-center",style:{width:a,height:a},children:[f.jsxs(qe.svg,{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"0",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",variants:p?b:y?w:{},animate:p||y?"animate":void 0,style:{filter:p?"drop-shadow(0 0 8px rgba(249,115,22,0.4))":void 0},children:[f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:`flame-gradient-${m}`,x1:"0",y1:"1",x2:"0",y2:"0",children:[f.jsx("stop",{offset:"0%",stopColor:"#ef4444"}),f.jsx("stop",{offset:"100%",stopColor:"#facc15"})]}),f.jsx("clipPath",{id:`clip-${m}`,children:f.jsx(qe.rect,{x:"0",width:"24",initial:{y:24,height:0},animate:{y:24-24*(g/100),height:24*(g/100)},transition:{type:"spring",stiffness:50,damping:20}})})]}),f.jsx("path",{d:_,fill:"currentColor",className:"text-slate-200 dark:text-slate-800 opacity-20"}),f.jsx("g",{clipPath:`url(#clip-${m})`,children:f.jsx("path",{d:_,fill:`url(#flame-gradient-${m})`})})]}),p&&f.jsx(qe.div,{className:"absolute rounded-full",style:{width:a*1.5,height:a*1.5,background:"radial-gradient(circle, rgba(251,146,60,0.2) 0%, rgba(239,68,68,0.05) 50%, transparent 70%)",filter:"blur(8px)",zIndex:-1},animate:{opacity:[.4,.7,.4],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),g===100&&f.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(6)].map((E,k)=>f.jsx(qe.div,{className:"absolute w-1 h-1 bg-yellow-400 rounded-full",style:{left:"50%",top:"50%",boxShadow:"0 0 4px #fbbf24"},animate:{x:[0,(k%2===0?1:-1)*(15+Math.random()*15)],y:[0,(k<3?-1:1)*(15+Math.random()*15)],opacity:[0,1,0],scale:[0,1.2,0]},transition:{duration:2+Math.random(),repeat:1/0,delay:k*.4,ease:"easeInOut"}},k))})]}),o&&f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-2xl font-bold leading-none",style:{backgroundImage:"linear-gradient(to top, #ef4444, #facc15)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:u!==void 0?u:s}),(c||!c&&c!=="")&&f.jsx("span",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-wider leading-none mt-1",children:c||"Streak"})]})]})},$A=({habits:s})=>{const[t,a]=L.useState("year"),[i,o]=L.useState(new Date),c=E=>{const k=new Date(E.getTime());k.setHours(0,0,0,0),k.setDate(k.getDate()+3-(k.getDay()+6)%7);const T=new Date(k.getFullYear(),0,4);return 1+Math.round(((k.getTime()-T.getTime())/864e5-3+(T.getDay()+6)%7)/7)},{activityMap:u,totalActivities:m,currentStreak:g}=L.useMemo(()=>{const E=new Map;let k=0;s.forEach(J=>{J.completedDates.forEach(ee=>{const G=E.get(ee)||0;E.set(ee,G+1),k++})});let T=0;const M=new Date,V=J=>{const ee=J.getFullYear(),G=String(J.getMonth()+1).padStart(2,"0"),Z=String(J.getDate()).padStart(2,"0");return`${ee}-${G}-${Z}`};let O=new Date(M),F=V(O);if(E.has(F)?(T=1,O.setDate(O.getDate()-1)):(O.setDate(O.getDate()-1),F=V(O),E.has(F)?(T=1,O.setDate(O.getDate()-1)):T=0),T>0)for(;;){const J=V(O);if(E.has(J))T++,O.setDate(O.getDate()-1);else break}return{activityMap:E,totalActivities:k,currentStreak:T}},[s]),{gridData:p,totalCols:y,subText:b}=L.useMemo(()=>{const E=[];let k,T;const M=i.getFullYear(),V=i.getMonth();if(t==="year"){k=new Date(M,0,1);const F=k.getDay();k.setDate(k.getDate()-F),T=53;for(let J=0;J<T*7;J++){const ee=new Date(k);ee.setDate(k.getDate()+J);const G=ee.getFullYear(),Z=String(ee.getMonth()+1).padStart(2,"0"),se=String(ee.getDate()).padStart(2,"0"),le=`${G}-${Z}-${se}`,ye=u.get(le)||0;let Se=0;ye===0?Se=0:ye<=1?Se=1:ye<=3?Se=2:ye<=5?Se=3:Se=4,E.push({date:ee,dateStr:le,count:ye,level:Se})}}else if(t==="month"){k=new Date(M,V,1);const F=k.getDay();k.setDate(k.getDate()-F);const J=new Date(M,V+1,0),ee=J.getDay(),G=new Date(J);G.setDate(J.getDate()+(6-ee)),T=Math.ceil(((G.getTime()-k.getTime())/(1e3*60*60*24)+1)/7);for(let Z=0;Z<T*7;Z++){const se=new Date(k);se.setDate(k.getDate()+Z);const le=se.getFullYear(),ye=String(se.getMonth()+1).padStart(2,"0"),Se=String(se.getDate()).padStart(2,"0"),st=`${le}-${ye}-${Se}`,Qe=u.get(st)||0;let Pe=0;Qe===0?Pe=0:Qe<=1?Pe=1:Qe<=3?Pe=2:Qe<=5?Pe=3:Pe=4,E.push({date:se,dateStr:st,count:Qe,level:Pe})}}else{k=new Date(i);const F=k.getDay();k.setDate(k.getDate()-F),T=1;for(let J=0;J<7;J++){const ee=new Date(k);ee.setDate(k.getDate()+J);const G=ee.getFullYear(),Z=String(ee.getMonth()+1).padStart(2,"0"),se=String(ee.getDate()).padStart(2,"0"),le=`${G}-${Z}-${se}`,ye=u.get(le)||0;let Se=0;ye===0?Se=0:ye<=1?Se=1:ye<=3?Se=2:ye<=5?Se=3:Se=4,E.push({date:ee,dateStr:le,count:ye,level:Se})}}let O="";if(t==="year"){let F=0;u.forEach((J,ee)=>{ee.startsWith(String(M))&&(F+=J)}),O=`${F} ${F===1?"activity":"activities"} in ${M}`}else if(t==="month"){let F=0;const J=`${M}-${String(V+1).padStart(2,"0")}`;u.forEach((G,Z)=>{Z.startsWith(J)&&(F+=G)});const ee=i.toLocaleString("default",{month:"long"});O=`${F} ${F===1?"activity":"activities"} in ${ee} ${M}`}else O=`Week ${c(i)}, ${M}`;return{gridData:E,totalCols:T,subText:O}},[u,t,i,c]),w=L.useMemo(()=>{const E=[];if(t==="year"){const k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(let T=0;T<y;T++){const M=T*7;if(M>=p.length)break;const V=p[M].date;V.getDate()<=7&&E.push({text:k[V.getMonth()],colIndex:T})}}else if(t==="month")for(let k=0;k<y;k++){const T=k*7;if(T>=p.length)break;const M=p[T].date;E.push({text:`W${c(M)}`,colIndex:k,type:"week"})}return E},[p,t,y]),_=E=>{switch(E){case 0:return"bg-slate-100 dark:bg-slate-800";case 1:return"bg-purple-200 dark:bg-purple-900/40";case 2:return"bg-purple-300 dark:bg-purple-700/60";case 3:return"bg-purple-400 dark:bg-purple-600";case 4:return"bg-[#6F00FF] dark:bg-[#6F00FF] shadow-sm shadow-purple-500/30";default:return"bg-slate-100 dark:bg-slate-800"}};return f.jsxs("div",{className:"bg-white dark:bg-[#151e32] rounded-3xl p-6 shadow-sm dark:shadow-lg dark:shadow-black/20 border border-slate-200 dark:border-white/5 hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-purple-100 dark:bg-purple-500/10 p-2 rounded-xl",children:f.jsx(Flame,{className:"text-[#6F00FF] dark:text-purple-400",size:20})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Habit Consistency"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex items-center bg-slate-100 dark:bg-white/10 px-4 py-2 rounded-xl border border-slate-200 dark:border-white/5 shadow-sm",children:f.jsx("span",{className:"text-sm font-bold bg-gradient-to-r from-violet-600 to-purple-600 dark:from-violet-400 dark:to-purple-400 bg-clip-text text-transparent",children:t==="month"?i.toLocaleString("default",{month:"long",year:"numeric"}):t==="week"?`Week ${c(i)}, ${i.getFullYear()}`:i.getFullYear()})}),f.jsx("div",{className:"flex bg-slate-100 dark:bg-white/5 p-1 rounded-xl",children:["week","month","year"].map(E=>f.jsx("button",{onClick:()=>a(E),className:`px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${t===E?"bg-white dark:bg-violet-600 text-violet-600 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:E==="week"?"Week":E==="month"?"Month":"Year"},E))}),f.jsx("div",{className:"text-right ml-4",children:f.jsxs("div",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:[g," ",f.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500",children:"day streak"})]})})]})]}),f.jsx("div",{className:"pb-4",children:f.jsxs("div",{className:"w-full relative",children:[f.jsx("div",{className:"w-full mb-8 text-[10px] md:text-xs text-slate-400 dark:text-slate-500 relative h-4",children:w.map((E,k)=>f.jsx("div",{className:`absolute transform ${E.type==="month"?"text-sm font-bold text-slate-700 dark:text-slate-200 -translate-y-6":"-translate-x-1/2"}`,style:{left:E.type==="month"?"0":`${(E.colIndex+.5)/53*100}%`,whiteSpace:"nowrap"},children:E.text},k))}),f.jsx("div",{className:"flex gap-[3px]",children:Array.from({length:y}).map((E,k)=>f.jsx("div",{className:"flex flex-col gap-[3px]",style:{width:"calc((100% - 52 * 3px) / 53)"},children:Array.from({length:7}).map((T,M)=>{const V=k*7+M,O=p[V];return O?f.jsx("div",{className:`w-full aspect-square rounded-[1.5px] md:rounded-sm transition-colors ${_(O.level)} group relative`,children:f.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-slate-800 text-white text-[10px] rounded opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-10 transition-opacity",children:[O.count," activities",f.jsx("br",{}),f.jsx("span",{className:"opacity-70",children:O.dateStr})]})},M):f.jsx("div",{className:"w-full aspect-square opacity-0"},M)})},k))}),f.jsxs("div",{className:"flex items-center justify-end mt-4 gap-2 text-xs text-slate-400 dark:text-slate-500",children:[f.jsx("span",{children:"Less"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm bg-slate-100 dark:bg-slate-800"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-purple-200 dark:bg-purple-900/40"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-purple-300 dark:bg-purple-700/60"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-purple-400 dark:bg-purple-600"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-[#6F00FF] dark:bg-[#6F00FF]"})]}),f.jsx("span",{children:"More"})]}),t==="year"&&f.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[f.jsx("button",{onClick:()=>{const E=new Date(i);E.setFullYear(i.getFullYear()-1),o(E)},className:"px-3 py-1.5 text-xs font-medium text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-white/5 hover:bg-slate-200 dark:hover:bg-white/10 rounded-lg transition-all border border-slate-200 dark:border-white/5",children:"Last year"}),i.getFullYear()!==new Date().getFullYear()&&f.jsx("button",{onClick:()=>o(new Date),className:"px-3 py-1.5 text-xs font-medium text-violet-600 dark:text-violet-400 bg-violet-50 dark:bg-violet-500/10 hover:bg-violet-100 dark:hover:bg-violet-500/20 rounded-lg transition-all border border-violet-200 dark:border-violet-500/30",children:"Current year"})]})]})})]})};var Ps={},Mc={},Rf=function(s,t){return Rf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},Rf(s,t)};function k1(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Rf(s,t);function a(){this.constructor=s}s.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var ru=function(){return ru=Object.assign||function(t){for(var a,i=1,o=arguments.length;i<o;i++){a=arguments[i];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])}return t},ru.apply(this,arguments)};function zi(s,t){var a={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(a[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(s);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(s,i[o])&&(a[i[o]]=s[i[o]]);return a}function A1(s,t,a,i){var o=arguments.length,c=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,a):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(s,t,a,i);else for(var m=s.length-1;m>=0;m--)(u=s[m])&&(c=(o<3?u(c):o>3?u(t,a,c):u(t,a))||c);return o>3&&c&&Object.defineProperty(t,a,c),c}function C1(s,t){return function(a,i){t(a,i,s)}}function N1(s,t,a,i,o,c){function u(M){if(M!==void 0&&typeof M!="function")throw new TypeError("Function expected");return M}for(var m=i.kind,g=m==="getter"?"get":m==="setter"?"set":"value",p=!t&&s?i.static?s:s.prototype:null,y=t||(p?Object.getOwnPropertyDescriptor(p,i.name):{}),b,w=!1,_=a.length-1;_>=0;_--){var E={};for(var k in i)E[k]=k==="access"?{}:i[k];for(var k in i.access)E.access[k]=i.access[k];E.addInitializer=function(M){if(w)throw new TypeError("Cannot add initializers after decoration has completed");c.push(u(M||null))};var T=(0,a[_])(m==="accessor"?{get:y.get,set:y.set}:y[g],E);if(m==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(b=u(T.get))&&(y.get=b),(b=u(T.set))&&(y.set=b),(b=u(T.init))&&o.unshift(b)}else(b=u(T))&&(m==="field"?o.unshift(b):y[g]=b)}p&&Object.defineProperty(p,i.name,y),w=!0}function O1(s,t,a){for(var i=arguments.length>2,o=0;o<t.length;o++)a=i?t[o].call(s,a):t[o].call(s);return i?a:void 0}function D1(s){return typeof s=="symbol"?s:"".concat(s)}function R1(s,t,a){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:a?"".concat(a," ",t):t})}function M1(s,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,t)}function oe(s,t,a,i){function o(c){return c instanceof a?c:new a(function(u){u(c)})}return new(a||(a=Promise))(function(c,u){function m(y){try{p(i.next(y))}catch(b){u(b)}}function g(y){try{p(i.throw(y))}catch(b){u(b)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((i=i.apply(s,t||[])).next())})}function U1(s,t){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,o,c,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=m(0),u.throw=m(1),u.return=m(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(p){return function(y){return g([p,y])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(a=0)),a;)try{if(i=1,o&&(c=p[0]&2?o.return:p[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,p[1])).done)return c;switch(o=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return a.label++,{value:p[1],done:!1};case 5:a.label++,o=p[1],p=[0];continue;case 7:p=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){a=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){a.label=p[1];break}if(p[0]===6&&a.label<c[1]){a.label=c[1],c=p;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(p);break}c[2]&&a.ops.pop(),a.trys.pop();continue}p=t.call(s,a)}catch(y){p=[6,y],o=0}finally{i=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var wu=Object.create?(function(s,t,a,i){i===void 0&&(i=a);var o=Object.getOwnPropertyDescriptor(t,a);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(s,i,o)}):(function(s,t,a,i){i===void 0&&(i=a),s[i]=t[a]});function z1(s,t){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(t,a)&&wu(t,s,a)}function iu(s){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&s[t],i=0;if(a)return a.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function U0(s,t){var a=typeof Symbol=="function"&&s[Symbol.iterator];if(!a)return s;var i=a.call(s),o,c=[],u;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)c.push(o.value)}catch(m){u={error:m}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(u)throw u.error}}return c}function L1(){for(var s=[],t=0;t<arguments.length;t++)s=s.concat(U0(arguments[t]));return s}function B1(){for(var s=0,t=0,a=arguments.length;t<a;t++)s+=arguments[t].length;for(var i=Array(s),o=0,t=0;t<a;t++)for(var c=arguments[t],u=0,m=c.length;u<m;u++,o++)i[o]=c[u];return i}function V1(s,t,a){if(a||arguments.length===2)for(var i=0,o=t.length,c;i<o;i++)(c||!(i in t))&&(c||(c=Array.prototype.slice.call(t,0,i)),c[i]=t[i]);return s.concat(c||Array.prototype.slice.call(t))}function Oi(s){return this instanceof Oi?(this.v=s,this):new Oi(s)}function $1(s,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=a.apply(s,t||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(_){return function(E){return Promise.resolve(E).then(_,b)}}function m(_,E){i[_]&&(o[_]=function(k){return new Promise(function(T,M){c.push([_,k,T,M])>1||g(_,k)})},E&&(o[_]=E(o[_])))}function g(_,E){try{p(i[_](E))}catch(k){w(c[0][3],k)}}function p(_){_.value instanceof Oi?Promise.resolve(_.value.v).then(y,b):w(c[0][2],_)}function y(_){g("next",_)}function b(_){g("throw",_)}function w(_,E){_(E),c.shift(),c.length&&g(c[0][0],c[0][1])}}function P1(s){var t,a;return t={},i("next"),i("throw",function(o){throw o}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(o,c){t[o]=s[o]?function(u){return(a=!a)?{value:Oi(s[o](u)),done:!1}:c?c(u):u}:c}}function I1(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=s[Symbol.asyncIterator],a;return t?t.call(s):(s=typeof iu=="function"?iu(s):s[Symbol.iterator](),a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a);function i(c){a[c]=s[c]&&function(u){return new Promise(function(m,g){u=s[c](u),o(m,g,u.done,u.value)})}}function o(c,u,m,g){Promise.resolve(g).then(function(p){c({value:p,done:m})},u)}}function H1(s,t){return Object.defineProperty?Object.defineProperty(s,"raw",{value:t}):s.raw=t,s}var PA=Object.create?(function(s,t){Object.defineProperty(s,"default",{enumerable:!0,value:t})}):function(s,t){s.default=t},Mf=function(s){return Mf=Object.getOwnPropertyNames||function(t){var a=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[a.length]=i);return a},Mf(s)};function F1(s){if(s&&s.__esModule)return s;var t={};if(s!=null)for(var a=Mf(s),i=0;i<a.length;i++)a[i]!=="default"&&wu(t,s,a[i]);return PA(t,s),t}function q1(s){return s&&s.__esModule?s:{default:s}}function G1(s,t,a,i){if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?s!==t||!i:!t.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?i:a==="a"?i.call(s):i?i.value:t.get(s)}function Y1(s,t,a,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?s!==t||!o:!t.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(s,a):o?o.value=a:t.set(s,a),a}function K1(s,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof s=="function"?t===s:s.has(t)}function X1(s,t,a){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,o;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],a&&(o=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");o&&(i=function(){try{o.call(this)}catch(c){return Promise.reject(c)}}),s.stack.push({value:t,dispose:i,async:a})}else a&&s.stack.push({async:!0});return t}var IA=typeof SuppressedError=="function"?SuppressedError:function(s,t,a){var i=new Error(a);return i.name="SuppressedError",i.error=s,i.suppressed=t,i};function J1(s){function t(c){s.error=s.hasError?new IA(c,s.error,"An error was suppressed during disposal."):c,s.hasError=!0}var a,i=0;function o(){for(;a=s.stack.pop();)try{if(!a.async&&i===1)return i=0,s.stack.push(a),Promise.resolve().then(o);if(a.dispose){var c=a.dispose.call(a.value);if(a.async)return i|=2,Promise.resolve(c).then(o,function(u){return t(u),o()})}else i|=1}catch(u){t(u)}if(i===1)return s.hasError?Promise.reject(s.error):Promise.resolve();if(s.hasError)throw s.error}return o()}function Z1(s,t){return typeof s=="string"&&/^\.\.?\//.test(s)?s.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,i,o,c,u){return i?t?".jsx":".js":o&&(!c||!u)?a:o+c+"."+u.toLowerCase()+"js"}):s}const HA={__extends:k1,__assign:ru,__rest:zi,__decorate:A1,__param:C1,__esDecorate:N1,__runInitializers:O1,__propKey:D1,__setFunctionName:R1,__metadata:M1,__awaiter:oe,__generator:U1,__createBinding:wu,__exportStar:z1,__values:iu,__read:U0,__spread:L1,__spreadArrays:B1,__spreadArray:V1,__await:Oi,__asyncGenerator:$1,__asyncDelegator:P1,__asyncValues:I1,__makeTemplateObject:H1,__importStar:F1,__importDefault:q1,__classPrivateFieldGet:G1,__classPrivateFieldSet:Y1,__classPrivateFieldIn:K1,__addDisposableResource:X1,__disposeResources:J1,__rewriteRelativeImportExtension:Z1},FA=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:X1,get __assign(){return ru},__asyncDelegator:P1,__asyncGenerator:$1,__asyncValues:I1,__await:Oi,__awaiter:oe,__classPrivateFieldGet:G1,__classPrivateFieldIn:K1,__classPrivateFieldSet:Y1,__createBinding:wu,__decorate:A1,__disposeResources:J1,__esDecorate:N1,__exportStar:z1,__extends:k1,__generator:U1,__importDefault:q1,__importStar:F1,__makeTemplateObject:H1,__metadata:M1,__param:C1,__propKey:D1,__read:U0,__rest:zi,__rewriteRelativeImportExtension:Z1,__runInitializers:O1,__setFunctionName:R1,__spread:L1,__spreadArray:V1,__spreadArrays:B1,__values:iu,default:HA},Symbol.toStringTag,{value:"Module"})),qA=s=>s?(...t)=>s(...t):(...t)=>fetch(...t);let Su=class extends Error{constructor(t,a="FunctionsError",i){super(t),this.name=a,this.context=i}},Q1=class extends Su{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Uf=class extends Su{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},zf=class extends Su{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var lu;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(lu||(lu={}));class GA{constructor(t,{headers:a={},customFetch:i,region:o=lu.Any}={}){this.url=t,this.headers=a,this.region=o,this.fetch=qA(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return oe(this,arguments,void 0,function*(a,i={}){var o;let c,u;try{const{headers:m,method:g,body:p,signal:y,timeout:b}=i;let w={},{region:_}=i;_||(_=this.region);const E=new URL(`${this.url}/${a}`);_&&_!=="any"&&(w["x-region"]=_,E.searchParams.set("forceFunctionRegion",_));let k;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",k=p):typeof p=="string"?(w["Content-Type"]="text/plain",k=p):typeof FormData<"u"&&p instanceof FormData?k=p:(w["Content-Type"]="application/json",k=JSON.stringify(p)):k=p;let T=y;b&&(u=new AbortController,c=setTimeout(()=>u.abort(),b),y?(T=u.signal,y.addEventListener("abort",()=>u.abort())):T=u.signal);const M=yield this.fetch(E.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:k,signal:T}).catch(J=>{throw new Q1(J)}),V=M.headers.get("x-relay-error");if(V&&V==="true")throw new Uf(M);if(!M.ok)throw new zf(M);let O=((o=M.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),F;return O==="application/json"?F=yield M.json():O==="application/octet-stream"||O==="application/pdf"?F=yield M.blob():O==="text/event-stream"?F=M:O==="multipart/form-data"?F=yield M.formData():F=yield M.text(),{data:F,error:null,response:M}}catch(m){return{data:null,error:m,response:m instanceof zf||m instanceof Uf?m.context:void 0}}finally{c&&clearTimeout(c)}})}}const YA=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return lu},FunctionsClient:GA,FunctionsError:Su,FunctionsFetchError:Q1,FunctionsHttpError:zf,FunctionsRelayError:Uf},Symbol.toStringTag,{value:"Module"})),W1=io(YA);var Jt={};const Li=io(FA);var Uc={},zc={},Lc={},Bc={},Vc={},$c={},Zv;function ew(){if(Zv)return $c;Zv=1,Object.defineProperty($c,"__esModule",{value:!0});class s extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return $c.default=s,$c}var Qv;function tw(){if(Qv)return Vc;Qv=1,Object.defineProperty(Vc,"__esModule",{value:!0});const t=Li.__importDefault(ew());let a=class{constructor(o){var c,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(c=o.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=new Headers(this.headers),this.headers.set(o,c),this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let m=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,y,b,w;let _=null,E=null,k=null,T=g.status,M=g.statusText;if(g.ok){if(this.method!=="HEAD"){const J=await g.text();J===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?E=J:E=JSON.parse(J))}const O=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),F=(b=g.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");O&&F&&F.length>1&&(k=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(_={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,k=null,T=406,M="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const O=await g.text();try{_=JSON.parse(O),Array.isArray(_)&&g.status===404&&(E=[],_=null,T=200,M="OK")}catch{g.status===404&&O===""?(T=204,M="No Content"):_={message:O}}if(_&&this.isMaybeSingle&&(!((w=_==null?void 0:_.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,T=200,M="OK"),_&&this.shouldThrowOnError)throw new t.default(_)}return{error:_,data:E,count:k,status:T,statusText:M}});return this.shouldThrowOnError||(m=m.catch(g=>{var p,y,b,w,_,E;let k="";const T=g==null?void 0:g.cause;if(T){const M=(p=T==null?void 0:T.message)!==null&&p!==void 0?p:"",V=(y=T==null?void 0:T.code)!==null&&y!==void 0?y:"";k=`${(b=g==null?void 0:g.name)!==null&&b!==void 0?b:"FetchError"}: ${g==null?void 0:g.message}`,k+=`

Caused by: ${(w=T==null?void 0:T.name)!==null&&w!==void 0?w:"Error"}: ${M}`,V&&(k+=` (${V})`),T!=null&&T.stack&&(k+=`
${T.stack}`)}else k=(_=g==null?void 0:g.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(E=g==null?void 0:g.name)!==null&&E!==void 0?E:"FetchError"}: ${g==null?void 0:g.message}`,details:k,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(o,c)}returns(){return this}overrideTypes(){return this}};return Vc.default=a,Vc}var Wv;function nw(){if(Wv)return Bc;Wv=1,Object.defineProperty(Bc,"__esModule",{value:!0});const t=Li.__importDefault(tw());let a=class extends t.default{select(o){let c=!1;const u=(o??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:u,foreignTable:m,referencedTable:g=m}={}){const p=g?`${g}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${o}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:u=c}={}){const m=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,c,{foreignTable:u,referencedTable:m=u}={}){const g=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(p,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:u=!1,buffers:m=!1,wal:g=!1,format:p="text"}={}){var y;const b=[o?"analyze":null,c?"verbose":null,u?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${b};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};return Bc.default=a,Bc}var eb;function z0(){if(eb)return Lc;eb=1,Object.defineProperty(Lc,"__esModule",{value:!0});const t=Li.__importDefault(nw()),a=new RegExp("[,()]");let i=class extends t.default{eq(c,u){return this.url.searchParams.append(c,`eq.${u}`),this}neq(c,u){return this.url.searchParams.append(c,`neq.${u}`),this}gt(c,u){return this.url.searchParams.append(c,`gt.${u}`),this}gte(c,u){return this.url.searchParams.append(c,`gte.${u}`),this}lt(c,u){return this.url.searchParams.append(c,`lt.${u}`),this}lte(c,u){return this.url.searchParams.append(c,`lte.${u}`),this}like(c,u){return this.url.searchParams.append(c,`like.${u}`),this}likeAllOf(c,u){return this.url.searchParams.append(c,`like(all).{${u.join(",")}}`),this}likeAnyOf(c,u){return this.url.searchParams.append(c,`like(any).{${u.join(",")}}`),this}ilike(c,u){return this.url.searchParams.append(c,`ilike.${u}`),this}ilikeAllOf(c,u){return this.url.searchParams.append(c,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(c,u){return this.url.searchParams.append(c,`ilike(any).{${u.join(",")}}`),this}regexMatch(c,u){return this.url.searchParams.append(c,`match.${u}`),this}regexIMatch(c,u){return this.url.searchParams.append(c,`imatch.${u}`),this}is(c,u){return this.url.searchParams.append(c,`is.${u}`),this}isDistinct(c,u){return this.url.searchParams.append(c,`isdistinct.${u}`),this}in(c,u){const m=Array.from(new Set(u)).map(g=>typeof g=="string"&&a.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${m})`),this}contains(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cs.{${u.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(u)}`),this}containedBy(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cd.{${u.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(u)}`),this}rangeGt(c,u){return this.url.searchParams.append(c,`sr.${u}`),this}rangeGte(c,u){return this.url.searchParams.append(c,`nxl.${u}`),this}rangeLt(c,u){return this.url.searchParams.append(c,`sl.${u}`),this}rangeLte(c,u){return this.url.searchParams.append(c,`nxr.${u}`),this}rangeAdjacent(c,u){return this.url.searchParams.append(c,`adj.${u}`),this}overlaps(c,u){return typeof u=="string"?this.url.searchParams.append(c,`ov.${u}`):this.url.searchParams.append(c,`ov.{${u.join(",")}}`),this}textSearch(c,u,{config:m,type:g}={}){let p="";g==="plain"?p="pl":g==="phrase"?p="ph":g==="websearch"&&(p="w");const y=m===void 0?"":`(${m})`;return this.url.searchParams.append(c,`${p}fts${y}.${u}`),this}match(c){return Object.entries(c).forEach(([u,m])=>{this.url.searchParams.append(u,`eq.${m}`)}),this}not(c,u,m){return this.url.searchParams.append(c,`not.${u}.${m}`),this}or(c,{foreignTable:u,referencedTable:m=u}={}){const g=m?`${m}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,u,m){return this.url.searchParams.append(c,`${u}.${m}`),this}};return Lc.default=i,Lc}var tb;function sw(){if(tb)return zc;tb=1,Object.defineProperty(zc,"__esModule",{value:!0});const t=Li.__importDefault(z0());let a=class{constructor(o,{headers:c={},schema:u,fetch:m}){this.url=o,this.headers=new Headers(c),this.schema=u,this.fetch=m}select(o,c){const{head:u=!1,count:m}=c??{},g=u?"HEAD":"GET";let p=!1;const y=(o??"*").split("").map(b=>/\s/.test(b)&&!p?"":(b==='"'&&(p=!p),b)).join("");return this.url.searchParams.set("select",y),m&&this.headers.append("Prefer",`count=${m}`),new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:u=!0}={}){var m;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:u=!1,count:m,defaultToNull:g=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const b=o.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(b.length>0){const w=[...new Set(b)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:c}={}){var u;const m="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var c;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};return zc.default=a,zc}var nb;function KA(){if(nb)return Uc;nb=1,Object.defineProperty(Uc,"__esModule",{value:!0});const s=Li,t=s.__importDefault(sw()),a=s.__importDefault(z0());let i=class aw{constructor(c,{headers:u={},schema:m,fetch:g}={}){this.url=c,this.headers=new Headers(u),this.schemaName=m,this.fetch=g}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${c}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new aw(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:m=!1,get:g=!1,count:p}={}){var y;let b;const w=new URL(`${this.url}/rpc/${c}`);let _;m||g?(b=m?"HEAD":"GET",Object.entries(u).filter(([k,T])=>T!==void 0).map(([k,T])=>[k,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([k,T])=>{w.searchParams.append(k,T)})):(b="POST",_=u);const E=new Headers(this.headers);return p&&E.set("Prefer",`count=${p}`),new a.default({method:b,url:w,headers:E,schema:this.schemaName,body:_,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return Uc.default=i,Uc}var sb;function rw(){if(sb)return Jt;sb=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.PostgrestError=Jt.PostgrestBuilder=Jt.PostgrestTransformBuilder=Jt.PostgrestFilterBuilder=Jt.PostgrestQueryBuilder=Jt.PostgrestClient=void 0;const s=Li,t=s.__importDefault(KA());Jt.PostgrestClient=t.default;const a=s.__importDefault(sw());Jt.PostgrestQueryBuilder=a.default;const i=s.__importDefault(z0());Jt.PostgrestFilterBuilder=i.default;const o=s.__importDefault(nw());Jt.PostgrestTransformBuilder=o.default;const c=s.__importDefault(tw());Jt.PostgrestBuilder=c.default;const u=s.__importDefault(ew());return Jt.PostgrestError=u.default,Jt.default={PostgrestClient:t.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:u.default},Jt}class iw{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const i=a.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const i=this.getWebSocketConstructor();return new i(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const XA="2.87.1",JA=`realtime-js/${XA}`,lw="1.0.0",ZA="2.0.0",ab=lw,Lf=1e4,QA=1e3,WA=100;var wr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(wr||(wr={}));var At;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(At||(At={}));var Zn;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Zn||(Zn={}));var Bf;(function(s){s.websocket="websocket"})(Bf||(Bf={}));var Sr;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Sr||(Sr={}));class eC{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,i;const o=(i=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var a,i;const o=(i=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,a,i){var o,c;const u=t.topic,m=(o=t.ref)!==null&&o!==void 0?o:"",g=(c=t.join_ref)!==null&&c!==void 0?c:"",p=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+u.length+p.length+b.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let E=new DataView(_),k=0;E.setUint8(k++,this.KINDS.userBroadcastPush),E.setUint8(k++,g.length),E.setUint8(k++,m.length),E.setUint8(k++,u.length),E.setUint8(k++,p.length),E.setUint8(k++,b.length),E.setUint8(k++,a),Array.from(g,M=>E.setUint8(k++,M.charCodeAt(0))),Array.from(m,M=>E.setUint8(k++,M.charCodeAt(0))),Array.from(u,M=>E.setUint8(k++,M.charCodeAt(0))),Array.from(p,M=>E.setUint8(k++,M.charCodeAt(0))),Array.from(b,M=>E.setUint8(k++,M.charCodeAt(0)));var T=new Uint8Array(_.byteLength+i.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(i),_.byteLength),T.buffer}decode(t,a){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return a(i)}if(typeof t=="string"){const i=JSON.parse(t),[o,c,u,m,g]=i;return a({join_ref:o,ref:c,topic:u,event:m,payload:g})}return a({})}_binaryDecode(t){const a=new DataView(t),i=a.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,a,o)}}_decodeUserBroadcast(t,a,i){const o=a.getUint8(1),c=a.getUint8(2),u=a.getUint8(3),m=a.getUint8(4);let g=this.HEADER_LENGTH+4;const p=i.decode(t.slice(g,g+o));g=g+o;const y=i.decode(t.slice(g,g+c));g=g+c;const b=i.decode(t.slice(g,g+u));g=g+u;const w=t.slice(g,t.byteLength),_=m===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,E={type:this.BROADCAST_EVENT,event:y,payload:_};return u>0&&(E.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>a.includes(i)))}}class ow{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(nt||(nt={}));const rb=(s,t,a={})=>{var i;const o=(i=a.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((c,u)=>(c[u]=tC(u,s,t,o),c),{}):{}},tC=(s,t,a,i)=>{const o=t.find(m=>m.name===s),c=o==null?void 0:o.type,u=a[s];return c&&!i.includes(c)?cw(c,u):Vf(u)},cw=(s,t)=>{if(s.charAt(0)==="_"){const a=s.slice(1,s.length);return rC(t,a)}switch(s){case nt.bool:return nC(t);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return sC(t);case nt.json:case nt.jsonb:return aC(t);case nt.timestamp:return iC(t);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Vf(t);default:return Vf(t)}},Vf=s=>s,nC=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},sC=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},aC=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(t){return console.log(`JSON parse error: ${t}`),s}return s},rC=(s,t)=>{if(typeof s!="string")return s;const a=s.length-1,i=s[a];if(s[0]==="{"&&i==="}"){let c;const u=s.slice(1,a);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(m=>cw(t,m))}return s},iC=s=>typeof s=="string"?s.replace(" ","T"):s,uw=s=>{const t=new URL(s);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Wh{constructor(t,a,i={},o=Lf){this.channel=t,this.event=a,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var i;return this._hasReceived(t)&&a((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $f;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})($f||($f={}));let dw=class Xc{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:c,onLeave:u,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xc.syncState(this.state,o,c,u),this.pendingDiffs.forEach(g=>{this.state=Xc.syncDiff(this.state,g,c,u)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Xc.syncDiff(this.state,o,c,u),m())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,i,o){const c=this.cloneDeep(t),u=this.transformState(a),m={},g={};return this.map(c,(p,y)=>{u[p]||(g[p]=y)}),this.map(u,(p,y)=>{const b=c[p];if(b){const w=y.map(T=>T.presence_ref),_=b.map(T=>T.presence_ref),E=y.filter(T=>_.indexOf(T.presence_ref)<0),k=b.filter(T=>w.indexOf(T.presence_ref)<0);E.length>0&&(m[p]=E),k.length>0&&(g[p]=k)}else m[p]=y}),this.syncDiff(c,{joins:m,leaves:g},i,o)}static syncDiff(t,a,i,o){const{joins:c,leaves:u}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(c,(m,g)=>{var p;const y=(p=t[m])!==null&&p!==void 0?p:[];if(t[m]=this.cloneDeep(g),y.length>0){const b=t[m].map(_=>_.presence_ref),w=y.filter(_=>b.indexOf(_.presence_ref)<0);t[m].unshift(...w)}i(m,y,g)}),this.map(u,(m,g)=>{let p=t[m];if(!p)return;const y=g.map(b=>b.presence_ref);p=p.filter(b=>y.indexOf(b.presence_ref)<0),t[m]=p,o(m,p,g),p.length===0&&delete t[m]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(i=>a(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,i)=>{const o=t[i];return"metas"in o?a[i]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):a[i]=o,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Pf;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Pf||(Pf={}));var Ei;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Ei||(Ei={}));var us;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(us||(us={}));const lC=At;let hw=class Hl{constructor(t,a={config:{}},i){var o,c;if(this.topic=t,this.params=a,this.socket=i,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Wh(this,Zn.join,this.params,this.timeout),this.rejoinTimer=new ow(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zn.reply,{},(u,m)=>{this._trigger(this._replyEventName(m),u)}),this.presence=new dw(this),this.broadcastEndpointURL=uw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var i,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==At.closed){const{config:{broadcast:u,presence:m,private:g}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Ei.PRESENCE]&&this.bindings[Ei.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,b={},w={broadcast:u,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(us.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(us.CLOSED)),this.updateJoinPayload(Object.assign({config:w},b)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:_})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t==null||t(us.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,T=(E=k==null?void 0:k.length)!==null&&E!==void 0?E:0,M=[];for(let V=0;V<T;V++){const O=k[V],{filter:{event:F,schema:J,table:ee,filter:G}}=O,Z=_&&_[V];if(Z&&Z.event===F&&Hl.isFilterValueEqual(Z.schema,J)&&Hl.isFilterValueEqual(Z.table,ee)&&Hl.isFilterValueEqual(Z.filter,G))M.push(Object.assign(Object.assign({},O),{id:Z.id}));else{this.unsubscribe(),this.state=At.errored,t==null||t(us.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,t&&t(us.SUBSCRIBED);return}}).receive("error",_=>{this.state=At.errored,t==null||t(us.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(us.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,i){return this.state===At.joined&&t===Ei.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,i)}async httpSend(t,a,i={}){var o;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(a==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const p=await m.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(t,a={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:u}=t,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,m,g;const p=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(m=(u=this.params)===null||u===void 0?void 0:u.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=At.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Wh(this,Zn.leave,{},t),i.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=At.closed,this.bindings={}}async _fetchWithTimeout(t,a,i){const o=new AbortController,c=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(c),u}_push(t,a,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Wh(this,t,a,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>WA){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,i){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,i){var o,c;const u=t.toLocaleLowerCase(),{close:m,error:g,leave:p,join:y}=Zn;if(i&&[m,g,p,y].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,a,i);if(a&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var E,k,T;return((E=_.filter)===null||E===void 0?void 0:E.event)==="*"||((T=(k=_.filter)===null||k===void 0?void 0:k.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(_=>_.callback(w,i)):(c=this.bindings[u])===null||c===void 0||c.filter(_=>{var E,k,T,M,V,O;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const F=_.id,J=(E=_.filter)===null||E===void 0?void 0:E.event;return F&&((k=a.ids)===null||k===void 0?void 0:k.includes(F))&&(J==="*"||(J==null?void 0:J.toLocaleLowerCase())===((T=a.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const F=(V=(M=_==null?void 0:_.filter)===null||M===void 0?void 0:M.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return F==="*"||F===((O=a==null?void 0:a.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:k,table:T,commit_timestamp:M,type:V,errors:O}=E;w=Object.assign(Object.assign({},{schema:k,table:T,commit_timestamp:M,eventType:V,new:{},old:{},errors:O}),this._getPayloadRecords(E))}_.callback(w,i)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,i){const o=t.toLocaleLowerCase(),c={type:o,filter:a,callback:i};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(t,a){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&Hl.isEqual(o.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const i in t)if(t[i]!==a[i])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zn.close,{},t)}_onError(t){this._on(Zn.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=rb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=rb(t.columns,t.old_record)),a}};const ef=()=>{},Pc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oC=[1e3,2e3,5e3,1e4],cC=1e4,uC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let dC=class{constructor(t,a){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lf,this.transport=null,this.heartbeatIntervalMs=Pc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ef,this.ref=0,this.reconnectTimer=null,this.vsn=ab,this.logger=ef,this.conn=null,this.sendBuffer=[],this.serializer=new eC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((i=a==null?void 0:a.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${Bf.websocket}`,this.httpEndpoint=uw(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iw.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,i){this.logger(t,a,i)}connectionState(){switch(this.conn&&this.conn.readyState){case wr.connecting:return Sr.Connecting;case wr.open:return Sr.Open;case wr.closing:return Sr.Closing;default:return Sr.Closed}}isConnected(){return this.connectionState()===Sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const i=`realtime:${t}`,o=this.getChannels().find(c=>c.topic===i);if(o)return o;{const c=new hw(`realtime:${t}`,a,this);return this.channels.push(c),c}}push(t){const{topic:a,event:i,payload:o,ref:c}=t,u=()=>{this.encode(t,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${a} ${i} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(QA,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Pc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:c,ref:u}=a,m=u?`(${u})`:"",g=c.status||"";this.log("receive",`${g} ${i} ${o} ${m}`.trim(),c),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,c,u)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===wr.open||this.conn.readyState===wr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zn.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const i=t.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${t}${i}${o}`}_workerObjectUrl(t){let a;if(t)a=t;else{const i=new Blob([uC],{type:"application/javascript"});a=URL.createObjectURL(i)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,i=!1;if(t)a=t,i=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),a=this.accessTokenValue}else a=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(o=>{const c={access_token:a,version:JA};a&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Zn.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(a)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new ow(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,i,o,c,u,m,g,p,y,b,w,_;switch(this.transport=(a=t==null?void 0:t.transport)!==null&&a!==void 0?a:null,this.timeout=(i=t==null?void 0:t.timeout)!==null&&i!==void 0?i:Lf,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:Pc.HEARTBEAT_INTERVAL,this.worker=(c=t==null?void 0:t.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=t==null?void 0:t.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(m=t==null?void 0:t.heartbeatCallback)!==null&&m!==void 0?m:ef,this.vsn=(g=t==null?void 0:t.vsn)!==null&&g!==void 0?g:ab,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t==null?void 0:t.reconnectAfterMs)!==null&&p!==void 0?p:(E=>oC[E-1]||cC),this.vsn){case lw:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:((E,k)=>k(JSON.stringify(E))),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:((E,k)=>k(JSON.parse(E)));break;case ZA:this.encode=(w=t==null?void 0:t.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(_=t==null?void 0:t.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const hC=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:lC,get REALTIME_LISTEN_TYPES(){return Ei},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Pf},get REALTIME_PRESENCE_LISTEN_EVENTS(){return $f},get REALTIME_SUBSCRIBE_STATES(){return us},RealtimeChannel:hw,RealtimeClient:dC,RealtimePresence:dw,WebSocketFactory:iw},Symbol.toStringTag,{value:"Module"})),fw=io(hC);class ho extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ot(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class mw extends ho{constructor(t,a,i){super(t),this.name="StorageApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ou extends ho{constructor(t,a){super(t),this.name="StorageUnknownError",this.originalError=a}}const L0=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),fC=()=>Response,If=s=>{if(Array.isArray(s))return s.map(a=>If(a));if(typeof s=="function"||s!==Object(s))return s;const t={};return Object.entries(s).forEach(([a,i])=>{const o=a.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[o]=If(i)}),t},mC=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},gC=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s),tf=s=>{var t;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(t=s.error)===null||t===void 0?void 0:t.message)||JSON.stringify(s)},pC=(s,t,a)=>oe(void 0,void 0,void 0,function*(){const i=yield fC();s instanceof i&&!(a!=null&&a.noResolveJson)?s.json().then(o=>{const c=s.status||500,u=(o==null?void 0:o.statusCode)||c+"";t(new mw(tf(o),c,u))}).catch(o=>{t(new ou(tf(o),o))}):t(new ou(tf(s),s))}),yC=(s,t,a,i)=>{const o={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"||!i?o:(mC(i)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(i)):o.body=i,t!=null&&t.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),a))};function fo(s,t,a,i,o,c){return oe(this,void 0,void 0,function*(){return new Promise((u,m)=>{s(a,yC(t,i,o,c)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>pC(g,m,i))})})}function ao(s,t,a,i){return oe(this,void 0,void 0,function*(){return fo(s,"GET",t,a,i)})}function Jn(s,t,a,i,o){return oe(this,void 0,void 0,function*(){return fo(s,"POST",t,i,o,a)})}function Hf(s,t,a,i,o){return oe(this,void 0,void 0,function*(){return fo(s,"PUT",t,i,o,a)})}function vC(s,t,a,i){return oe(this,void 0,void 0,function*(){return fo(s,"HEAD",t,Object.assign(Object.assign({},a),{noResolveJson:!0}),i)})}function B0(s,t,a,i,o){return oe(this,void 0,void 0,function*(){return fo(s,"DELETE",t,i,o,a)})}class bC{constructor(t,a){this.downloadFn=t,this.shouldThrowOnError=a}then(t,a){return this.execute().then(t,a)}execute(){return oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ot(t))return{data:null,error:t};throw t}})}}var gw;class xC{constructor(t,a){this.downloadFn=t,this.shouldThrowOnError=a,this[gw]="BlobDownloadBuilder",this.promise=null}asStream(){return new bC(this.downloadFn,this.shouldThrowOnError)}then(t,a){return this.getPromise().then(t,a)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ot(t))return{data:null,error:t};throw t}})}}gw=Symbol.toStringTag;const wC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ib={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class SC{constructor(t,a={},i,o){this.shouldThrowOnError=!1,this.url=t,this.headers=a,this.bucketId=i,this.fetch=L0(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,a,i,o){return oe(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},ib),o);let m=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const g=u.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.has("cacheControl")||c.append("cacheControl",u.cacheControl),g&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(g))):(c=i,m["cache-control"]=`max-age=${u.cacheControl}`,m["content-type"]=u.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!u.duplex&&(u.duplex="half")),o!=null&&o.headers&&(m=Object.assign(Object.assign({},m),o.headers));const p=this._removeEmptyFolders(a),y=this._getFinalPath(p),b=yield(t=="PUT"?Hf:Jn)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:m},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ot(c))return{data:null,error:c};throw c}})}upload(t,a,i){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,a,i)})}uploadToSignedUrl(t,a,i,o){return oe(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${u}`);m.searchParams.set("token",a);try{let g;const p=Object.assign({upsert:ib.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const b=yield Hf(this.fetch,m.toString(),g,{headers:y});return{data:{path:c,fullPath:b.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(ot(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,a){return oe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const o=Object.assign({},this.headers);a!=null&&a.upsert&&(o["x-upsert"]="true");const c=yield Jn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(this.url+c.url),m=u.searchParams.get("token");if(!m)throw new ho("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}update(t,a,i){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,a,i)})}move(t,a,i){return oe(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}copy(t,a,i){return oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}createSignedUrl(t,a,i){return oe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),c=yield Jn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:a},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}createSignedUrls(t,a,i){return oe(this,void 0,void 0,function*(){try{const o=yield Jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:t},{headers:this.headers}),c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}download(t,a){const o=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),u=c?`?${c}`:"",m=this._getFinalPath(t),g=()=>ao(this.fetch,`${this.url}/${o}/${m}${u}`,{headers:this.headers,noResolveJson:!0});return new xC(g,this.shouldThrowOnError)}info(t){return oe(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{const i=yield ao(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:If(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}exists(t){return oe(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{return yield vC(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i)&&i instanceof ou){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,a){const i=this._getFinalPath(t),o=[],c=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&o.push(c);const m=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});g!==""&&o.push(g);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${p}`)}}}remove(t){return oe(this,void 0,void 0,function*(){try{return{data:yield B0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}})}list(t,a,i){return oe(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},wC),a),{prefix:t||""});return{data:yield Jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}listV2(t,a){return oe(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield Jn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const a=[];return t.width&&a.push(`width=${t.width}`),t.height&&a.push(`height=${t.height}`),t.resize&&a.push(`resize=${t.resize}`),t.format&&a.push(`format=${t.format}`),t.quality&&a.push(`quality=${t.quality}`),a.join("&")}}const pw="2.87.1",yw={"X-Client-Info":`storage-js/${pw}`};class _C{constructor(t,a={},i,o){this.shouldThrowOnError=!1;const c=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yw),a),this.fetch=L0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return oe(this,void 0,void 0,function*(){try{const a=this.listBucketOptionsToQueryString(t);return{data:yield ao(this.fetch,`${this.url}/bucket${a}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}})}getBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}})}createBucket(t){return oe(this,arguments,void 0,function*(a,i={public:!1}){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{id:a,name:a,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}updateBucket(t,a){return oe(this,void 0,void 0,function*(){try{return{data:yield Hf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}emptyBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}})}deleteBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:yield B0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}})}listBucketOptionsToQueryString(t){const a={};return t&&("limit"in t&&(a.limit=String(t.limit)),"offset"in t&&(a.offset=String(t.offset)),t.search&&(a.search=t.search),t.sortColumn&&(a.sortColumn=t.sortColumn),t.sortOrder&&(a.sortOrder=t.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}}var ro=class extends Error{constructor(s,t){var a;super(s),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((a=t.icebergType)==null?void 0:a.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function TC(s,t,a){const i=new URL(t,s);if(a)for(const[o,c]of Object.entries(a))c!==void 0&&i.searchParams.set(o,c);return i.toString()}async function EC(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function jC(s){const t=s.fetchImpl??globalThis.fetch;return{async request({method:a,path:i,query:o,body:c,headers:u}){const m=TC(s.baseUrl,i,o),g=await EC(s.auth),p=await t(m,{method:a,headers:{...c?{"Content-Type":"application/json"}:{},...g,...u},body:c?JSON.stringify(c):void 0}),y=await p.text(),b=(p.headers.get("content-type")||"").includes("application/json"),w=b&&y?JSON.parse(y):y;if(!p.ok){const _=b?w:void 0,E=_==null?void 0:_.error;throw new ro((E==null?void 0:E.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:_})}return{status:p.status,headers:p.headers,data:w}}}}function Ic(s){return s.join("")}var kC=class{constructor(s,t=""){this.client=s,this.prefix=t}async listNamespaces(s){const t=s?{parent:Ic(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(s,t){const a={namespace:s.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ic(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ic(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ic(s.namespace)}`}),!0}catch(t){if(t instanceof ro&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(s,t){try{return await this.createNamespace(s,t)}catch(a){if(a instanceof ro&&a.status===409)return;throw a}}};function fi(s){return s.join("")}var AC=class{constructor(s,t="",a){this.client=s,this.prefix=t,this.accessDelegation=a}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fi(s.namespace)}/tables`})).data.identifiers}async createTable(s,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fi(s.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(s,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fi(s.namespace)}/tables/${s.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(s,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fi(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(s){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fi(s.namespace)}/tables/${s.name}`,headers:t})).data.metadata}async tableExists(s){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fi(s.namespace)}/tables/${s.name}`,headers:t}),!0}catch(a){if(a instanceof ro&&a.status===404)return!1;throw a}}async createTableIfNotExists(s,t){try{return await this.createTable(s,t)}catch(a){if(a instanceof ro&&a.status===409)return await this.loadTable({namespace:s.namespace,name:t.name});throw a}}},CC=class{constructor(s){var i;let t="v1";s.catalogName&&(t+=`/${s.catalogName}`);const a=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=jC({baseUrl:a,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(i=s.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new kC(this.client,t),this.tableOps=new AC(this.client,t,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,t){return this.namespaceOps.createNamespace(s,t)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,t){return this.tableOps.createTable(s,t)}async updateTable(s,t){return this.tableOps.updateTable(s,t)}async dropTable(s,t){await this.tableOps.dropTable(s,t)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,t){return this.namespaceOps.createNamespaceIfNotExists(s,t)}async createTableIfNotExists(s,t){return this.tableOps.createTableIfNotExists(s,t)}};class vw{constructor(t,a={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yw),a),this.fetch=L0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}})}listBuckets(t){return oe(this,void 0,void 0,function*(){try{const a=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&a.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&a.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&a.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&a.set("sortOrder",t.sortOrder),t!=null&&t.search&&a.set("search",t.search);const i=a.toString(),o=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield ao(this.fetch,o,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}})}deleteBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:yield B0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}})}from(t){if(!gC(t))throw new ho("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new CC({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>oe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(a,{get(c,u){const m=c[u];return typeof m!="function"?m:(...g)=>oe(this,void 0,void 0,function*(){try{return{data:yield m.apply(c,g),error:null}}catch(p){if(i)throw p;return{data:null,error:p}}})}})}}const V0={"X-Client-Info":`storage-js/${pw}`,"Content-Type":"application/json"};class $0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function dn(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}class Jc extends $0{constructor(t,a,i){super(t),this.name="StorageVectorsApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bw extends $0{constructor(t,a){super(t),this.name="StorageVectorsUnknownError",this.originalError=a}}var Ff;(function(s){s.InternalError="InternalError",s.S3VectorConflictException="S3VectorConflictException",s.S3VectorNotFoundException="S3VectorNotFoundException",s.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",s.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",s.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ff||(Ff={}));const _u=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),NC=()=>Response,xw=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},OC=s=>Array.from(new Float32Array(s)),DC=(s,t)=>{if(t!==void 0&&s.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${s.float32.length}`)},lb=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),RC=(s,t,a)=>oe(void 0,void 0,void 0,function*(){if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(a!=null&&a.noResolveJson)){const o=s.status||500,c=s;if(typeof c.json=="function")c.json().then(u=>{const m=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";t(new Jc(lb(u),o,m))}).catch(()=>{const u=o+"",m=c.statusText||`HTTP ${o} error`;t(new Jc(m,o,u))});else{const u=o+"",m=c.statusText||`HTTP ${o} error`;t(new Jc(m,o,u))}}else t(new bw(lb(s),s))}),MC=(s,t,a,i)=>{const o={method:s,headers:(t==null?void 0:t.headers)||{}};return i?(xw(i)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(i)):o.body=i,Object.assign(Object.assign({},o),a)):o};function UC(s,t,a,i,o,c){return oe(this,void 0,void 0,function*(){return new Promise((u,m)=>{s(a,MC(t,i,o,c)).then(g=>{if(!g.ok)throw g;if(i!=null&&i.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>u(g)).catch(g=>RC(g,m,i))})})}function _n(s,t,a,i,o){return oe(this,void 0,void 0,function*(){return UC(s,"POST",t,i,o,a)})}class ww{constructor(t,a={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V0),a),this.fetch=_u(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return oe(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}getIndex(t,a){return oe(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dn(i))return{data:null,error:i};throw i}})}listIndexes(t){return oe(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}deleteIndex(t,a){return oe(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dn(i))return{data:null,error:i};throw i}})}}class Sw{constructor(t,a={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V0),a),this.fetch=_u(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return oe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield _n(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}getVectors(t){return oe(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}listVectors(t){return oe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield _n(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}queryVectors(t){return oe(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}deleteVectors(t){return oe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield _n(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}}class _w{constructor(t,a={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V0),a),this.fetch=_u(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}getBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}listBuckets(){return oe(this,arguments,void 0,function*(t={}){try{return{data:yield _n(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}deleteBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}}class Tw extends _w{constructor(t,a={}){super(t,a.headers||{},a.fetch)}from(t){return new Ew(this.url,this.headers,t,this.fetch)}createBucket(t){const a=Object.create(null,{createBucket:{get:()=>super.createBucket}});return oe(this,void 0,void 0,function*(){return a.createBucket.call(this,t)})}getBucket(t){const a=Object.create(null,{getBucket:{get:()=>super.getBucket}});return oe(this,void 0,void 0,function*(){return a.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return oe(this,arguments,void 0,function*(a={}){return t.listBuckets.call(this,a)})}deleteBucket(t){const a=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return oe(this,void 0,void 0,function*(){return a.deleteBucket.call(this,t)})}}class Ew extends ww{constructor(t,a,i,o){super(t,a,o),this.vectorBucketName=i}createIndex(t){const a=Object.create(null,{createIndex:{get:()=>super.createIndex}});return oe(this,void 0,void 0,function*(){return a.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return oe(this,arguments,void 0,function*(a={}){return t.listIndexes.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const a=Object.create(null,{getIndex:{get:()=>super.getIndex}});return oe(this,void 0,void 0,function*(){return a.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const a=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return oe(this,void 0,void 0,function*(){return a.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new jw(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class jw extends Sw{constructor(t,a,i,o,c){super(t,a,c),this.vectorBucketName=i,this.indexName=o}putVectors(t){const a=Object.create(null,{putVectors:{get:()=>super.putVectors}});return oe(this,void 0,void 0,function*(){return a.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const a=Object.create(null,{getVectors:{get:()=>super.getVectors}});return oe(this,void 0,void 0,function*(){return a.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return oe(this,arguments,void 0,function*(a={}){return t.listVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const a=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return oe(this,void 0,void 0,function*(){return a.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const a=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return oe(this,void 0,void 0,function*(){return a.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class zC extends _C{constructor(t,a={},i,o){super(t,a,i,o)}from(t){return new SC(this.url,this.headers,t,this.fetch)}get vectors(){return new Tw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vw(this.url+"/iceberg",this.headers,this.fetch)}}const LC=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:vw,StorageApiError:mw,StorageClient:zC,StorageError:ho,StorageUnknownError:ou,StorageVectorsApiError:Jc,StorageVectorsClient:Tw,StorageVectorsError:$0,get StorageVectorsErrorCode(){return Ff},StorageVectorsUnknownError:bw,VectorBucketApi:_w,VectorBucketScope:Ew,VectorDataApi:Sw,VectorIndexApi:ww,VectorIndexScope:jw,isPlainObject:xw,isStorageError:ot,isStorageVectorsError:dn,normalizeToFloat32:OC,resolveFetch:_u,resolveResponse:NC,validateVectorDimension:DC},Symbol.toStringTag,{value:"Module"})),BC=io(LC);var nf={},Bl={},ob;function VC(){return ob||(ob=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.version=void 0,Bl.version="2.87.1"),Bl}var cb;function $C(){return cb||(cb=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_REALTIME_OPTIONS=s.DEFAULT_AUTH_OPTIONS=s.DEFAULT_DB_OPTIONS=s.DEFAULT_GLOBAL_OPTIONS=s.DEFAULT_HEADERS=void 0;const t=VC();let a="";typeof Deno<"u"?a="deno":typeof document<"u"?a="web":typeof navigator<"u"&&navigator.product==="ReactNative"?a="react-native":a="node",s.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${a}/${t.version}`},s.DEFAULT_GLOBAL_OPTIONS={headers:s.DEFAULT_HEADERS},s.DEFAULT_DB_OPTIONS={schema:"public"},s.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s.DEFAULT_REALTIME_OPTIONS={}})(nf)),nf}var sf={},ub;function PC(){return ub||(ub=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.fetchWithAuth=s.resolveHeadersConstructor=s.resolveFetch=void 0;const t=o=>o?(...c)=>o(...c):(...c)=>fetch(...c);s.resolveFetch=t;const a=()=>Headers;s.resolveHeadersConstructor=a;const i=(o,c,u)=>{const m=(0,s.resolveFetch)(u),g=(0,s.resolveHeadersConstructor)();return async(p,y)=>{var b;const w=(b=await c())!==null&&b!==void 0?b:o;let _=new g(y==null?void 0:y.headers);return _.has("apikey")||_.set("apikey",o),_.has("Authorization")||_.set("Authorization",`Bearer ${w}`),m(p,Object.assign(Object.assign({},y),{headers:_}))}};s.fetchWithAuth=i})(sf)),sf}var Is={},db;function IC(){if(db)return Is;db=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.isBrowser=void 0,Is.uuid=s,Is.ensureTrailingSlash=t,Is.applySettingDefaults=i,Is.validateSupabaseUrl=o;function s(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var u=Math.random()*16|0,m=c=="x"?u:u&3|8;return m.toString(16)})}function t(c){return c.endsWith("/")?c:c+"/"}const a=()=>typeof window<"u";Is.isBrowser=a;function i(c,u){var m,g;const{db:p,auth:y,realtime:b,global:w}=c,{db:_,auth:E,realtime:k,global:T}=u,M={db:Object.assign(Object.assign({},_),p),auth:Object.assign(Object.assign({},E),y),realtime:Object.assign(Object.assign({},k),b),storage:{},global:Object.assign(Object.assign(Object.assign({},T),w),{headers:Object.assign(Object.assign({},(m=T==null?void 0:T.headers)!==null&&m!==void 0?m:{}),(g=w==null?void 0:w.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return c.accessToken?M.accessToken=c.accessToken:delete M.accessToken,M}function o(c){const u=c==null?void 0:c.trim();if(!u)throw new Error("supabaseUrl is required.");if(!u.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(u))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Is}var Vl={};const kw="2.87.1",yi=30*1e3,qf=3,af=qf*yi,HC="http://localhost:9999",FC="supabase.auth.token",qC={"X-Client-Info":`gotrue-js/${kw}`},Gf="X-Supabase-Api-Version",Aw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YC=600*1e3;let Di=class extends Error{constructor(t,a,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=i}};function ge(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}let Cw=class extends Di{constructor(t,a,i){super(t,a,i),this.name="AuthApiError",this.status=a,this.code=i}};function Nw(s){return ge(s)&&s.name==="AuthApiError"}let Aa=class extends Di{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}},Ys=class extends Di{constructor(t,a,i,o){super(t,i,o),this.name=a,this.status=i}},un=class extends Ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Ow(s){return ge(s)&&s.name==="AuthSessionMissingError"}let vr=class extends Ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Fl=class extends Ys{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},ql=class extends Ys{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Dw(s){return ge(s)&&s.name==="AuthImplicitGrantRedirectError"}let Yf=class extends Ys{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},cu=class extends Ys{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}};function Zc(s){return ge(s)&&s.name==="AuthRetryableFetchError"}let Kf=class extends Ys{constructor(t,a,i){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=i}};function KC(s){return ge(s)&&s.name==="AuthWeakPasswordError"}let uu=class extends Ys{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hb=` 	
\r=`.split(""),XC=(()=>{const s=new Array(128);for(let t=0;t<s.length;t+=1)s[t]=-1;for(let t=0;t<hb.length;t+=1)s[hb[t].charCodeAt(0)]=-2;for(let t=0;t<du.length;t+=1)s[du[t].charCodeAt(0)]=t;return s})();function fb(s,t,a){if(s!==null)for(t.queue=t.queue<<8|s,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;a(du[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;a(du[i]),t.queuedBits-=6}}function Rw(s,t,a){const i=XC[s];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function mb(s){const t=[],a=u=>{t.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{QC(u,i,a)};for(let u=0;u<s.length;u+=1)Rw(s.charCodeAt(u),o,c);return t.join("")}function JC(s,t){if(s<=127){t(s);return}else if(s<=2047){t(192|s>>6),t(128|s&63);return}else if(s<=65535){t(224|s>>12),t(128|s>>6&63),t(128|s&63);return}else if(s<=1114111){t(240|s>>18),t(128|s>>12&63),t(128|s>>6&63),t(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function ZC(s,t){for(let a=0;a<s.length;a+=1){let i=s.charCodeAt(a);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(s.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}JC(i,t)}}function QC(s,t,a){if(t.utf8seq===0){if(s<=127){a(s);return}for(let i=1;i<6;i+=1)if((s>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=s&31;else if(t.utf8seq===3)t.codepoint=s&15;else if(t.utf8seq===4)t.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|s&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function ji(s){const t=[],a={queue:0,queuedBits:0},i=o=>{t.push(o)};for(let o=0;o<s.length;o+=1)Rw(s.charCodeAt(o),a,i);return new Uint8Array(t)}function WC(s){const t=[];return ZC(s,a=>t.push(a)),new Uint8Array(t)}function Er(s){const t=[],a={queue:0,queuedBits:0},i=o=>{t.push(o)};return s.forEach(o=>fb(o,a,i)),fb(null,a,i),t.join("")}function eN(s){return Math.round(Date.now()/1e3)+s}function tN(){return Symbol("auth-callback")}const Ht=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},Mw=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function nN(s){const t={},a=new URL(s);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,c)=>{t[c]=o})}catch{}return a.searchParams.forEach((i,o)=>{t[o]=i}),t}const Uw=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),sN=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",vi=async(s,t,a)=>{await s.setItem(t,JSON.stringify(a))},gr=async(s,t)=>{const a=await s.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},It=async(s,t)=>{await s.removeItem(t)};class Tu{constructor(){this.promise=new Tu.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}Tu.promiseConstructor=Promise;function rf(s){const t=s.split(".");if(t.length!==3)throw new uu("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!GC.test(t[i]))throw new uu("JWT not in base64url format");return{header:JSON.parse(mb(t[0])),payload:JSON.parse(mb(t[1])),signature:ji(t[2]),raw:{header:t[0],payload:t[1]}}}async function aN(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function rN(s,t){return new Promise((i,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await s(c);if(!t(c,null,u)){i(u);return}}catch(u){if(!t(c,u)){o(u);return}}})()})}function iN(s){return("0"+s.toString(16)).substr(-2)}function lN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=a.length;let o="";for(let c=0;c<56;c++)o+=a.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(t),Array.from(t,iN).join("")}async function oN(s){const a=new TextEncoder().encode(s),i=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(i);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function cN(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const a=await oN(s);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mi(s,t,a=!1){const i=lN();let o=i;a&&(o+="/PASSWORD_RECOVERY"),await vi(s,`${t}-code-verifier`,o);const c=await cN(i);return[c,i===c?"plain":"s256"]}const uN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dN(s){const t=s.headers.get(Gf);if(!t||!t.match(uN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hN(s){if(!s)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(s<=t)throw new Error("JWT has expired")}function fN(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gi(s){if(!mN.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lf(){const s={};return new Proxy(s,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gN(s,t){return new Proxy(s,{get:(a,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const c=i.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,i,o)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,i,o)}})}function gb(s){return JSON.parse(JSON.stringify(s))}const br=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),pN=[502,503,504];async function pb(s){var t;if(!sN(s))throw new cu(br(s),0);if(pN.includes(s.status))throw new cu(br(s),s.status);let a;try{a=await s.json()}catch(c){throw new Aa(br(c),c)}let i;const o=dN(s);if(o&&o.getTime()>=Aw["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?i=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(i=a.error_code),i){if(i==="weak_password")throw new Kf(br(a),s.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new un}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new Kf(br(a),s.status,a.weak_password.reasons);throw new Cw(br(a),s.status||500,i)}const yN=(s,t,a,i)=>{const o={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),a))};async function be(s,t,a,i){var o;const c=Object.assign({},i==null?void 0:i.headers);c[Gf]||(c[Gf]=Aw["2024-01-01"].name),i!=null&&i.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const u=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const m=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",g=await vN(s,t,a+m,{headers:c,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function vN(s,t,a,i,o,c){const u=yN(t,i,o,c);let m;try{m=await s(a,Object.assign({},u))}catch(g){throw console.error(g),new cu(br(g),0)}if(m.ok||await pb(m),i!=null&&i.noResolveJson)return m;try{return await m.json()}catch(g){await pb(g)}}function Kn(s){var t;let a=null;wN(s)&&(a=Object.assign({},s),s.expires_at||(a.expires_at=eN(s.expires_in)));const i=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:a,user:i},error:null}}function yb(s){const t=Kn(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0)&&(t.data.weak_password=s.weak_password),t}function Ca(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function bN(s){return{data:s,error:null}}function xN(s){const{action_link:t,email_otp:a,hashed_token:i,redirect_to:o,verification_type:c}=s,u=zi(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:a,hashed_token:i,redirect_to:o,verification_type:c},g=Object.assign({},u);return{data:{properties:m,user:g},error:null}}function vb(s){return s}function wN(s){return s.access_token&&s.refresh_token&&s.expires_in}const Qc=["global","local","others"];let P0=class{constructor({url:t="",headers:a={},fetch:i}){this.url=t,this.headers=a,this.fetch=Uw(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=Qc[0]){if(Qc.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qc.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ge(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,a={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Ca})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:a}=t,i=zi(t,["options"]),o=Object.assign(Object.assign({},i),a);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:xN,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(ge(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ca})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,i,o,c,u,m,g;try{const p={nextPage:null,lastPage:0,total:0},y=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:vb});if(y.error)throw y.error;const b=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(E.split(";")[1].split("=")[1]);p[`${T}Page`]=k}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(ge(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){gi(t);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ca})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){gi(t);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Ca})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,a=!1){gi(t);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Ca})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){gi(t.userId);try{const{data:a,error:i}=await be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:i}}catch(a){if(ge(a))return{data:null,error:a};throw a}}async _deleteFactor(t){gi(t.userId),gi(t.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,i,o,c,u,m,g;try{const p={nextPage:null,lastPage:0,total:0},y=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:vb});if(y.error)throw y.error;const b=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(E.split(";")[1].split("=")[1]);p[`${T}Page`]=k}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(ge(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ge(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ge(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ge(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ge(a))return{data:null,error:a};throw a}}};function bb(s={}){return{getItem:t=>s[t]||null,setItem:(t,a)=>{s[t]=a},removeItem:t=>{delete s[t]}}}const xr={debug:!!(globalThis&&Mw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let zw=class extends I0{};class SN extends I0{}async function Lw(s,t,a){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,o.name);try{return await a()}finally{xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,o.name)}}else{if(t===0)throw xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new zw(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(xr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}const xb={};async function _N(s,t,a){var i;const o=(i=xb[s])!==null&&i!==void 0?i:Promise.resolve(),c=Promise.race([o.catch(()=>null),t>=0?new Promise((u,m)=>{setTimeout(()=>{m(new SN(`Acquring process lock with name "${s}" timed out`))},t)}):null].filter(u=>u)).catch(u=>{if(u&&u.isAcquireTimeout)throw u;return null}).then(async()=>await a());return xb[s]=c.catch(async u=>{if(u&&u.isAcquireTimeout)return await o,null;throw u}),await c}function TN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Bw(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function EN(s){return parseInt(s,16)}function jN(s){const t=new TextEncoder().encode(s);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function kN(s){var t;const{chainId:a,domain:i,expirationTime:o,issuedAt:c=new Date,nonce:u,notBefore:m,requestId:g,resources:p,scheme:y,uri:b,version:w}=s;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=s.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const _=Bw(s.address),E=y?`${y}://${i}`:i,k=s.statement?`${s.statement}
`:"",T=`${E} wants you to sign in with your Ethereum account:
${_}

${k}`;let M=`URI: ${b}
Version: ${w}
Chain ID: ${a}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(o&&(M+=`
Expiration Time: ${o.toISOString()}`),m&&(M+=`
Not Before: ${m.toISOString()}`),g&&(M+=`
Request ID: ${g}`),p){let V=`
Resources:`;for(const O of p){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);V+=`
- ${O}`}M+=V}return`${T}
${M}`}class Ct extends Error{constructor({message:t,code:a,cause:i,name:o}){var c;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(c=o??(i instanceof Error?i.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=a}}class hu extends Ct{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function AN({error:s,options:t}){var a,i,o;const{publicKey:c}=t;if(!c)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((a=c.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new Ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(t.mediation==="conditional"&&((i=c.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ct({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const u=window.location.hostname;if(Vw(u)){if(c.rp.id!==u)return new Ct({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function CN({error:s,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ct({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const i=window.location.hostname;if(Vw(i)){if(a.rpId!==i)return new Ct({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class NN{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const ON=new NN;function DN(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:t,user:a,excludeCredentials:i}=s,o=zi(s,["challenge","user","excludeCredentials"]),c=ji(t).buffer,u=Object.assign(Object.assign({},a),{id:ji(a.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:c,user:u});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let g=0;g<i.length;g++){const p=i[g];m.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:ji(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function RN(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:t,allowCredentials:a}=s,i=zi(s,["challenge","allowCredentials"]),o=ji(t).buffer,c=Object.assign(Object.assign({},i),{challenge:o});if(a&&a.length>0){c.allowCredentials=new Array(a.length);for(let u=0;u<a.length;u++){const m=a[u];c.allowCredentials[u]=Object.assign(Object.assign({},m),{id:ji(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function MN(s){var t;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const a=s;return{id:s.id,rawId:s.id,response:{attestationObject:Er(new Uint8Array(s.response.attestationObject)),clientDataJSON:Er(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function UN(s){var t;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const a=s,i=s.getClientExtensionResults(),o=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Er(new Uint8Array(o.authenticatorData)),clientDataJSON:Er(new Uint8Array(o.clientDataJSON)),signature:Er(new Uint8Array(o.signature)),userHandle:o.userHandle?Er(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Vw(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function wb(){var s,t;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function zN(s){try{const t=await navigator.credentials.create(s);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hu("Browser returned unexpected credential type",t)}:{data:null,error:new hu("Empty credential response",t)}}catch(t){return{data:null,error:AN({error:t,options:s})}}}async function LN(s){try{const t=await navigator.credentials.get(s);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hu("Browser returned unexpected credential type",t)}:{data:null,error:new hu("Empty credential response",t)}}catch(t){return{data:null,error:CN({error:t,options:s})}}}const BN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},VN={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fu(...s){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),a=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of s)if(o)for(const c in o){const u=o[c];if(u!==void 0)if(Array.isArray(u))i[c]=u;else if(a(u))i[c]=u;else if(t(u)){const m=i[c];t(m)?i[c]=fu(m,u):i[c]=fu(u)}else i[c]=u}return i}function $N(s,t){return fu(BN,s,t||{})}function PN(s,t){return fu(VN,s,t||{})}class IN{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:i,signal:o},c){try{const{data:u,error:m}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!u)return{data:null,error:m};const g=o??ON.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=$N(u.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:y,error:b}=await zN({publicKey:p,signal:g});return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const p=PN(u.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:y,error:b}=await LN(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:g}));return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(u){return ge(u)?{data:null,error:u}:{data:null,error:new Aa("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:a,webauthn:i}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!a)return{data:null,error:new Di("rpId is required for WebAuthn authentication")};try{if(!wb())return{data:null,error:new Aa("Browser does not support WebAuthn",null)};const{data:u,error:m}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:i},signal:o},{request:c});if(!u)return{data:null,error:m};const{webauthn:g}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:g.type,rpId:a,rpOrigins:i,credential_response:g.credential_response}})}catch(u){return ge(u)?{data:null,error:u}:{data:null,error:new Aa("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!a)return{data:null,error:new Di("rpId is required for WebAuthn registration")};try{if(!wb())return{data:null,error:new Aa("Browser does not support WebAuthn",null)};const{data:u,error:m}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:m};const{data:g,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:a,rpOrigins:i},signal:o},{create:c});return g?this._verify({factorId:u.id,challengeId:g.challengeId,webauthn:{rpId:a,rpOrigins:i,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ge(u)?{data:null,error:u}:{data:null,error:new Aa("Unexpected error in register",u)}}}}TN();const HN={url:HC,storageKey:FC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Sb(s,t,a){return await a()}const pi={};let H0=class Xf{get jwks(){var t,a;return(a=(t=pi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=pi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{cachedAt:t})}constructor(t){var a,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},HN),t);if(this.storageKey=c.storageKey,this.instanceID=(a=Xf.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Xf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Ht()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new P0({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Uw(c.fetch),this.lock=c.lock||Sb,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&Ht()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=Lw:this.lock=Sb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new IN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Mw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bb(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=bb(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kw}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},i="none";if(Ht()&&(a=nN(window.location.href),this._isImplicitGrantCallback(a)?i="implicit":await this._isPKCECallback(a)&&(i="pkce")),Ht()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:c}=await this._getSessionFromURL(a,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Dw(c)){const g=(t=c.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",m),await this._saveSession(u),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return ge(a)?this._returnResult({error:a}):this._returnResult({error:new Aa("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,i,o;try{const c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Kn}),{data:u,error:m}=c;if(m||!u)return this._returnResult({data:{user:null,session:null},error:m});const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(c){if(ge(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(t){var a,i,o;try{let c;if("email"in t){const{email:y,password:b,options:w}=t;let _=null,E=null;this.flowType==="pkce"&&([_,E]=await mi(this.storage,this.storageKey)),c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:y,password:b,data:(a=w==null?void 0:w.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:_,code_challenge_method:E},xform:Kn})}else if("phone"in t){const{phone:y,password:b,options:w}=t;c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Kn})}else throw new Fl("You must provide either an email or phone number and a password");const{data:u,error:m}=c;if(m||!u)return await It(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(c){if(await It(this.storage,`${this.storageKey}-code-verifier`),ge(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(t){try{let a;if("email"in t){const{email:c,password:u,options:m}=t;a=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:yb})}else if("phone"in t){const{phone:c,password:u,options:m}=t;a=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:yb})}else throw new Fl("You must provide either an email or phone number and a password");const{data:i,error:o}=a;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const c=new vr;return this._returnResult({data:{user:null,session:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,i,o,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,i,o,c,u,m,g,p,y,b,w;let _,E;if("message"in t)_=t.message,E=t.signature;else{const{chain:k,wallet:T,statement:M,options:V}=t;let O;if(Ht())if(typeof T=="object")O=T;else{const se=window;if("ethereum"in se&&typeof se.ethereum=="object"&&"request"in se.ethereum&&typeof se.ethereum.request=="function")O=se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(V!=null&&V.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=T}const F=new URL((a=V==null?void 0:V.url)!==null&&a!==void 0?a:window.location.href),J=await O.request({method:"eth_requestAccounts"}).then(se=>se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ee=Bw(J[0]);let G=(i=V==null?void 0:V.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!G){const se=await O.request({method:"eth_chainId"});G=EN(se)}const Z={domain:F.host,address:ee,statement:M,uri:F.href,version:"1",chainId:G,nonce:(o=V==null?void 0:V.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(c=V==null?void 0:V.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(m=V==null?void 0:V.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=V==null?void 0:V.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=V==null?void 0:V.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=V==null?void 0:V.signInWithEthereum)===null||y===void 0?void 0:y.resources};_=kN(Z),E=await O.request({method:"personal_sign",params:[jN(_),ee]})}try{const{data:k,error:T}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:E},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Kn});if(T)throw T;if(!k||!k.session||!k.user){const M=new vr;return this._returnResult({data:{user:null,session:null},error:M})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:T})}catch(k){if(ge(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var a,i,o,c,u,m,g,p,y,b,w,_;let E,k;if("message"in t)E=t.message,k=t.signature;else{const{chain:T,wallet:M,statement:V,options:O}=t;let F;if(Ht())if(typeof M=="object")F=M;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))F=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=M}const J=new URL((a=O==null?void 0:O.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in F&&F.signIn){const ee=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),V?{statement:V}:null));let G;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")G=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)G=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)E=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),k=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${J.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(o=(i=O==null?void 0:O.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((u=O==null?void 0:O.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((m=O==null?void 0:O.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((g=O==null?void 0:O.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((p=O==null?void 0:O.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((b=(y=O==null?void 0:O.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...O.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const ee=await F.signMessage(new TextEncoder().encode(E),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=ee}}try{const{data:T,error:M}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Er(k)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Kn});if(M)throw M;if(!T||!T.session||!T.user){const V=new vr;return this._returnResult({data:{user:null,session:null},error:V})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:M})}catch(T){if(ge(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const a=await gr(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(a??"").split("/");try{const{data:c,error:u}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Kn});if(await It(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!c||!c.session||!c.user){const m=new vr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(await It(this.storage,`${this.storageKey}-code-verifier`),ge(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(t){try{const{options:a,provider:i,token:o,access_token:c,nonce:u}=t,m=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Kn}),{data:g,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const y=new vr;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,i,o,c,u;try{if("email"in t){const{email:m,options:g}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await mi(this.storage,this.storageKey));const{error:b}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:m,options:g}=t,{data:p,error:y}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=g==null?void 0:g.data)!==null&&o!==void 0?o:{},create_user:(c=g==null?void 0:g.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(u=g==null?void 0:g.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new Fl("You must provide either an email or phone number.")}catch(m){if(await It(this.storage,`${this.storageKey}-code-verifier`),ge(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(t){var a,i;try{let o,c;"options"in t&&(o=(a=t.options)===null||a===void 0?void 0:a.redirectTo,c=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:m}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Kn});if(m)throw m;if(!u)throw new Error("An error occurred on token verification.");const g=u.session,p=u.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(o){if(ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var a,i,o,c,u;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await mi(this.storage,this.storageKey));const p=await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:bN});return!((c=p.data)===null||c===void 0)&&c.url&&Ht()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await It(this.storage,`${this.storageKey}-code-verifier`),ge(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:i}=t;if(i)throw i;if(!a)throw new un;const{error:o}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:i,type:o,options:c}=t,{error:u}=await be(this.fetch,"POST",a,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:i,type:o,options:c}=t,{data:u,error:m}=await be(this.fetch,"POST",a,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:m})}throw new Fl("You must provide either an email or phone number and a type")}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=a();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await gr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<af:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const u=await gr(this.userStorage,this.storageKey+"-user");u!=null&&u.user?t.user=u.user:t.user=lf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=gN(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(-1,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ca}):await this._useSession(async a=>{var i,o,c;const{data:u,error:m}=a;if(m)throw m;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new un}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Ca})})}catch(a){if(ge(a))return Ow(a)&&(await this._removeSession(),await It(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async i=>{const{data:o,error:c}=i;if(c)throw c;if(!o.session)throw new un;const u=o.session;let m=null,g=null;this.flowType==="pkce"&&t.email!=null&&([m,g]=await mi(this.storage,this.storageKey));const{data:p,error:y}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:g}),jwt:u.access_token,xform:Ca});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await It(this.storage,`${this.storageKey}-code-verifier`),ge(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new un;const a=Date.now()/1e3;let i=a,o=!0,c=null;const{payload:u}=rf(t.access_token);if(u.exp&&(i=u.exp,o=i<=a),o){const{data:m,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:g}=await this._getUser(t.access_token);if(g)throw g;c={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:i-a,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(a){if(ge(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var i;if(!t){const{data:u,error:m}=a;if(m)throw m;t=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new un;const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!Ht())throw new ql("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ql(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Yf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ql("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yf("No code detected.");const{data:V,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:m,expires_at:g,token_type:p}=t;if(!c||!m||!u||!p)throw new ql("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(m);let w=y+b;g&&(w=parseInt(g));const _=w-y;_*1e3<=yi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const E=w-b;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,y);const{data:k,error:T}=await this._getUser(c);if(T)throw T;const M={provider_token:i,provider_refresh_token:o,access_token:c,expires_in:b,expires_at:w,refresh_token:u,token_type:p,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:t.type},error:null})}catch(i){if(ge(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await gr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var i;const{data:o,error:c}=a;if(c)return this._returnResult({error:c});const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:m}=await this.admin.signOut(u,t);if(m&&!(Nw(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return t!=="others"&&(await this._removeSession(),await It(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=tN(),i={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async a=>{var i,o;try{const{data:{session:c},error:u}=a;if(u)throw u;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,a={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await mi(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(c){if(await It(this.storage,`${this.storageKey}-code-verifier`),ge(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var t;try{const{data:a,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:i,error:o}=await this._useSession(async c=>{var u,m,g,p,y;const{data:b,error:w}=c;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Ht()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:t.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(ge(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var i;try{const{error:o,data:{session:c}}=a;if(o)throw o;const{options:u,provider:m,token:g,access_token:p,nonce:y}=t,b=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=c==null?void 0:c.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:g,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Kn}),{data:w,error:_}=b;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new vr}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(o){if(await It(this.storage,`${this.storageKey}-code-verifier`),ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var i,o;const{data:c,error:u}=a;if(u)throw u;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const i=Date.now();return await rN(async o=>(o>0&&await aN(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kn})),(o,c)=>{const u=200*Math.pow(2,o);return c&&Zc(c)&&Date.now()+u-i<yi})}catch(i){if(this._debug(a,"error",i),ge(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",i),Ht()&&!a.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,a;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await gr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await gr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await vi(this.userStorage,this.storageKey+"-user",u)),o.user=(t=u==null?void 0:u.user)!==null&&t!==void 0?t:lf()}else if(o&&!o.user&&!o.user){const u=await gr(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await It(this.storage,this.storageKey+"-user"),await vi(this.storage,this.storageKey,o)):o.user=lf()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const c=((a=o.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<af;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${af}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Zc(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:m}=await this._getUser(o.access_token);!m&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var a,i;if(!t)throw new un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Tu;const{data:c,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!c.session)throw new un;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),ge(c)){const u={data:null,error:c};return Zc(c)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,a,i=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",a,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:a});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,a)}catch(g){c.push(g)}});if(await Promise.all(u),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await It(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),i=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&a.user&&await vi(this.userStorage,this.storageKey+"-user",{user:a.user});const o=Object.assign({},a);delete o.user;const c=gb(o);await vi(this.storage,this.storageKey,c)}else{const o=gb(a);await vi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await It(this.storage,this.storageKey),await It(this.storage,this.storageKey+"-code-verifier"),await It(this.storage,this.storageKey+"-user"),this.userStorage&&await It(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:i}}=a;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-t)/yi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${yi}ms, refresh threshold is ${qf} ticks`),o<=qf&&await this._callRefreshToken(i.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof I0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,i){const o=[`provider=${encodeURIComponent(a)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,u]=await mi(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(m.toString())}if(i!=null&&i.queryParams){const c=new URLSearchParams(i.queryParams);o.push(c.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var i;const{data:o,error:c}=a;return c?this._returnResult({data:null,error:c}):await be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var i,o;const{data:c,error:u}=a;if(u)return this._returnResult({data:null,error:u});const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:g,error:p}=await be(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&g.type==="totp"&&(!((o=g==null?void 0:g.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var i;const{data:o,error:c}=a;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?MN(t.webauthn.credential_response):UN(t.webauthn.credential_response)})}:{code:t.code}),{data:m,error:g}=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var i;const{data:o,error:c}=a;if(c)return this._returnResult({data:null,error:c});const u=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:m}=u;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:DN(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:RN(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(t=a==null?void 0:a.factors)!==null&&t!==void 0?t:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,a;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=rf(i.access_token);let u=null;c.aal&&(u=c.aal);let m=u;((a=(t=i.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(m="aal2");const p=c.amr||[];return{data:{currentLevel:u,nextLevel:m,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:i},error:o}=a;return o?this._returnResult({data:null,error:o}):i?await be(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new un})})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new un});const u=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return u.data&&u.data.redirect_url&&Ht()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ge(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,a){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new un});const u=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return u.data&&u.data.redirect_url&&Ht()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ge(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:i}=t;return i?this._returnResult({data:null,error:i}):a?await be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new un})})}catch(t){if(ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:i},error:o}=a;return o?this._returnResult({data:null,error:o}):i?(await be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new un})})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let i=a.keys.find(m=>m.kid===t);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(m=>m.kid===t),i&&this.jwks_cached_at+YC>o)return i;const{data:c,error:u}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,i=c.keys.find(m=>m.kid===t),!i)?null:i}async getClaims(t,a={}){try{let i=t;if(!i){const{data:_,error:E}=await this.getSession();if(E||!_.session)return this._returnResult({data:null,error:E});i=_.session.access_token}const{header:o,payload:c,signature:u,raw:{header:m,payload:g}}=rf(i);a!=null&&a.allowExpired||hN(c.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!p){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:c,header:o,signature:u},error:null}}const y=fN(o.alg),b=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,u,WC(`${m}.${g}`)))throw new uu("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(i){if(ge(i))return this._returnResult({data:null,error:i});throw i}}};H0.nextInstanceID={};const FN=P0,qN=H0,GN=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:FN,AuthApiError:Cw,AuthClient:qN,AuthError:Di,AuthImplicitGrantRedirectError:ql,AuthInvalidCredentialsError:Fl,AuthInvalidJwtError:uu,AuthInvalidTokenResponseError:vr,AuthPKCEGrantCodeExchangeError:Yf,AuthRetryableFetchError:cu,AuthSessionMissingError:un,AuthUnknownError:Aa,AuthWeakPasswordError:Kf,CustomAuthError:Ys,GoTrueAdminApi:P0,GoTrueClient:H0,NavigatorLockAcquireTimeoutError:zw,SIGN_OUT_SCOPES:Qc,isAuthApiError:Nw,isAuthError:ge,isAuthImplicitGrantRedirectError:Dw,isAuthRetryableFetchError:Zc,isAuthSessionMissingError:Ow,isAuthWeakPasswordError:KC,lockInternals:xr,navigatorLock:Lw,processLock:_N},Symbol.toStringTag,{value:"Module"})),$w=io(GN);var _b;function YN(){if(_b)return Vl;_b=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.SupabaseAuthClient=void 0;const s=$w;let t=class extends s.AuthClient{constructor(i){super(i)}};return Vl.SupabaseAuthClient=t,Vl}var Tb;function Eb(){if(Tb)return Mc;Tb=1,Object.defineProperty(Mc,"__esModule",{value:!0});const s=W1,t=rw(),a=fw,i=BC,o=$C(),c=PC(),u=IC(),m=YN();class g{constructor(y,b,w){var _,E,k;this.supabaseUrl=y,this.supabaseKey=b;const T=(0,u.validateSupabaseUrl)(y);if(!b)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",T),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",T),this.storageUrl=new URL("storage/v1",T),this.functionsUrl=new URL("functions/v1",T);const M=`sb-${T.hostname.split(".")[0]}-auth-token`,V={db:o.DEFAULT_DB_OPTIONS,realtime:o.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},o.DEFAULT_AUTH_OPTIONS),{storageKey:M}),global:o.DEFAULT_GLOBAL_OPTIONS},O=(0,u.applySettingDefaults)(w??{},V);this.storageKey=(_=O.auth.storageKey)!==null&&_!==void 0?_:"",this.headers=(E=O.global.headers)!==null&&E!==void 0?E:{},O.accessToken?(this.accessToken=O.accessToken,this.auth=new Proxy({},{get:(F,J)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(J)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((k=O.auth)!==null&&k!==void 0?k:{},this.headers,O.global.fetch),this.fetch=(0,c.fetchWithAuth)(b,this._getAccessToken.bind(this),O.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},O.realtime)),this.accessToken&&this.accessToken().then(F=>this.realtime.setAuth(F)).catch(F=>console.warn("Failed to set initial Realtime auth token:",F)),this.rest=new t.PostgrestClient(new URL("rest/v1",T).href,{headers:this.headers,schema:O.db.schema,fetch:this.fetch}),this.storage=new i.StorageClient(this.storageUrl.href,this.headers,this.fetch,w==null?void 0:w.storage),O.accessToken||this._listenForAuthEvents()}get functions(){return new s.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,b={},w={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,b,w)}channel(y,b={config:{}}){return this.realtime.channel(y,b)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,b;if(this.accessToken)return await this.accessToken();const{data:w}=await this.auth.getSession();return(b=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:b,detectSessionInUrl:w,storage:_,userStorage:E,storageKey:k,flowType:T,lock:M,debug:V,throwOnError:O},F,J){const ee={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},ee),F),storageKey:k,autoRefreshToken:y,persistSession:b,detectSessionInUrl:w,storage:_,userStorage:E,flowType:T,lock:M,debug:V,throwOnError:O,fetch:J,hasCustomAuthorizationHeader:Object.keys(this.headers).some(G=>G.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new a.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y==null?void 0:y.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((b,w)=>{this._handleTokenChanged(b,"CLIENT",w==null?void 0:w.access_token)})}_handleTokenChanged(y,b,w){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==w?(this.changedAccessToken=w,this.realtime.setAuth(w)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),b=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Mc.default=g,Mc}var jb;function KN(){return jb||(jb=1,(function(s){var t=Ps&&Ps.__createBinding||(Object.create?(function(y,b,w,_){_===void 0&&(_=w);var E=Object.getOwnPropertyDescriptor(b,w);(!E||("get"in E?!b.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return b[w]}}),Object.defineProperty(y,_,E)}):(function(y,b,w,_){_===void 0&&(_=w),y[_]=b[w]})),a=Ps&&Ps.__exportStar||function(y,b){for(var w in y)w!=="default"&&!Object.prototype.hasOwnProperty.call(b,w)&&t(b,y,w)},i=Ps&&Ps.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(s,"__esModule",{value:!0}),s.createClient=s.SupabaseClient=s.FunctionRegion=s.FunctionsError=s.FunctionsRelayError=s.FunctionsFetchError=s.FunctionsHttpError=s.PostgrestError=void 0;const o=i(Eb());a($w,s);var c=rw();Object.defineProperty(s,"PostgrestError",{enumerable:!0,get:function(){return c.PostgrestError}});var u=W1;Object.defineProperty(s,"FunctionsHttpError",{enumerable:!0,get:function(){return u.FunctionsHttpError}}),Object.defineProperty(s,"FunctionsFetchError",{enumerable:!0,get:function(){return u.FunctionsFetchError}}),Object.defineProperty(s,"FunctionsRelayError",{enumerable:!0,get:function(){return u.FunctionsRelayError}}),Object.defineProperty(s,"FunctionsError",{enumerable:!0,get:function(){return u.FunctionsError}}),Object.defineProperty(s,"FunctionRegion",{enumerable:!0,get:function(){return u.FunctionRegion}}),a(fw,s);var m=Eb();Object.defineProperty(s,"SupabaseClient",{enumerable:!0,get:function(){return i(m).default}});const g=(y,b,w)=>new o.default(y,b,w);s.createClient=g;function p(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const b=y.match(/^v(\d+)\./);return b?parseInt(b[1],10)<=18:!1}p()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Ps)),Ps}var Pw=KN();const Iw=Jf(Pw),XN=U_({__proto__:null,default:Iw},[Pw]),{PostgrestError:J5,FunctionsHttpError:Z5,FunctionsFetchError:Q5,FunctionsRelayError:W5,FunctionsError:eO,FunctionRegion:tO,SupabaseClient:nO,createClient:JN,GoTrueAdminApi:sO,GoTrueClient:aO,AuthAdminApi:rO,AuthClient:iO,navigatorLock:lO,NavigatorLockAcquireTimeoutError:oO,lockInternals:cO,processLock:uO,SIGN_OUT_SCOPES:dO,AuthError:hO,AuthApiError:fO,AuthUnknownError:mO,CustomAuthError:gO,AuthSessionMissingError:pO,AuthInvalidTokenResponseError:yO,AuthInvalidCredentialsError:vO,AuthImplicitGrantRedirectError:bO,AuthPKCEGrantCodeExchangeError:xO,AuthRetryableFetchError:wO,AuthWeakPasswordError:SO,AuthInvalidJwtError:_O,isAuthError:TO,isAuthApiError:EO,isAuthSessionMissingError:jO,isAuthImplicitGrantRedirectError:kO,isAuthRetryableFetchError:AO,isAuthWeakPasswordError:CO,RealtimePresence:NO,RealtimeChannel:OO,RealtimeClient:DO,REALTIME_LISTEN_TYPES:RO,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:MO,REALTIME_PRESENCE_LISTEN_EVENTS:UO,REALTIME_SUBSCRIBE_STATES:zO,REALTIME_CHANNEL_STATES:LO}=Iw||XN,ZN="https://hmnbdkwjgmwchuyhtmqh.supabase.co",QN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhtbmJka3dqZ213Y2h1eWh0bXFoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2OTcyODMsImV4cCI6MjA4MTI3MzI4M30.hev4vRmT7VSmStDiYWKuasuqejZbDHBwi2C_9TB8JN0",Me=JN(ZN,QN);async function WN(s,t){const{data:a,error:i}=await Me.auth.signUp({email:s,password:t});if(i)throw i;return a}async function e5(s,t){const{data:a,error:i}=await Me.auth.signInWithPassword({email:s,password:t});if(i)throw i;return a}async function t5(){const{data:s,error:t}=await Me.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(t)throw t;return s}async function n5(){const{error:s}=await Me.auth.signOut();if(s)throw s}async function s5(){const{data:{user:s}}=await Me.auth.getUser();return s}function a5(s){return Me.auth.onAuthStateChange(s)}function Hw(s){return{id:s.id,title:s.title,tag:s.tag,tagColor:s.tag_color,time:s.time,completed:s.completed,completedAt:s.completed_at,assignedDate:s.assigned_date,isRecurring:s.is_recurring,recurrencePattern:s.recurrence_pattern,parentTaskId:s.parent_task_id,listType:s.list_type}}function Fw(s){return{id:s.id,title:s.title,tag:s.tag||null,start:s.start_hour,duration:s.duration,color:s.color||"#4285f4",textColor:s.text_color||"text-white",isGoogle:s.is_google,googleEventId:s.google_event_id||void 0,taskId:s.task_id||void 0,habitId:s.habit_id||void 0,completed:s.completed||!1}}async function pr(s,t){const a={};t.title!==void 0&&(a.title=t.title),t.tag!==void 0&&(a.tag=t.tag),t.tagColor!==void 0&&(a.tag_color=t.tagColor),t.time!==void 0&&(a.time=t.time),t.completed!==void 0&&(a.completed=t.completed),t.assignedDate!==void 0&&(a.assigned_date=t.assignedDate),t.completedAt!==void 0&&(a.completed_at=t.completedAt);const{error:i}=await Me.from("tasks").update(a).eq("id",s);if(i){if(i.code==="42703"&&a.completed_at!==void 0){delete a.completed_at;const{error:o}=await Me.from("tasks").update(a).eq("id",s);return o?(console.error("Error updating task:",o),!1):!0}return console.error("Error updating task:",i),!1}return!0}async function r5(s){const{error:t}=await Me.from("tasks").delete().eq("id",s);return t?(console.error("Error deleting task:",t),!1):!0}async function i5(s,t){const{error:a}=await Me.from("tasks").update({list_type:t,time:t==="later"?null:void 0}).eq("id",s);return a?(console.error("Error moving task:",a),!1):!0}async function kb(s){const t=s||new Date,a=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),c=`${a}-${i}-${o}`,{data:{user:u}}=await Me.auth.getUser();if(!u)return[];console.log(" Loading schedule blocks for user:",u.id,"date:",c);const{data:m,error:g}=await Me.from("schedule_blocks").select("*").eq("user_id",u.id).eq("date",c).order("start_hour",{ascending:!0});return g?(console.error(" Error loading schedule blocks:",g),[]):(m||[]).map(Fw)}async function Ab(s,t){const{data:{user:a}}=await Me.auth.getUser();if(!a)return null;const i=t||new Date,c=new Intl.DateTimeFormat("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit"}).format(i),u={user_id:a.id,title:s.title,tag:s.tag,start_hour:s.start,duration:s.duration,color:s.color,text_color:s.textColor,is_google:s.isGoogle||!1,completed:s.completed||!1,google_event_id:s.googleEventId||null,task_id:s.taskId!==void 0&&s.taskId!==null?String(s.taskId):null,habit_id:s.habitId!==void 0&&s.habitId!==null?String(s.habitId):null,date:c};console.log(" Creating Schedule Block (Payload):",u);const{data:m,error:g}=await Me.from("schedule_blocks").insert(u).select().single();return g?(console.error(" Error creating schedule block:",g),null):(console.log(" Created schedule block successfully:",m),Fw(m))}async function Hs(s,t){const a={};t.title!==void 0&&(a.title=t.title),t.tag!==void 0&&(a.tag=t.tag),t.start!==void 0&&(a.start_hour=t.start),t.duration!==void 0&&(a.duration=t.duration),t.color!==void 0&&(a.color=t.color),t.textColor!==void 0&&(a.text_color=t.textColor),t.completed!==void 0&&(a.completed=t.completed),t.isGoogle!==void 0&&(a.is_google=t.isGoogle),t.googleEventId!==void 0&&(a.google_event_id=t.googleEventId),t.taskId!==void 0&&(a.task_id=t.taskId),t.habitId!==void 0&&(a.habit_id=t.habitId);const{error:i}=await Me.from("schedule_blocks").update(a).eq("id",s);return i?(console.error("Error updating schedule block:",i),!1):!0}async function of(s){const{error:t}=await Me.from("schedule_blocks").delete().eq("id",s);return t?(console.error("Error deleting schedule block:",t),!1):!0}async function l5(){const{data:{user:s}}=await Me.auth.getUser();if(!s)return null;const{data:t,error:a}=await Me.from("user_settings").select("*").eq("user_id",s.id).single();if(a){if(a.code==="PGRST116"){const{data:i,error:o}=await Me.from("user_settings").insert({user_id:s.id}).select().single();return o?(console.error("Error creating user settings:",o),null):{timeFormat:i.time_format,timezone:i.timezone,googleConnected:i.google_connected}}return console.error("Error loading user settings:",a),null}return{timeFormat:t.time_format,timezone:t.timezone,googleConnected:t.google_connected}}async function o5(s){const{data:{user:t}}=await Me.auth.getUser();if(!t)return!1;const a={};s.timeFormat!==void 0&&(a.time_format=s.timeFormat),s.timezone!==void 0&&(a.timezone=s.timezone),s.googleConnected!==void 0&&(a.google_connected=s.googleConnected);const{error:i}=await Me.from("user_settings").update(a).eq("user_id",t.id);return i?(console.error("Error saving user settings:",i),!1):!0}async function c5(s){var u,m;const t=s.getFullYear(),a=String(s.getMonth()+1).padStart(2,"0"),i=String(s.getDate()).padStart(2,"0"),o=`${t}-${a}-${i}`,{data:{user:c}}=await Me.auth.getUser();if(!c)return"";try{const{data:g,error:p}=await Me.from("notes").select("content").eq("user_id",c.id).eq("date",o).maybeSingle();return p?p.code==="42P01"||(u=p.message)!=null&&u.includes("404")||(m=p.message)!=null&&m.includes("406")?(console.warn("Notes table issue. Please ensure the table exists."),""):(console.error("Error loading note:",p),""):(g==null?void 0:g.content)||""}catch(g){return console.warn("Could not load note:",g),""}}async function u5(s,t){var c;const{data:{user:a}}=await Me.auth.getUser();if(!a)return!1;const o=new Intl.DateTimeFormat("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit"}).format(s);try{const{error:u}=await Me.from("notes").upsert({user_id:a.id,date:o,content:t},{onConflict:"user_id,date"});return u?u.code==="42P01"||(c=u.message)!=null&&c.includes("404")?(console.warn("Notes table not found. Please run the SQL migration."),!1):(console.error("Error saving note:",u),!1):!0}catch(u){return console.warn("Could not save note:",u),!1}}async function Cb(s,t){console.log(` setTaskCompletion: taskId=${s}, completed=${t}`);const{error:a}=await Me.from("tasks").update({completed:t,completed_at:t?new Date().toISOString():null}).eq("id",s);return a?(console.error(" Error setting task completion:",a),!1):(console.log(" Task completion updated successfully"),!0)}async function d5(s,t,a){const{data:{user:i}}=await Me.auth.getUser();if(!i)return null;let o=null;if(t){const m=t.getFullYear(),g=String(t.getMonth()+1).padStart(2,"0"),p=String(t.getDate()).padStart(2,"0");o=`${m}-${g}-${p}`}console.log(" Creating task:",{title:s,listType:a,date:t==null?void 0:t.toISOString(),assigned_date:o}),console.log(" DEBUG: Exact dateStr being saved:",JSON.stringify(o));const{data:c,error:u}=await Me.from("tasks").insert({user_id:i.id,title:s,list_type:a,assigned_date:o}).select().single();return u?(console.error("Error creating task:",u),null):(console.log(" Task created with assigned_date:",c.assigned_date),console.log(" DEBUG: Full task data returned from DB:",{id:c.id,title:c.title,assigned_date:c.assigned_date,list_type:c.list_type}),Hw(c))}async function Nb(s,t,a){let i=null;if(a){const c=a.getFullYear(),u=String(a.getMonth()+1).padStart(2,"0"),m=String(a.getDate()).padStart(2,"0");i=`${c}-${u}-${m}`}const{error:o}=await Me.from("tasks").update({list_type:t,assigned_date:i,time:t==="later"?null:void 0}).eq("id",s);return o?(console.error("Error moving task:",o),!1):!0}async function h5(s,t="Local"){const{data:{user:a}}=await Me.auth.getUser();if(!a)return 0;const i=s.getFullYear(),o=String(s.getMonth()+1).padStart(2,"0"),c=String(s.getDate()).padStart(2,"0"),u=`${i}-${o}-${c}`;console.log(" Generating recurring task instances for:",u);try{const{data:m,error:g}=await Me.from("tasks").select("*").eq("user_id",a.id).eq("is_recurring",!0).is("parent_task_id",null);if(g)return g.code==="42703"||console.error(" Error fetching recurring templates:",g),0;if(!m||m.length===0)return 0;const{data:p,error:y}=await Me.from("tasks").select("parent_task_id, title").eq("user_id",a.id).eq("assigned_date",u).not("assigned_date","is",null);if(y)return console.error("Error fetching existing instances:",y),0;const b=new Set(p==null?void 0:p.map(T=>T.title)),w=new Set(p==null?void 0:p.map(T=>T.parent_task_id)),_=m.filter(T=>!b.has(T.title)&&!w.has(T.id));if(_.length===0)return 0;const E=_.map(T=>({user_id:a.id,title:T.title,tag:T.tag,tag_color:T.tag_color,time:T.time,completed:!1,completed_at:null,assigned_date:u,is_recurring:!1,recurrence_pattern:T.recurrence_pattern,parent_task_id:T.id,list_type:T.list_type||"active"})),{error:k}=await Me.from("tasks").insert(E);return k?(console.error(" Error bulk creating instances:",k),0):(console.log(` Generated ${_.length} recurring task instances for ${u}`),_.length)}catch(m){return console.error(" Error in generateRecurringInstances:",m),0}}async function f5(s){const{data:{user:t}}=await Me.auth.getUser();if(!t)return{active:[],later:[]};const a=s.getFullYear(),i=String(s.getMonth()+1).padStart(2,"0"),o=String(s.getDate()).padStart(2,"0"),c=`${a}-${i}-${o}`;try{const{data:u,error:m}=await Me.from("tasks").select("*").eq("user_id",t.id).eq("assigned_date",c).or("is_recurring.eq.false,is_recurring.is.null");if(m)return console.error("Error in loadAllTasksForDate:",m),{active:[],later:[]};const g=(u||[]).map(Hw);return{active:g.filter(p=>p.listType==="active"||!p.listType),later:g.filter(p=>p.listType==="later")}}catch(u){return console.error("Error in loadAllTasksForDate:",u),{active:[],later:[]}}}const m5=({entries:s,height:t=240})=>{const[a,i]=L.useState(null),o=L.useMemo(()=>{if(s.length<2)return null;const Z=[...s].sort((le,ye)=>new Date(le.date).getTime()-new Date(ye.date).getTime());return Z.map((le,ye)=>{const Se=Math.max(0,ye-6),st=Z.slice(Se,ye+1),Qe=st.reduce((Pe,Y)=>Pe+Y.weight,0)/st.length;return{...le,trendWeight:Qe}})},[s]);if(!o||o.length<2)return f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 dark:text-slate-500 text-sm select-none",children:[f.jsx(s2,{className:"mb-2 opacity-50",size:24}),f.jsx("div",{children:"Need at least 2 entries to see your trend"})]});const c={top:20,right:20,bottom:40,left:40},u=1e3,m=t,g=u-c.left-c.right,p=m-c.top-c.bottom,y=o.flatMap(Z=>[Z.weight,Z.trendWeight]),b=Math.floor(Math.min(...y)-.5),_=Math.ceil(Math.max(...y)+.5)-b,E=Z=>c.left+Z/(o.length-1)*g,k=Z=>c.top+p-(Z-b)/_*p,T=o.map((Z,se)=>({x:E(se),yRaw:k(Z.weight),yTrend:k(Z.trendWeight),data:Z})),M=T.reduce((Z,se,le)=>le===0?`M ${se.x} ${se.yRaw}`:`${Z} L ${se.x} ${se.yRaw}`,""),V=T.reduce((Z,se,le)=>{if(le===0)return`M ${se.x} ${se.yTrend}`;const ye=T[le-1],Se=ye.x+(se.x-ye.x)/3,st=se.x-(se.x-ye.x)/3;return`${Z} C ${Se} ${ye.yTrend}, ${st} ${se.yTrend}, ${se.x} ${se.yTrend}`},""),O=`${V} L ${T[T.length-1].x} ${c.top+p} L ${c.left} ${c.top+p} Z`,F=Array.from({length:5}).map((Z,se)=>{const le=b+_*se/4;return{y:k(le),value:le.toFixed(1)}}),J=T.filter((Z,se)=>{if(se===0||se===T.length-1)return!0;const le=Math.ceil(T.length/5);return se%le===0}).map(Z=>({x:Z.x,label:new Date(Z.data.date).toLocaleDateString("sv-SE",{day:"numeric",month:T.length>30?"short":"numeric"})})),ee=Z=>{const se=Z.currentTarget.getBoundingClientRect(),ye=(Z.clientX-se.left)/se.width*u;if(ye<c.left||ye>u-c.right)return;let Se=1/0,st=null;T.forEach(Qe=>{const Pe=Math.abs(Qe.x-ye);Pe<Se&&(Se=Pe,st=Qe)}),st&&i(st.data.date?new Date(st.data.date).getTime():null)},G=a?T.find(Z=>new Date(Z.data.date).getTime()===a):null;return f.jsxs("div",{className:"relative w-full h-full select-none font-sans",children:[f.jsxs("svg",{viewBox:`0 0 ${u} ${m}`,className:"w-full h-full overflow-visible touch-none",onMouseMove:ee,onMouseLeave:()=>i(null),children:[f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:"trendGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"#6F00FF",stopOpacity:"0.25"}),f.jsx("stop",{offset:"100%",stopColor:"#6F00FF",stopOpacity:"0"})]}),f.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[f.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),f.jsxs("feMerge",{children:[f.jsx("feMergeNode",{in:"coloredBlur"}),f.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),F.map((Z,se)=>f.jsxs("g",{children:[f.jsx("line",{x1:c.left,y1:Z.y,x2:u-c.right,y2:Z.y,stroke:"currentColor",className:"text-slate-200 dark:text-slate-800",strokeDasharray:"4 4",strokeWidth:"1"}),f.jsx("text",{x:c.left-10,y:Z.y+4,textAnchor:"end",className:"text-[10px] fill-slate-400 font-medium",children:Z.value})]},`yGrid-${se}`)),J.map((Z,se)=>f.jsx("text",{x:Z.x,y:m-10,textAnchor:"middle",className:"text-[10px] fill-slate-400 font-medium",children:Z.label},`xLabel-${se}`)),f.jsx("path",{d:M,fill:"none",stroke:"currentColor",className:"text-slate-300 dark:text-slate-700",strokeWidth:"1.5",strokeDasharray:"4 4",opacity:"0.6"}),T.map((Z,se)=>f.jsx("circle",{cx:Z.x,cy:Z.yRaw,r:"2",className:"fill-slate-300 dark:fill-slate-700"},`rawPoint-${se}`)),f.jsx(qe.path,{d:O,fill:"url(#trendGradient)",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8}}),f.jsx(qe.path,{d:V,fill:"none",stroke:"#6F00FF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,ease:"easeOut"}}),G&&f.jsx(qe.line,{x1:G.x,y1:c.top,x2:G.x,y2:m-c.bottom,stroke:"#6F00FF",strokeWidth:"1",strokeDasharray:"4 4",initial:{opacity:0},animate:{opacity:1}}),G&&f.jsxs(f.Fragment,{children:[f.jsx("circle",{cx:G.x,cy:G.yRaw,r:"4",className:"fill-slate-400 stroke-white dark:stroke-slate-900 border-2"}),f.jsx(qe.circle,{cx:G.x,cy:G.yTrend,r:"6",className:"fill-[#6F00FF] stroke-white dark:stroke-slate-900 stroke-2",transition:{type:"spring"}})]})]}),f.jsx(Il,{children:G&&f.jsx(qe.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},className:"absolute z-50 pointer-events-none",style:{left:`${G.x/u*100}%`,top:0,transform:"translate(-50%, 0)"},children:f.jsxs("div",{className:"mt-2 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm border border-slate-200 dark:border-white/10 shadow-xl rounded-xl p-3 text-xs min-w-[120px]",children:[f.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-200 mb-2 pb-2 border-b border-slate-100 dark:border-white/5 text-center",children:new Date(G.data.date).toLocaleDateString("sv-SE",{weekday:"long",day:"numeric",month:"long"})}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:"flex items-center gap-1.5 text-slate-500",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-[#6F00FF]"})," Trend"]}),f.jsxs("span",{className:"font-bold text-[#6F00FF]",children:[G.data.trendWeight.toFixed(1)," kg"]})]}),f.jsxs("div",{className:"flex justify-between items-center text-slate-400",children:[f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-300"})," Raw"]}),f.jsxs("span",{children:[G.data.weight.toFixed(1)," kg"]})]})]})]})})})]})},et=s=>{const t=s.getFullYear(),a=String(s.getMonth()+1).padStart(2,"0"),i=String(s.getDate()).padStart(2,"0");return`${t}-${a}-${i}`},qw=Qf.createContext({isDark:!1,toggleTheme:()=>{}}),g5=()=>L.useContext(qw),Hc=[{id:"1",name:"Lavender",hex:"#7986cb",tailwind:"bg-[#7986cb] text-white"},{id:"2",name:"Sage",hex:"#33b679",tailwind:"bg-[#33b679] text-white"},{id:"3",name:"Grape",hex:"#8e24aa",tailwind:"bg-[#8e24aa] text-white"},{id:"4",name:"Flamingo",hex:"#e67c73",tailwind:"bg-[#e67c73] text-white"},{id:"5",name:"Banana",hex:"#f6bf26",tailwind:"bg-[#f6bf26] text-slate-800"},{id:"6",name:"Tangerine",hex:"#f4511e",tailwind:"bg-[#f4511e] text-white"},{id:"7",name:"Peacock",hex:"#039be5",tailwind:"bg-[#039be5] text-white"},{id:"8",name:"Graphite",hex:"#616161",tailwind:"bg-[#616161] text-white"},{id:"9",name:"Blueberry",hex:"#3f51b5",tailwind:"bg-[#3f51b5] text-white"},{id:"10",name:"Basil",hex:"#0b8043",tailwind:"bg-[#0b8043] text-white"},{id:"11",name:"Tomato",hex:"#d50000",tailwind:"bg-[#d50000] text-white"}],p5=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],y5=[],Ob=({task:s,listType:t,userTags:a,onDragStart:i,onDelete:o,onToggleComplete:c,onMoveToList:u,onAddTag:m,onRemoveTag:g,onOpenTagModal:p,onEditTag:y})=>{const[b,w]=L.useState(!1),[_,E]=L.useState(!1),k=L.useRef(null);return L.useEffect(()=>{const T=M=>{k.current&&!k.current.contains(M.target)&&(w(!1),E(!1))};return b&&document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[b]),f.jsxs("div",{draggable:"true",onDragStart:T=>i(T,s,t),className:`group flex items-center gap-3 p-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg hover:border-[#6F00FF]/50 cursor-grab active:cursor-grabbing transition-all shadow-sm ${s.completed?"opacity-60":""}`,children:[f.jsx("div",{onClick:()=>c(s.id),className:`w-5 h-5 rounded border flex items-center justify-center cursor-pointer transition-colors ${s.completed?"bg-[#6F00FF] border-[#6F00FF]":"border-slate-300 dark:border-slate-600 hover:border-[#6F00FF]"}`,children:s.completed&&f.jsx(Bn,{size:14,className:"text-white"})}),f.jsx("span",{className:`flex-1 text-sm font-medium ${s.completed?"line-through text-slate-400":"text-slate-700 dark:text-slate-200"}`,children:s.title}),s.tag&&f.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-semibold uppercase tracking-wide text-white",style:{backgroundColor:s.tagColor||"#6F00FF"},children:s.tag}),s.time&&f.jsx("span",{className:"text-[10px] opacity-70 text-slate-600 dark:text-slate-400",children:s.time}),f.jsxs("div",{className:"relative z-40",ref:k,children:[f.jsx("button",{onClick:T=>{T.stopPropagation(),w(!b)},className:"text-slate-300 hover:text-slate-600 dark:text-slate-600 dark:hover:text-slate-300 p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx(Mb,{size:16})}),b&&f.jsxs("div",{className:"absolute right-0 top-8 w-48 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-2xl z-[100] py-1 text-sm",children:[f.jsxs("button",{onClick:()=>{c(s.id),w(!1)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[f.jsx(Bn,{size:14,className:s.completed?"text-emerald-500":""}),s.completed?"Mark as Incomplete":"Mark as Complete"]}),f.jsxs("button",{onClick:()=>{u(s.id,t==="active"?"later":"active"),w(!1)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[f.jsx(x2,{size:14}),t==="active"?"Move to Later":"Move to Active"]}),f.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 my-1"}),f.jsxs("button",{onClick:()=>{p(s.id),w(!1)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[f.jsx(Gl,{size:14})," Create Tag"]}),s.tag&&s.tagColor&&y&&f.jsxs("button",{onClick:()=>{y({name:s.tag,color:s.tagColor}),w(!1)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[f.jsx(cf,{size:14})," Edit Tag"]}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>E(!_),className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200 justify-between",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Vb,{size:14})," Add Tag"]}),_?f.jsx(Wf,{size:14}):f.jsx($l,{size:14})]}),_&&a.length>0&&f.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50",children:a.map((T,M)=>f.jsxs("button",{onClick:()=>{m(s.id,T.name,T.color),w(!1),E(!1)},className:"w-full px-4 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center gap-2",children:[f.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),f.jsx("span",{className:"text-slate-600 dark:text-slate-300 text-sm",children:T.name})]},M))}),_&&a.length===0&&f.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 py-2 px-4 text-xs text-slate-400",children:"No tags yet"})]}),s.tag&&f.jsxs("button",{onClick:()=>{g(s.id),w(!1)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[f.jsx(Fs,{size:14})," Remove Tag"]}),f.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 my-1"}),f.jsxs("button",{onClick:()=>{o(s.id),w(!1)},className:"w-full px-3 py-2 text-left hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 text-red-600 dark:text-red-400",children:[f.jsx(Pb,{size:14})," Delete Task"]})]})]})]})},v5=({isOpen:s,onClose:t,onSave:a,editTag:i,onDelete:o})=>{const[c,u]=L.useState(""),[m,g]=L.useState(Hc[0].hex),p=!!i;L.useEffect(()=>{i?(u(i.name),g(i.color)):(u(""),g(Hc[0].hex))},[i,s]);const y=()=>{c.trim()&&(a(c.trim(),m),u(""),g(Hc[0].hex),t())};return s?f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[f.jsx(Vb,{size:20,className:"text-[#6F00FF]"})," ",p?"Edit Tag":"Create Tag"]}),f.jsx("button",{onClick:t,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",children:f.jsx(Fs,{size:20})})]})}),f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tag Name"}),f.jsx("input",{type:"text",value:c,onChange:b=>u(b.target.value),placeholder:"e.g., Work, Personal",className:"w-full px-3 py-2 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-200 text-sm focus:outline-none focus:ring-2 focus:ring-[#6F00FF]/50",autoFocus:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Color"}),f.jsx("div",{className:"grid grid-cols-6 gap-2",children:Hc.map(b=>f.jsx("button",{onClick:()=>g(b.hex),className:`w-8 h-8 rounded-full transition-all ${m===b.hex?"ring-2 ring-offset-2 ring-[#6F00FF] dark:ring-offset-slate-900 scale-110":"hover:scale-105"}`,style:{backgroundColor:b.hex},title:b.name},b.id))})]}),c&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Preview"}),f.jsx("span",{className:"inline-block text-xs px-2 py-1 rounded font-semibold uppercase tracking-wide text-white",style:{backgroundColor:m},children:c})]})]}),f.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 flex justify-between",children:[p&&o&&f.jsx("button",{onClick:()=>{o(),t()},className:"px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:"Delete Tag"}),f.jsxs("div",{className:`flex gap-2 ${p?"":"ml-auto"}`,children:[f.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Cancel"}),f.jsx("button",{onClick:y,disabled:!c.trim(),className:"px-4 py-2 text-sm font-medium bg-[#6F00FF] text-white rounded-lg hover:bg-[#5800cc] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Save":"Create Tag"})]})]})]})}):null},b5=({initialHabit:s,userTags:t,onSave:a,onCancel:i,onCreateTag:o})=>{const[c,u]=L.useState((s==null?void 0:s.name)||""),[m,g]=L.useState((s==null?void 0:s.tag)||null),[p,y]=L.useState((s==null?void 0:s.tagColor)||null),[b,w]=L.useState((s==null?void 0:s.startDate)||et(new Date)),[_,E]=L.useState(t.length);L.useEffect(()=>{if(t.length>_){const T=t[t.length-1];g(T.name),y(T.color)}E(t.length)},[t,_]);const k=T=>{T.preventDefault(),c.trim()&&a({name:c.trim(),tag:m,tagColor:p,frequency:"daily",scheduledDays:[],scheduledStartTime:null,scheduledEndTime:null,startDate:b})};return f.jsxs("form",{onSubmit:k,className:"space-y-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Habit Name"}),f.jsx("input",{type:"text",value:c,onChange:T=>u(T.target.value),placeholder:"e.g., Morning workout",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-[#6F00FF]",autoFocus:!0})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Tag ",f.jsx("span",{className:"text-slate-400 font-normal",children:"(optional)"})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.map(T=>f.jsx("button",{type:"button",onClick:()=>{g(T.name),y(T.color)},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all text-white ${m===T.name?"ring-2 ring-[#6F00FF] ring-offset-2 dark:ring-offset-slate-900":"hover:opacity-80"}`,style:{backgroundColor:T.color},children:T.name},T.name)),f.jsxs("button",{type:"button",onClick:o,className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700 flex items-center gap-1",children:[f.jsx(Gl,{size:14})," New Tag"]})]}),m&&f.jsx("button",{type:"button",onClick:()=>{g(null),y(null)},className:"mt-2 text-xs text-slate-500 hover:text-slate-700",children:" Remove tag"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Start Date"}),f.jsx("input",{type:"date",value:b,onChange:T=>w(T.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-[#6F00FF]"})]}),f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[f.jsx(Lb,{size:16,className:"text-emerald-500"}),f.jsxs("span",{children:["Habits appear ",f.jsx("strong",{children:"every day"})," in the Habits section"]})]}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Drag habits to the timeline to schedule them for a specific time. Your streak builds as you complete them each day!"})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"button",onClick:i,className:"flex-1 px-4 py-3 rounded-xl text-sm font-medium bg-slate-100 dark:bg-slate-800 text-slate-600 hover:bg-slate-200",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:!c.trim(),className:"flex-1 px-4 py-3 rounded-xl text-sm font-medium bg-[#6F00FF] text-white hover:bg-[#5800cc] disabled:opacity-50",children:s?"Update Habit":"Create Habit"})]})]})},x5=({isOpen:s,onClose:t,settings:a,setSettings:i,googleAccount:o,isGoogleConnecting:c,googleApiReady:u,handleConnectGoogle:m,handleDisconnectGoogle:g,isDark:p,toggleTheme:y,user:b,onLogout:w,initialTab:_="account"})=>{var se;const[E,k]=L.useState(_),[T,M]=L.useState(!1),[V,O]=L.useState(a),F=V.timeFormat!==a.timeFormat||V.timezone!==a.timezone;L.useEffect(()=>{s&&(k(_),O(a))},[s,_,a]);const J=()=>{i(V),t()},ee=()=>{O(a),t()},G=le=>{le.target===le.currentTarget&&ee()};if(!s)return null;const Z=[{id:"account",label:"Account"},{id:"billing",label:"Billing"},{id:"customisations",label:"Customisations"},{id:"integrations",label:"Integrations"}];return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:G,children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-slate-200 dark:border-slate-800",onClick:le=>le.stopPropagation(),children:[f.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Settings"}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-0.5",children:"Manage your account, billing, customisations, and integrations here."})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:y,className:"flex items-center gap-1 p-1 bg-slate-100 dark:bg-slate-800 rounded-full",children:[f.jsx("div",{className:`p-1.5 rounded-full transition-all ${p?"":"bg-white shadow-sm"}`,children:f.jsx(Bb,{size:14,className:`${p?"text-slate-400":"text-amber-500"}`})}),f.jsx("div",{className:`p-1.5 rounded-full transition-all ${p?"bg-slate-700 shadow-sm":""}`,children:f.jsx(zb,{size:14,className:`${p?"text-slate-200":"text-slate-400"}`})})]}),f.jsx("button",{onClick:ee,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg text-slate-500 transition-colors",children:f.jsx(Fs,{size:20})})]})]})}),f.jsxs("div",{className:"flex min-h-[400px]",children:[f.jsx("div",{className:"w-48 border-r border-slate-200 dark:border-slate-800 p-2",children:Z.map(le=>f.jsx("button",{onClick:()=>k(le.id),className:`w-full text-left px-4 py-2.5 rounded-lg text-sm font-medium transition-all ${E===le.id?"bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white border-l-2 border-emerald-500":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:le.label},le.id))}),f.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[E==="account"&&f.jsxs("div",{className:"space-y-6",children:[b&&f.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-semibold text-lg",children:((se=b.email)==null?void 0:se.charAt(0).toUpperCase())||"U"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"Logged in as"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:b.email})]})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1",children:"Sign Out"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"Sign out of your account on all devices."}),f.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[f.jsx(y2,{size:16}),"Sign Out"]})]}),f.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1",children:"Unsubscribe from emails"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"You will not receive any emails from Ascend."}),f.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[f.jsx("button",{onClick:()=>M(!T),className:`relative w-11 h-6 rounded-full transition-colors ${T?"bg-emerald-500":"bg-slate-300 dark:bg-slate-600"}`,children:f.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${T?"left-6":"left-1"}`})}),f.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Unsubscribe from emails: ",T?"Yes":"No"]})]})]}),f.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1",children:"Delete Account"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"Deleting your account will remove all of your data from our servers."}),f.jsx("button",{className:"text-sm text-red-500 hover:text-red-600 font-medium hover:underline",children:"Click here to delete your account"})]})]}),E==="billing"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{className:"px-5 py-2.5 bg-gradient-to-r from-[#6F00FF] to-purple-600 hover:from-[#5800cc] hover:to-purple-700 text-white text-sm font-semibold rounded-lg transition-all shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40",children:"Upgrade to Lifetime"}),f.jsx("button",{className:"px-5 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 text-sm font-medium rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Orders Portal"})]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"You are currently on the Free plan. Upgrade to unlock all features."})]}),E==="customisations"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1",children:"Time Format"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"Choose how times are displayed in your calendar."}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-lg w-fit",children:[f.jsx("button",{onClick:()=>O({...V,timeFormat:"12h"}),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${V.timeFormat==="12h"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"12-hour (9:00 AM)"}),f.jsx("button",{onClick:()=>O({...V,timeFormat:"24h"}),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${V.timeFormat==="24h"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"24-hour (09:00)"})]})]}),f.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1",children:"Timezone"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"Your calendar events will be displayed in this timezone."}),f.jsxs("div",{className:"relative w-full max-w-xs",children:[f.jsxs("select",{value:V.timezone,onChange:le=>O({...V,timezone:le.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm appearance-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none",children:[f.jsx("option",{value:"Local",children:"Local Time"}),f.jsx("option",{value:"UTC",children:"UTC (Coordinated Universal Time)"}),f.jsx("option",{value:"EST",children:"EST (Eastern Standard Time)"}),f.jsx("option",{value:"PST",children:"PST (Pacific Standard Time)"}),f.jsx("option",{value:"CET",children:"CET (Central European Time)"})]}),f.jsx(h2,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),f.jsx(Wf,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]})]}),E==="integrations"&&f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1",children:"Google Calendar"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"Sync your schedule with Google Calendar for two-way sync."}),f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Status:"}),o?f.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-emerald-600 dark:text-emerald-400",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Synced"]}):f.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-500 dark:text-slate-400",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-400"}),"Not Connected"]})]}),o?f.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-xl border border-emerald-200 dark:border-emerald-800",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[o.picture?f.jsx("img",{src:o.picture,alt:o.name||o.email,className:"w-10 h-10 rounded-full",onError:le=>{var ye;le.currentTarget.style.display="none",(ye=le.currentTarget.nextElementSibling)==null||ye.classList.remove("hidden")}}):null,f.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-semibold ${o.picture?"hidden":""}`,children:f.jsx(V2,{size:20})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-emerald-800 dark:text-emerald-200",children:o.name}),f.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:o.email})]})]}),f.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-3 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors text-sm font-medium",children:[f.jsx(L2,{size:16}),"Disconnect"]})]}):f.jsx("button",{onClick:m,disabled:c||!u,className:"flex items-center gap-3 px-4 py-3 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:c?f.jsxs(f.Fragment,{children:[f.jsx(Zl,{size:20,className:"animate-spin text-slate-500"}),f.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Connecting..."})]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),f.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Connect Google Calendar"})]})})]})})]})]}),f.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{children:F&&f.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-400 flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500 animate-pulse"}),"You have unsaved changes"]})}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:ee,className:"px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition-colors",children:"Cancel"}),f.jsx("button",{onClick:J,disabled:!F,className:`px-5 py-2 text-sm font-semibold rounded-lg transition-all ${F?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-sm":"bg-slate-200 dark:bg-slate-700 text-slate-400 dark:text-slate-500 cursor-not-allowed"}`,children:"Save"})]})]})})]})})},w5=({onBack:s,user:t,onLogin:a,onLogout:i})=>{var as;const{isDark:o,toggleTheme:c}=g5(),[u,m]=L.useState("timebox"),[g,p]=L.useState(!0),[y,b]=L.useState(!1),[w,_]=L.useState("account"),[E,k]=L.useState({timeFormat:"24h",timezone:"Local"}),[T,M]=L.useState(()=>{const x=new Date;x.setHours(0,0,0,0);const j=localStorage.getItem("ascend_selected_date");if(j){const C=new Date(j);if(C.setHours(0,0,0,0),C>=x)return C}return x}),[V,O]=L.useState(!1),[F,J]=L.useState(new Date),ee=L.useRef(null),[G,Z]=L.useState(()=>{const x=localStorage.getItem("ascend_user_tags");return x?JSON.parse(x):[]}),[se,le]=L.useState(!1),[ye,Se]=L.useState(null),[st,Qe]=L.useState(null),[Pe,Y]=L.useState(null),[K,ue]=L.useState(""),[Ae,Ce]=L.useState(!1),[D,te]=L.useState(!1),[re,he]=L.useState(()=>localStorage.getItem("ascend_promo_dismissed")!=="true"),[de,ke]=L.useState(()=>{const x=localStorage.getItem("ascend_weight_entries");return x?JSON.parse(x):[]}),[Be,Ot]=L.useState(""),[at,Pn]=L.useState(et(new Date)),[fs,Ks]=L.useState(!1),[Tn,In]=L.useState(new Date),Ra=L.useRef(null),[_t,En]=L.useState(()=>{const x=localStorage.getItem("ascend_habits");return x?JSON.parse(x):[]}),Bi=L.useRef(_t),[Vi,Wn]=L.useState(!1),[ms,Ma]=L.useState(null);L.useEffect(()=>{if(_t.some(j=>!j.startDate)){const j=_t.map(C=>{if(!C.startDate){const N=C.completedDates.length>0?C.completedDates.sort()[0]:et(new Date);return{...C,startDate:N}}return C});En(j)}},[]),L.useEffect(()=>{localStorage.setItem("ascend_habits",JSON.stringify(_t)),Bi.current=_t},[_t]);const Xs=L.useRef(null),[qt,Eu]=L.useState(new Date);L.useEffect(()=>{const x=setInterval(()=>Eu(new Date),6e4);return()=>clearInterval(x)},[]);const Ua=qt.getHours()+qt.getMinutes()/60,[vt,gs]=L.useState(null),[ju,$i]=L.useState(!1),[ku,mo]=L.useState(!1);L.useEffect(()=>{(async()=>{try{await BA();const j=LA();j!=null&&j.connected&&(gs({email:j.email||"",name:"",picture:""}),Df({email:j.email||""}),tt({type:"success",message:"Google Calendar connected!"}),$i(!1)),mo(!0)}catch(j){console.error("Failed to initialize Google APIs:",j),mo(!0)}})()},[]),L.useEffect(()=>{(async()=>{if(!t)return;const{data:{session:j}}=await Me.auth.getSession();if(j!=null&&j.access_token){RA(j.access_token);const C=await MA();if(C.connected){gs({email:C.email||"",name:"",picture:""}),Df({email:C.email||""});const N=await Kc();N&&qv(N)}}})()},[t]);const za=()=>{if(!t){tt({type:"error",message:"Please log in first"});return}$i(!0),UA(t.id)},Qt=async()=>{await zA(),gs(null),Ss(!1),VA(),tt({type:"info",message:"Google Calendar disconnected"})},[bt,Ve]=L.useState([]),[Js,Dt]=L.useState([]),[fn,dt]=L.useState(y5),[ps,La]=L.useState(""),[Wt,Zs]=L.useState(!1),[jn,Au]=L.useState(()=>{const x=localStorage.getItem("ascend_zoom_state");return x?JSON.parse(x):!1}),[Ar,Ba]=L.useState(0),Qs=96,go=40,kn=jn?go:Qs,po=()=>{const x=!jn;Au(x),localStorage.setItem("ascend_zoom_state",JSON.stringify(x)),setTimeout(()=>{if(Xs.current){const C=Ua*(x?go:Qs),N=Xs.current.clientHeight,U=C-N/2;Xs.current.scrollTo({top:Math.max(0,U),behavior:"smooth"})}},50)};L.useEffect(()=>{localStorage.setItem("ascend_selected_date",T.toISOString())},[T]),L.useEffect(()=>{(async()=>{if(!t)return;!Wt&&Zs(!1);try{const C=et(T);await h5(T);const[N,U,B]=await Promise.all([f5(T),kb(T),c5(T)]),{active:I,later:fe}=N;Ve([]),Dt([]),dt([]),Ve(I.map(ne=>({id:ne.id,title:ne.title,tag:ne.tag,tagColor:ne.tagColor,time:ne.time,completed:ne.completed,completedAt:ne.completedAt,assignedDate:ne.assignedDate,isRecurring:ne.isRecurring,recurrencePattern:ne.recurrencePattern,parentTaskId:ne.parentTaskId}))),Dt(fe.map(ne=>({id:ne.id,title:ne.title,tag:ne.tag,tagColor:ne.tagColor,time:ne.time,completed:ne.completed,completedAt:ne.completedAt,assignedDate:ne.assignedDate,isRecurring:ne.isRecurring,recurrencePattern:ne.recurrencePattern,parentTaskId:ne.parentTaskId})));const $e=U.map(ne=>{if(ne.taskId){const ie=String(ne.taskId),ze=I.find(ft=>String(ft.id)===ie)||fe.find(ft=>String(ft.id)===ie);if(ze&&ze.completed!==ne.completed)return console.log(` Syncing block "${ne.title}": ${ne.completed}  ${ze.completed}`),{...ne,completed:ze.completed}}if(ne.habitId){const ie=Bi.current.find(ze=>String(ze.id)===String(ne.habitId));if(ie){const ze=ie.completedDates.includes(C);if(ne.completed&&!ze)En(ft=>ft.map(gn=>String(gn.id)===String(ne.habitId)?{...gn,completedDates:[...gn.completedDates,C]}:gn));else if(!ne.completed&&ze)return{...ne,completed:!0}}}return ne}).filter((ne,ie,ze)=>ie===ze.findIndex(ft=>String(ft.id)===String(ne.id))).filter(ne=>ne.habitId&&!_t.some(ze=>ze.id===ne.habitId)?(of(String(ne.id)).catch(()=>{}),!1):!0);dt($e),ue(B),Zs(!0),vt&&Pi(T).catch(ne=>console.error("Error loading Google Calendar:",ne))}catch(C){console.error("Error loading data:",C),Zs(!0)}})()},[t,T]),L.useEffect(()=>{(async()=>{if(!t)return;const j=await l5();j&&k({timeFormat:j.timeFormat||"24h",timezone:j.timezone||"Local"})})()},[t]);const Pi=async x=>{if(!vt)return;const j=await Kc();if(j){qv(j);try{const C=new Date(x.getFullYear(),x.getMonth(),x.getDate(),0,0,0),N=new Date(x.getFullYear(),x.getMonth(),x.getDate(),23,59,59),B=(await Yv(C,N,!0,!0)).map(I=>({id:I.id,title:I.title,tag:I.calendarName||"google",start:I.start,duration:I.duration,color:I.calendarColor?"":"bg-blue-400/90 dark:bg-blue-600/90 border-blue-500",textColor:"text-white",isGoogle:!0,googleEventId:I.id,completed:!1,calendarColor:I.calendarColor,calendarName:I.calendarName,calendarId:I.calendarId,canEdit:I.canEdit??!1}));dt(I=>{const fe=new Set(B.map(xe=>xe.googleEventId).filter(Boolean)),ae=new Map(I.filter(xe=>xe.googleEventId).map(xe=>[xe.googleEventId,xe])),Te=I.filter(xe=>xe.googleEventId&&fe.has(xe.googleEventId)?(console.log(" Removing old version of:",xe.title,"at",xe.start),!1):!xe.isGoogle||xe.taskId||xe.habitId);I.filter(xe=>xe.isGoogle&&xe.googleEventId&&fe.has(xe.googleEventId)).forEach(xe=>{const mt=B.find(rs=>rs.googleEventId===xe.googleEventId);mt&&xe.start!==mt.start&&console.log(` Moving "${xe.title}" from ${xe.start}:00 to ${mt.start}:00`)});const ne=I.filter(xe=>xe.isGoogle&&xe.googleEventId&&!fe.has(xe.googleEventId)),ie=new Set(Te.map(xe=>`${xe.start}-${xe.title}`)),ft=B.map(xe=>{const mt=ae.get(xe.googleEventId);return mt?(console.log(" Preserving properties for:",xe.title,"- taskId:",mt.taskId,"habitId:",mt.habitId),{...xe,taskId:mt.taskId,habitId:mt.habitId,completed:mt.completed,tag:mt.taskId||mt.habitId?mt.tag:xe.tag}):xe}).filter(xe=>{const mt=`${xe.start}-${xe.title}`;return ie.has(mt)?(console.log(" Skipping Google event (Signature match):",xe.title,"at",xe.start),!1):!0});console.log(" Adding/Updating",ft.length,"Google events"),console.log(" Keeping",Te.length,"local blocks"),console.log(" Keeping",ne.length,"unchanged Google events");const gn=[...Te,...ne,...ft],Ja=gn.filter((xe,mt,rs)=>mt===rs.findIndex(Ji=>String(Ji.id)===String(xe.id)));return Ja.length<gn.length&&console.log(` Removed ${gn.length-Ja.length} duplicate blocks`),Ja})}catch(C){console.error("Failed to load Google Calendar events:",C),(C==null?void 0:C.message)==="SESSION_EXPIRED"&&(gs(null),tt({type:"info",message:"Google Calendar session expired. Please reconnect in Settings."}))}}},[ys,Ws]=L.useState(null),[Cr,Va]=L.useState(null),[Hn,xt]=L.useState(null),[ht,vs]=L.useState(null),[$a,yo]=L.useState(null),[Ii,Hi]=L.useState(null),[nn,Nr]=L.useState(null),[es,bs]=L.useState(null),[xs,ws]=L.useState(null),[Rt,Cu]=L.useState(!1),[Nu,Ss]=L.useState(!1);L.useEffect(()=>{if(!vt||!Wt)return;const x=setInterval(async()=>{await Kc()&&await Pi(T)},1e4);return()=>clearInterval(x)},[vt,Wt,T]);const[Gt,tt]=L.useState(null);L.useEffect(()=>{if(Gt){const x=setTimeout(()=>tt(null),1e3);return()=>clearTimeout(x)}},[Gt]),L.useEffect(()=>{if(!t||!Wt)return;(async()=>{await o5({timeFormat:E.timeFormat,timezone:E.timezone})})()},[E,t,Wt]);const vo=Array.from({length:24},(x,j)=>j);L.useEffect(()=>{if(Xs.current&&Wt){const x=Math.max(0,(Ua-2)*96);Xs.current.scrollTop=x}},[Wt]),L.useEffect(()=>{const x=j=>{ee.current&&!ee.current.contains(j.target)&&O(!1),Ra.current&&!Ra.current.contains(j.target)&&Ks(!1)};return(V||fs)&&document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[V,fs]);const[Pa,ea]=L.useState(null);L.useEffect(()=>{const x=()=>ea(null);return Pa&&document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[Pa]);const Ia=(x,j)=>new Date(x,j+1,0).getDate(),Ha=(x,j)=>new Date(x,j,1).getDay(),An=(x,j)=>x.getFullYear()===j.getFullYear()&&x.getMonth()===j.getMonth()&&x.getDate()===j.getDate(),Yt=x=>An(x,new Date),Or=()=>et(new Date),bo=(x,j)=>{const C=new Date(x.createdAt);C.setHours(0,0,0,0);const N=new Date(j);return N.setHours(0,0,0,0),N>=C},_s=(x,j)=>x.completedDates.includes(j),xo=x=>{let j=0;const C=new Date;C.setHours(0,0,0,0);let N=new Date(C);const U=[...x.completedDates].sort().reverse();if(U.length>0){const ne=new Date(U[0]);ne>N&&(N=ne)}const B=et(C),I=new Date(C);I.setDate(I.getDate()-1);const fe=et(I),ae=x.completedDates.includes(B),Te=x.completedDates.includes(fe);if(!ae&&!Te)return x.completedDates.length>0,0;let $e=new Date(N);for(;;){const ne=et($e);if(x.completedDates.includes(ne))j++,$e.setDate($e.getDate()-1);else break;if(j>1e3)break}return j},ts=(x,j)=>{const N=et(j||T),U=_t.find(ae=>ae.id===x);if(!U)return;const I=!U.completedDates.includes(N);En(ae=>ae.map(Te=>{if(Te.id!==x)return Te;const $e=I?[...Te.completedDates,N]:Te.completedDates.filter(ze=>ze!==N),ne={...Te,completedDates:$e},ie=xo(ne);return{...ne,currentStreak:ie,longestStreak:Math.max(Te.longestStreak,ie)}})),dt(ae=>ae.map(Te=>Te.habitId===x?{...Te,completed:I}:Te));const fe=fn.filter(ae=>ae.habitId===x);for(const ae of fe)Hs(String(ae.id),{completed:I}).catch(Te=>console.error("Failed to sync habit block completion:",Te))},Ou=x=>{const j={...x,id:crypto.randomUUID(),currentStreak:0,longestStreak:0,completedDates:[],createdAt:et(new Date)};En(C=>[...C,j]),Wn(!1)},sn=(x,j)=>{En(C=>C.map(N=>N.id===x?{...N,...j}:N)),Ma(null)},Fi=x=>En(j=>j.filter(C=>C.id!==x)),Ts=()=>_t,ta=()=>_t,na=x=>{const j=new Date(x.getTime());j.setHours(0,0,0,0),j.setDate(j.getDate()+3-(j.getDay()+6)%7);const C=new Date(j.getFullYear(),0,4);return 1+Math.round(((j.getTime()-C.getTime())/864e5-3+(C.getDay()+6)%7)/7)},qi=x=>{const j=[],C=new Date;C.setDate(C.getDate()+Ar*7);const N=C.getDay(),U=C.getDate()-N+(N===0?-6:1),B=new Date(C);B.setDate(U),B.setHours(0,0,0,0);for(let I=0;I<7;I++){const fe=new Date(B);fe.setDate(B.getDate()+I);const ae=et(fe),Te=et(new Date)===ae,$e=ae>=x.startDate;j.push({date:fe,dateString:ae,dayName:p5[fe.getDay()],isScheduled:$e&&bo(x,fe),isCompleted:x.completedDates.includes(ae),isToday:Te})}return j},wo=(x,j)=>{if(Pe){const C=Pe.name,N=G.map(U=>U.name===C?{name:x,color:j}:U);Z(N),localStorage.setItem("ascend_user_tags",JSON.stringify(N)),Ve(U=>U.map(B=>B.tag===C?{...B,tag:x,tagColor:j}:B)),Dt(U=>U.map(B=>B.tag===C?{...B,tag:x,tagColor:j}:B)),En(U=>U.map(B=>B.tag===C?{...B,tag:x,tagColor:j}:B)),Y(null)}else{const C={name:x,color:j},N=[...G,C];Z(N),localStorage.setItem("ascend_user_tags",JSON.stringify(N)),ye&&Dr(ye,x,j),st&&So(st,x,j)}Se(null),Qe(null)},sa=()=>{if(!Pe)return;const x=Pe.name,j=G.filter(C=>C.name!==x);Z(j),localStorage.setItem("ascend_user_tags",JSON.stringify(j)),Ve(C=>C.map(N=>N.tag===x?{...N,tag:null,tagColor:null}:N)),Dt(C=>C.map(N=>N.tag===x?{...N,tag:null,tagColor:null}:N)),En(C=>C.map(N=>N.tag===x?{...N,tag:void 0,tagColor:void 0}:N)),Y(null)},Gi=x=>{Y(x),le(!0)},Dr=async(x,j,C)=>{Ve(N=>N.map(U=>String(U.id)===String(x)?{...U,tag:j,tagColor:C}:U)),Dt(N=>N.map(U=>String(U.id)===String(x)?{...U,tag:j,tagColor:C}:U)),await pr(String(x),{tag:j,tagColor:C})},Yi=async x=>{Ve(j=>j.map(C=>String(C.id)===String(x)?{...C,tag:null,tagColor:null}:C)),Dt(j=>j.map(C=>String(C.id)===String(x)?{...C,tag:null,tagColor:null}:C)),await pr(String(x),{tag:null,tagColor:null})},Rr=x=>{Se(x),le(!0)},So=(x,j,C)=>{En(N=>N.map(U=>U.id===x?{...U,tag:j,tagColor:C}:U))},Du=x=>{En(j=>j.map(C=>C.id===x?{...C,tag:void 0,tagColor:void 0}:C))},Fa=async(x,j)=>{const C=bt.find(B=>String(B.id)===String(x)),N=Js.find(B=>String(B.id)===String(x)),U=C||N;U&&(C&&j==="later"?(Ve(B=>B.filter(I=>String(I.id)!==String(x))),Dt(B=>[...B,{...U,time:null,assignedDate:null}])):N&&j==="active"&&(Dt(B=>B.filter(I=>String(I.id)!==String(x))),Ve(B=>[...B,{...U,assignedDate:et(T)}])),await Nb(String(x),j,T))},mn=async x=>{const j=String(x),C=bt.find(B=>B.id===j)||Js.find(B=>B.id===j);if(!C)return;const N=!C.completed,U=N?et(new Date):null;Ve(B=>B.map(I=>I.id===j?{...I,completed:N,completedAt:U}:I)),Dt(B=>B.map(I=>I.id===j?{...I,completed:N,completedAt:U}:I)),dt(B=>B.map(I=>String(I.taskId)===j?{...I,completed:N}:I));try{await Cb(j,N);const B=fn.filter(I=>String(I.taskId)===j);for(const I of B)await Hs(String(I.id),{completed:N});console.log(` Task ${j} and associated blocks synced to completed: ${N}`)}catch(B){console.error("Failed to sync completion to database:",B)}},Ki=async x=>{const j=fn.find(U=>String(U.id)===String(x));if(!j)return;const C=!j.completed,N=et(new Date);dt(U=>U.map(B=>String(B.id)===String(x)?{...B,completed:C}:B)),j.taskId&&(Ve(B=>B.map(I=>String(I.id)===String(j.taskId)?{...I,completed:C,completedAt:C?N:null}:I)),Dt(B=>B.map(I=>String(I.id)===String(j.taskId)?{...I,completed:C,completedAt:C?N:null}:I)),(bt.find(B=>String(B.id)===String(j.taskId))||Js.find(B=>String(B.id)===String(j.taskId)))&&await Cb(String(j.taskId),C)),j.habitId&&ts(j.habitId,T),await Hs(String(x),{completed:C})},qa=L.useRef(null),Ge=x=>{ue(x),qa.current&&clearTimeout(qa.current),qa.current=setTimeout(async()=>{t&&await u5(T,x)&&(Ce(!0),setTimeout(()=>Ce(!1),2e3))},500)},ns=()=>{const x=parseFloat(Be);if(isNaN(x)||x<=0)return;const j=at,C=de.findIndex(U=>U.date===j);let N=C>=0?de.map((U,B)=>B===C?{date:j,weight:x}:U):[...de,{date:j,weight:x}].sort((U,B)=>U.date.localeCompare(B.date));N.length>90&&(N=N.slice(-90)),ke(N),localStorage.setItem("ascend_weight_entries",JSON.stringify(N)),Ot(""),Pn(et(new Date)),tt({type:"success",message:`Weight logged: ${x} kg`})},_o=async x=>{const j=new Date(F.getFullYear(),F.getMonth(),x);M(j),O(!1),await Mr(j)},Mr=async x=>{try{const j=await kb(x),C=et(x),N=_t.filter(ae=>ae.scheduledStartTime&&bo(ae,x)).map(ae=>{const[Te,$e]=ae.scheduledStartTime.split(":").map(Number),ne=Te+$e/60;let ie=.5;if(ae.scheduledEndTime){const[ze,ft]=ae.scheduledEndTime.split(":").map(Number);ie=Math.max(.25,ze+ft/60-ne)}return{id:`habit-${ae.id}-${C}`,title:ae.name,tag:ae.tag,start:ne,duration:ie,color:ae.tagColor||"#6F00FF",textColor:"text-white",isGoogle:!1,completed:ae.completedDates.includes(C),habitId:ae.id,calendarColor:ae.tagColor}});let U=[];if(vt){const ae=new Date(x.getFullYear(),x.getMonth(),x.getDate(),0,0,0),Te=new Date(x.getFullYear(),x.getMonth(),x.getDate(),23,59,59);try{U=(await Yv(ae,Te,!0,!0)).map(ne=>({id:ne.id,title:ne.title,tag:ne.calendarName||"google",start:ne.start,duration:ne.duration,color:ne.calendarColor?"":"bg-fuchsia-600/90 dark:bg-fuchsia-700/90 border-fuchsia-600",textColor:"text-white",isGoogle:!0,googleEventId:ne.id,completed:!1,calendarColor:ne.calendarColor,calendarName:ne.calendarName}))}catch($e){console.error("Failed to fetch Google Calendar events:",$e)}}const B=new Set(j.map(ae=>ae.googleEventId).filter(Boolean));console.log(" DB Block Google IDs:",Array.from(B));const I=new Set(j.map(ae=>`${ae.start}-${ae.title}`));console.log(" DB Block Signatures:",Array.from(I)),console.log(" Google Blocks to filter:",U.map(ae=>({title:ae.title,start:ae.start,id:ae.googleEventId})));const fe=U.filter(ae=>{if(ae.googleEventId&&B.has(ae.googleEventId))return console.log(" FILTERED (ID match):",ae.title,"Google ID:",ae.googleEventId),!1;const Te=`${ae.start}-${ae.title}`;return I.has(Te)?(console.log(" FILTERED (Signature match):",ae.title,"at",ae.start,"Signature:",Te),!1):(console.log(" KEEPING Google event:",ae.title,"at",ae.start,"Signature:",Te),!0)});console.log(" Final schedule: DB blocks:",j.length,"Unique Google blocks:",fe.length,"Habit blocks:",N.length),dt([...j,...fe,...N])}catch(j){console.error("Failed to load schedule for date:",j),tt({type:"error",message:"Failed to load schedule"})}},To=()=>J(new Date(F.getFullYear(),F.getMonth()-1,1)),Ga=()=>J(new Date(F.getFullYear(),F.getMonth()+1,1)),Mt=(x,j=!1)=>{const C=Math.floor(x),N=Math.round((x-C)*60),U=N.toString().padStart(2,"0");if(E.timeFormat==="24h")return`${C.toString().padStart(2,"0")}:${U}`;const B=C>=12?"PM":"AM",I=C>12?C-12:C===0||C===24?12:C;return j&&N===0?`${I} ${B}`:`${I}:${U} ${B}`},Ya=L.useRef(fn);Ya.current=fn;const aa=L.useRef(kn);aa.current=kn,L.useEffect(()=>{const x=C=>{const N=aa.current;if(ht!==null&&$a!==null&&Ii!==null){const B=(C.clientY-$a)/N;let I=Ii+B;I=Math.round(I*4)/4,I<.25&&(I=.25),dt(fe=>fe.map(ae=>ae.id===ht?{...ae,duration:I}:ae))}if(nn!==null&&es!==null&&xs!==null){const B=(C.clientY-es)/N;let I=xs+B;I=Math.round(I*4)/4;const ae=Ya.current.find(Te=>Te.id===nn);ae&&(I<0&&(I=0),I+ae.duration>24&&(I=24-ae.duration)),dt(Te=>Te.map($e=>$e.id===nn?{...$e,start:I}:$e))}},j=async()=>{const C=Ya.current,N=U=>!U.isGoogle||U.taskId||U.habitId?!0:U.canEdit===!0;if(ht!==null){const U=C.find(B=>B.id===ht);if(U&&(U.isGoogle||await Hs(String(U.id),{duration:U.duration}),U.googleEventId&&vt))if(N(U))try{await Qh(U.googleEventId,U.title,U.start,U.duration,T,U.calendarId,U.color||U.calendarColor||void 0),tt({type:"success",message:"Event updated"})}catch(B){console.error("Failed to update Google Calendar event:",B),tt({type:"error",message:"Failed to update event"})}else tt({type:"info",message:`External calendar events (${U.calendarName}) are read-only`});vs(null),yo(null),Hi(null)}if(nn!==null){const U=C.find(B=>B.id===nn);if(U){if(U.isGoogle||await Hs(String(U.id),{start:U.start}),U.googleEventId&&vt)if(N(U))try{await Qh(U.googleEventId,U.title,U.start,U.duration,T,U.calendarId,U.color||U.calendarColor||void 0),tt({type:"success",message:"Event time updated"})}catch(B){console.error("Failed to update Google Calendar event:",B),tt({type:"error",message:"Failed to update event"})}else tt({type:"info",message:`External calendar events (${U.calendarName}) are read-only`});if(U.taskId){const B=Mt(U.start);Ve(I=>I.map(fe=>String(fe.id)===String(U.taskId)?{...fe,time:B}:fe)),Dt(I=>I.map(fe=>String(fe.id)===String(U.taskId)?{...fe,time:B}:fe)),await pr(String(U.taskId),{time:B})}}Nr(null),bs(null),ws(null)}};return(ht!==null||nn!==null)&&(window.addEventListener("mousemove",x),window.addEventListener("mouseup",j)),()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",j)}},[ht,$a,Ii,nn,es,xs,vt,T]);const ss=async x=>{if(x.key==="Enter"&&ps.trim()){const j=await d5(ps.trim(),T,"active");if(j){const C={id:j.id,title:j.title,tag:j.tag,tagColor:j.tagColor,time:j.time,completed:j.completed,completedAt:j.completedAt,assignedDate:j.assignedDate};Ve([...bt,C])}else{const C={id:Date.now(),title:ps.trim(),tag:null,tagColor:null,time:null,completed:!1};Ve([...bt,C])}La("")}},Ur=async(x,j)=>{const C=fn.find(N=>N.taskId&&String(N.taskId)===String(x));if(C){if(C.googleEventId&&vt)try{await Xv(C.googleEventId)}catch(N){console.error("Failed to delete from Google Calendar:",N)}await of(String(C.id)),dt(N=>N.filter(U=>String(U.id)!==String(C.id)))}await r5(String(x)),j==="active"?Ve(N=>N.filter(U=>String(U.id)!==String(x))):Dt(N=>N.filter(U=>String(U.id)!==String(x)))},zr=async x=>{const j=fn.find(B=>String(B.id)===String(x)),C=(j==null?void 0:j.taskId)||(j==null?void 0:j.habitId);if((j==null?void 0:j.isGoogle)&&(j==null?void 0:j.canEdit)!==!0&&!C){tt({type:"info",message:`Calendar events from "${j==null?void 0:j.calendarName}" can only be hidden (read-only access)`}),dt(B=>B.filter(I=>String(I.id)!==String(x)));return}if((j==null?void 0:j.googleEventId)&&vt&&(!(j!=null&&j.isGoogle)||(j==null?void 0:j.canEdit)||(j==null?void 0:j.taskId)||(j==null?void 0:j.habitId)))try{await Xv(j.googleEventId)}catch(B){console.error(" Failed to delete from Google Calendar:",B),tt({type:"error",message:"Failed to delete from Google Calendar"})}j!=null&&j.taskId&&(Ve(B=>B.map(I=>String(I.id)===String(j.taskId)?{...I,time:null}:I)),Dt(B=>B.map(I=>String(I.id)===String(j.taskId)?{...I,time:null}:I)),await pr(String(j.taskId),{time:null})),await of(String(x)),dt(B=>B.filter(I=>String(I.id)!==String(x)))},Xi=(x,j,C)=>{Ws({task:j,sourceList:C}),x.dataTransfer.setData("application/json",JSON.stringify({task:j,sourceList:C})),x.dataTransfer.effectAllowed="copyMove"},Ka=(x,j)=>{x.preventDefault(),Cr!==j&&Va(j),x.dataTransfer.dropEffect="move"},Xa=async(x,j)=>{if(x.preventDefault(),Va(null),!ys)return;const{task:C,sourceList:N}=ys;if(N===j)return;N==="active"?Ve(B=>B.filter(I=>I.id!==C.id)):Dt(B=>B.filter(I=>I.id!==C.id));const U={...C};j!=="active"&&(U.time=null),j==="active"?Ve(B=>[...B,U]):Dt(B=>[...B,U]),await i5(String(C.id),j),Ws(null)},Eo=x=>{x.preventDefault(),x.dataTransfer.dropEffect="copy"},Kt=async(x,j)=>{x.preventDefault(),xt(null);const C=x.dataTransfer.getData("habitId");if(C){const ne=x.dataTransfer.getData("habitName"),ie=x.dataTransfer.getData("habitTag")||null,ze=x.dataTransfer.getData("habitTagColor")||null;if(fn.find(Es=>Es.habitId===C)){tt({type:"info",message:"This habit is already on the timeline!"});return}const gn=_t.find(Es=>String(Es.id)===String(C)),Ja=et(T),xe=gn?gn.completedDates.includes(Ja):!1,mt={title:ne,tag:ie,start:j,duration:1,color:ze||"#6F00FF",textColor:"text-white",isGoogle:!1,completed:xe,habitId:C},rs=await Ab(mt,T),Ji=rs?{...rs,habitId:C,calendarColor:ze}:{id:Date.now(),...mt,calendarColor:ze};let Za;if(vt)try{Za=await Zh(ne,j,1,T,ie||void 0,ze||void 0),rs&&Za&&await Hs(String(rs.id),{googleEventId:Za})}catch(Es){console.error("Failed to create Google Calendar event for habit:",Es),tt({type:"error",message:`Failed to sync "${ne}" to Google Calendar`})}const Zi={...Ji,googleEventId:Za};dt(Es=>[...Es,Zi]),Za?tt({type:"success",message:`Scheduled "${ne}" and synced to Google Calendar`}):vt||tt({type:"success",message:`Scheduled "${ne}" at ${Mt(j)}`});return}if(!ys)return;const{task:N}=ys,U=fn.find(ne=>ne.taskId===N.id);if(U){const ne=j;if(dt(ie=>ie.map(ze=>ze.id===U.id?{...ze,start:ne}:ze)),U.isGoogle||await Hs(String(U.id),{start:ne}),vt)if(U.googleEventId)try{await Qh(U.googleEventId,U.title,ne,U.duration,T,void 0,U.color||U.calendarColor||void 0),tt({type:"success",message:`Updated "${N.title}" time on Google Calendar`})}catch(ie){console.error("Failed to update Google event on drop:",ie)}else try{const ie=await Zh(U.title,ne,U.duration,T,N.tag||void 0,N.tagColor||void 0);dt(ze=>ze.map(ft=>ft.id===U.id?{...ft,googleEventId:ie,isGoogle:!0}:ft)),await Hs(String(U.id),{googleEventId:ie,isGoogle:!0}),tt({type:"success",message:`Synced "${N.title}" to Google Calendar`})}catch(ie){console.error("Failed to create Google event for existing block:",ie)}else tt({type:"success",message:`Moved "${N.title}" to ${Mt(j)}`});Ws(null);return}const B=et(T);await pr(String(N.id),{assignedDate:B}),Ve(ne=>ne.map(ie=>String(ie.id)===String(N.id)?{...ie,assignedDate:B}:ie)),Dt(ne=>ne.map(ie=>String(ie.id)===String(N.id)?{...ie,assignedDate:B}:ie));const I={title:N.title,tag:N.tag||null,start:j,duration:1,color:N.tagColor||"#8e24aa",textColor:"text-white",isGoogle:!1,completed:N.completed||!1,taskId:String(N.id)},fe=await Ab(I,T);fe||(console.error(" Failed to save block to DB immediately after creation"),tt({type:"error",message:"Failed to save to database! Please try logging out and in again."}));const ae=fe?{...fe,taskId:String(N.id),calendarColor:N.tagColor||void 0,completed:N.completed||!1}:{id:Date.now(),...I,calendarColor:N.tagColor||void 0};if(dt(ne=>[...ne,ae]),vt&&fe)try{const ne=await Zh(N.title,j,1,T,N.tag||void 0,N.tagColor||void 0);if(ne){const ie={...ae,googleEventId:ne,isGoogle:!0};dt(ze=>ze.map(ft=>ft.id===fe.id?ie:ft)),await Hs(String(fe.id),{googleEventId:ne,isGoogle:!0})}}catch(ne){console.error(" Failed to auto-sync to Google:",ne)}const Te=Mt(j),$e=et(T);if(ys.sourceList==="later"){Dt(ie=>ie.filter(ze=>ze.id!==N.id));const ne={...N,time:Te,assignedDate:$e};Ve(ie=>[...ie,ne]),await Nb(String(N.id),"active",T),await pr(String(N.id),{time:Te})}else Ve(ne=>ne.map(ie=>ie.id===N.id?{...ie,time:Te,assignedDate:$e}:ie)),await pr(String(N.id),{time:Te,assignedDate:$e});Ws(null)};return f.jsxs("div",{className:"flex flex-col h-screen bg-slate-50 dark:bg-[#0B1121] text-slate-900 dark:text-slate-100 overflow-hidden",children:[Gt&&f.jsxs("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 animate-in slide-in-from-top-2 duration-300 ${Gt.type==="success"?"bg-emerald-500 text-white":Gt.type==="error"?"bg-red-500 text-white":"bg-blue-500 text-white"}`,children:[Gt.type==="success"&&f.jsx(ky,{size:18}),Gt.type==="error"&&f.jsx(Fs,{size:18}),Gt.type==="info"&&f.jsx(Cc,{size:18}),f.jsx("span",{className:"text-sm font-medium",children:Gt.message}),f.jsx("button",{onClick:()=>tt(null),className:"ml-2 opacity-70 hover:opacity-100 transition-opacity",children:f.jsx(Fs,{size:14})})]}),f.jsxs("header",{className:"relative h-14 bg-white dark:bg-[#0B1121] border-b border-slate-200 dark:border-white/5 flex items-center justify-between px-4 z-20 shrink-0",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("button",{onClick:s,className:"flex items-center gap-2 group cursor-pointer",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden shadow-md shadow-violet-600/20",children:f.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 512 512",fill:"none",children:[f.jsx("rect",{width:"512",height:"512",rx:"100",fill:"#6d3dc1"}),f.jsx("path",{d:"M 65.148438 215.859375 L 81.007812 225.375 L 150.804688 136.546875 L 184.117188 176.992188 L 311.011719 0.136719 L 385.5625 84.199219 L 415.699219 66.785156 L 517.222656 177.023438 L 571.117188 155.582031 L 713.113281 288.820312 L 567.582031 187.308594 L 511.699219 214.703125 C 511.699219 214.703125 510.898438 308.683594 510.898438 312.648438 C 510.898438 316.613281 414.082031 179.410156 414.082031 179.410156 L 414.082031 278.542969 L 315.398438 49.339844 L 124.363281 332.972656 L 166.761719 225.765625 L 133.746094 252.339844 L 146.972656 192.921875 L 85.773438 259.898438 L 64.351562 245.617188 L 0.910156 288.839844 Z",fill:"white",transform:"translate(20, 120) scale(0.65)"})]})}),f.jsxs("span",{className:"font-bold text-lg tracking-tight dark:text-slate-100",children:["Ascend",f.jsx("span",{className:"text-[#6F00FF]",children:"."})]})]})}),f.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 hidden md:flex items-center bg-slate-100 dark:bg-white/5 rounded-full p-1 border border-transparent dark:border-white/5",children:[f.jsxs("button",{onClick:()=>m("dashboard"),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold transition-all ${u==="dashboard"?"bg-white dark:bg-white/10 text-[#6F00FF] dark:text-violet-300 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:[f.jsx(Ub,{size:16})," Dashboard"]}),f.jsxs("button",{onClick:()=>m("timebox"),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold transition-all ${u==="timebox"?"bg-white dark:bg-white/10 text-[#6F00FF] dark:text-violet-300 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:[f.jsx(Uh,{size:16})," Timebox"]}),f.jsxs("button",{onClick:()=>m("habittracker"),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold transition-all ${u==="habittracker"?"bg-white dark:bg-white/10 text-[#6F00FF] dark:text-violet-300 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:[f.jsx(hi,{size:16})," Habits"]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:c,className:"p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:o?f.jsx(Bb,{size:18}):f.jsx(zb,{size:18})}),f.jsx("button",{onClick:()=>{_("account"),b(!0)},className:"p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",title:"Settings",children:f.jsx(C2,{size:18})})]})]}),y&&f.jsx(x5,{isOpen:y,onClose:()=>b(!1),settings:E,setSettings:k,googleAccount:vt,isGoogleConnecting:ju,googleApiReady:ku,handleConnectGoogle:za,handleDisconnectGoogle:Qt,isDark:o,toggleTheme:c,user:t,onLogout:i,initialTab:w}),f.jsx(v5,{isOpen:se,onClose:()=>{le(!1),Se(null),Qe(null),Y(null)},onSave:wo,editTag:Pe,onDelete:sa}),u==="dashboard"&&f.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 dark:bg-[#0B1121] animate-fade-in-up",children:f.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-[#151e32] rounded-3xl p-6 shadow-sm dark:shadow-lg dark:shadow-black/20 border border-slate-200 dark:border-white/5 hover:shadow-md transition-shadow flex flex-col h-full",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-violet-100 dark:bg-violet-500/10 p-2 rounded-xl",children:f.jsx(Ay,{className:"text-[#6F00FF] dark:text-violet-400",size:20})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Tasks"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm hidden sm:block",children:"Focus on today"})]})]}),f.jsxs("span",{className:"bg-slate-100 dark:bg-white/5 text-slate-600 dark:text-slate-300 px-3 py-1 rounded-full text-xs font-bold",children:[bt.filter(x=>x.completed).length,"/",bt.length]})]}),f.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar mb-6 flex-1",children:f.jsx(Il,{mode:"popLayout",children:bt.length===0?f.jsxs(qe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-10",children:[f.jsx("div",{className:"w-12 h-12 bg-slate-50 dark:bg-white/5 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx(Bn,{size:20,className:"text-slate-300 dark:text-slate-600"})}),f.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm",children:"All cleared! Time to relax."})]}):bt.map(x=>f.jsxs(qe.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},whileHover:{scale:1.02,backgroundColor:"rgba(255, 255, 255, 0.03)"},onClick:()=>mn(x.id),className:"flex items-center gap-3 p-3 rounded-xl transition-all cursor-pointer",children:[f.jsx("div",{className:`w-5 h-5 rounded-lg border-2 flex items-center justify-center transition-all duration-300 flex-shrink-0 ${x.completed?"bg-[#6F00FF] border-[#6F00FF] shadow-lg shadow-violet-500/20 scale-110":"border-slate-300 dark:border-slate-600 group-hover:border-[#6F00FF] dark:group-hover:border-violet-400"}`,children:x.completed&&f.jsx(qe.div,{initial:{scale:0},animate:{scale:1},children:f.jsx(Bn,{size:12,className:"text-white",strokeWidth:3})})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:`text-sm font-semibold truncate transition-all ${x.completed?"text-slate-400 dark:text-slate-500 line-through":"text-slate-700 dark:text-slate-200"}`,children:x.title}),(x.tag||x.time)&&f.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[x.time&&f.jsxs("span",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-medium flex items-center gap-1",children:[f.jsx(Uh,{size:10})," ",x.time]}),x.tag&&f.jsx("span",{className:"text-[10px] px-1.5 rounded-full font-bold text-white relative h-4 flex items-center",style:{backgroundColor:x.tagColor||"#6F00FF"},children:x.tag})]})]})]},x.id))})})]}),f.jsx("div",{className:"lg:col-span-2",children:f.jsxs("div",{className:"bg-white dark:bg-[#151e32] rounded-3xl shadow-sm dark:shadow-lg dark:shadow-black/20 border border-slate-200 dark:border-white/5 h-full overflow-hidden hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:"p-6 pb-2",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-fuchsia-100 dark:bg-fuchsia-500/10 p-2 rounded-xl",children:f.jsx(Rh,{className:"text-fuchsia-600 dark:text-fuchsia-400",size:20})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Weight Tracker"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Track your progress"})]})]}),de.length>0&&f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 uppercase font-bold tracking-wider",children:"Current"}),f.jsxs("div",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:[(as=de[de.length-1])==null?void 0:as.weight," ",f.jsx("span",{className:"text-lg text-slate-400 dark:text-slate-500",children:"kg"})]})]}),de.length>1&&f.jsxs("div",{className:`px-3 py-1.5 rounded-lg font-bold text-sm ${de[de.length-1].weight<de[0].weight?"bg-emerald-100 text-emerald-600 dark:bg-emerald-500/10 dark:text-emerald-400":"bg-red-100 text-red-600 dark:bg-red-500/10 dark:text-red-400"}`,children:[de[de.length-1].weight<de[0].weight?"":""," ",Math.abs(de[de.length-1].weight-de[0].weight).toFixed(1)," kg"]})]})]}),f.jsx("div",{className:"h-[220px] relative",children:f.jsx(m5,{entries:de,height:220})})]}),f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-[#0B1121]/50 border-t border-slate-100 dark:border-white/5 flex gap-3",children:[f.jsxs("div",{ref:Ra,className:"relative",children:[f.jsxs("button",{onClick:()=>Ks(!fs),className:"px-4 py-2.5 bg-white dark:bg-[#0B1121] border border-slate-200 dark:border-white/10 rounded-xl text-sm focus:ring-2 focus:ring-fuchsia-500 outline-none w-40 dark:text-slate-200 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-white/5 transition-colors",children:[f.jsx("span",{children:new Date(at).toLocaleDateString("sv-SE",{month:"short",day:"numeric"})}),f.jsx(Cc,{size:16,className:"text-slate-400"})]}),fs&&f.jsxs("div",{className:"absolute bottom-full mb-2 left-0 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl p-4 z-50 min-w-[280px]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("button",{onClick:()=>{const x=new Date(Tn);x.setMonth(x.getMonth()-1),In(x)},className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:f.jsx(Mh,{size:18,className:"text-slate-500"})}),f.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200",children:Tn.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),f.jsx("button",{onClick:()=>{const x=new Date(Tn);x.setMonth(x.getMonth()+1),In(x)},className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:f.jsx($l,{size:18,className:"text-slate-500"})})]}),f.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(x=>f.jsx("div",{className:"text-center text-[10px] font-bold uppercase tracking-wider text-slate-400 py-1",children:x},x))}),f.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:Ha(Tn.getFullYear(),Tn.getMonth())}).map((x,j)=>f.jsx("div",{className:"w-8 h-8"},`empty-${j}`)),Array.from({length:Ia(Tn.getFullYear(),Tn.getMonth())}).map((x,j)=>{const C=j+1,N=new Date(Tn.getFullYear(),Tn.getMonth(),C),U=et(N),B=U===at,I=Yt(N);return f.jsx("button",{onClick:()=>{Pn(U),Ks(!1)},className:`w-8 h-8 rounded-full text-sm font-semibold transition-all flex items-center justify-center ${B?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/30":I?"bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-500/30":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-white/5"}`,children:C},C)})]}),f.jsx("button",{onClick:()=>{const x=et(new Date);Pn(x),In(new Date),Ks(!1)},className:"mt-3 w-full py-2 text-sm font-medium text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg",children:"Today"})]})]}),f.jsxs("div",{className:"flex-1 flex gap-2",children:[f.jsx("input",{type:"number",step:"0.1",value:Be,onChange:x=>Ot(x.target.value),placeholder:"Weight (kg)",className:"flex-1 px-4 py-2.5 bg-white dark:bg-[#0B1121] border border-slate-200 dark:border-white/10 rounded-xl text-sm focus:ring-2 focus:ring-fuchsia-500 outline-none dark:text-slate-200"}),f.jsx(qe.button,{onClick:ns,className:"px-6 py-2.5 bg-gradient-to-r from-[#6F00FF] to-purple-600 text-white font-bold rounded-2xl transition-all shadow-lg shadow-purple-500/20 hover:shadow-xl hover:shadow-purple-500/30",whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},children:"Log"})]})]})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-[#151e32] rounded-3xl p-6 shadow-sm dark:shadow-lg dark:shadow-black/20 border border-slate-200 dark:border-white/5 lg:col-span-2 flex flex-col hover:shadow-md transition-shadow",children:[f.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-purple-500/5 rounded-full blur-3xl group-hover:bg-purple-500/10 transition-colors"}),f.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-500/10 p-2 rounded-xl",children:f.jsx(hi,{className:"text-emerald-600 dark:text-emerald-400",size:20})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Today's Habits"}),f.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:[Ts().filter(x=>_s(x,Or())).length," / ",Ts().length," completed"]})]})]})}),Ts().length>0?f.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",children:f.jsx(Il,{children:Ts().map(x=>{const j=_s(x,Or());return f.jsxs(qe.button,{layout:!0,onClick:()=>ts(x.id),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:`flex-shrink-0 w-32 p-4 rounded-[20px] border transition-all text-left relative overflow-hidden group shadow-sm ${j?"bg-emerald-50/80 dark:bg-emerald-500/10 border-emerald-200 dark:border-emerald-500/30":"bg-white dark:bg-white/5 border-slate-100 dark:border-white/5 hover:border-purple-300 dark:hover:border-purple-500/30 hover:shadow-xl hover:shadow-purple-500/10"}`,children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#6F00FF]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),f.jsxs("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[f.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center transition-all duration-500 ${j?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/40 rotate-0":"bg-slate-100 dark:bg-white/10 text-slate-400 dark:text-slate-500 rotate-[-10deg] group-hover:rotate-0 group-hover:bg-purple-50 dark:group-hover:bg-purple-500/20 group-hover:text-purple-600"}`,children:f.jsx(Bn,{size:16,strokeWidth:3,className:j?"scale-110":"scale-100"})}),f.jsxs("div",{className:"text-[10px] font-bold text-slate-500 dark:text-slate-400 flex items-center gap-1 bg-slate-100/50 dark:bg-black/30 px-1.5 py-0.5 rounded-lg backdrop-blur-sm",children:[f.jsx(hi,{size:11,className:j?"text-orange-500 animate-pulse":"text-slate-400",fill:j?"currentColor":"none"}),x.currentStreak]})]}),f.jsx("h3",{className:`font-bold text-sm leading-tight transition-colors relative z-10 ${j?"text-emerald-800 dark:text-emerald-300":"text-slate-700 dark:text-slate-200 group-hover:text-purple-600"}`,children:x.name}),f.jsx("div",{className:"mt-1 relative z-10 flex items-center gap-1",children:f.jsx("span",{className:`text-[9px] uppercase tracking-wider font-semibold ${j?"text-emerald-600/70 dark:text-emerald-400/70":"text-slate-400 dark:text-slate-500"}`,children:j?"Done":"Pending"})}),j&&f.jsx(qe.div,{initial:{width:0},animate:{width:"100%"},className:"absolute bottom-0 left-0 h-1.5 bg-emerald-500/50"})]},x.id)})})}):f.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400 dark:text-slate-500 text-sm bg-slate-50 dark:bg-white/5 rounded-2xl border border-dashed border-slate-200 dark:border-white/10 py-6",children:"No habits scheduled for today"})]})]}),f.jsxs("div",{className:"bg-white dark:bg-[#151e32] rounded-3xl p-6 shadow-sm dark:shadow-xl dark:shadow-black/20 border border-slate-200 dark:border-white/5 hover:shadow-md transition-all group overflow-hidden relative",children:[f.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-purple-500/5 rounded-full blur-3xl group-hover:bg-purple-500/10 transition-colors"}),f.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"bg-violet-100 dark:bg-violet-500/10 p-2 rounded-xl",children:f.jsx(U2,{className:"text-[#6F00FF] dark:text-violet-400",size:20})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Weekly Progress"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Consistency across habits"})]})]}),(()=>{const x=_t.reduce((C,N)=>{const U=qi(N);return C.scheduled+=U.filter(B=>B.isScheduled).length,C.completed+=U.filter(B=>B.isScheduled&&B.isCompleted).length,C},{scheduled:0,completed:0}),j=x.scheduled>0?x.completed/x.scheduled*100:0;return f.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[f.jsxs("div",{className:"flex-1 space-y-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-end gap-1 mb-1",children:[f.jsxs("span",{className:"text-3xl font-black text-slate-800 dark:text-white leading-none",children:[Math.round(j),"%"]}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider pb-0.5",children:"Goal Reach"})]}),f.jsx("div",{className:"h-1.5 w-full bg-slate-100 dark:bg-white/5 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-[#6F00FF] to-fuchsia-500 rounded-full transition-all duration-1000",style:{width:`${j}%`}})})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"px-2 py-1 bg-emerald-50 dark:bg-emerald-500/10 rounded-lg",children:f.jsxs("span",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-400 uppercase",children:[x.completed,"/",x.scheduled," Done"]})}),f.jsx("span",{className:"text-[10px] font-medium text-slate-400 dark:text-slate-500 italic",children:"this week"})]})]}),f.jsxs("div",{className:"shrink-0 relative",children:[f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-16 bg-orange-500/20 rounded-full blur-xl animate-pulse"}),f.jsx(Jv,{progressPercentage:j,streakCount:0,size:72})]})]})})()]})]})]}),f.jsx("div",{className:"pt-6",children:f.jsx($A,{habits:_t})})]})}),u==="habittracker"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex-1 overflow-hidden bg-gradient-to-br from-slate-50 via-purple-50/20 to-slate-50 dark:from-[#0B1121] dark:via-purple-950/10 dark:to-[#0B1121] animate-fade-in-up",children:f.jsx("div",{className:"h-full overflow-y-auto",children:f.jsxs("div",{className:"max-w-5xl mx-auto p-8 space-y-8",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:"Habit Tracker"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-base",children:"Build consistency, one day at a time"})]}),f.jsxs(qe.button,{onClick:()=>Wn(!0),className:"flex items-center gap-2 px-6 py-3.5 bg-gradient-to-r from-[#6F00FF] to-purple-600 text-white rounded-2xl font-bold hover:shadow-2xl hover:shadow-purple-500/40 transition-all",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[f.jsx(Gl,{size:20,strokeWidth:2.5})," New Habit"]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-5",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center",children:f.jsx(I2,{size:18,className:"text-white"})}),"Habits",f.jsx("span",{className:"text-sm font-normal text-slate-400 ml-2",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>Ba(x=>x-1),className:"p-1.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-400 hover:text-purple-600 transition-colors",children:f.jsx(Mh,{size:18})}),f.jsxs("div",{className:"text-sm px-3 py-1 bg-purple-100 dark:bg-purple-900/40 text-purple-600 dark:text-purple-400 rounded-lg font-bold min-w-[80px] text-center",children:["Week ",(()=>{const x=new Date;return x.setDate(x.getDate()+Ar*7),na(x)})()]}),f.jsx("button",{onClick:()=>Ba(x=>x+1),className:"p-1.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-400 hover:text-purple-600 transition-colors",children:f.jsx($l,{size:18})}),Ar!==0&&f.jsx("button",{onClick:()=>Ba(0),className:"text-[10px] ml-2 font-bold text-purple-500 hover:text-purple-600 uppercase tracking-tighter",children:"Today"})]})]}),Ts().length===0?f.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-slate-50 to-slate-100/50 dark:from-slate-800/50 dark:to-slate-900/30 rounded-2xl p-6 text-center border-2 border-dashed border-slate-300 dark:border-slate-700",children:[f.jsx(Rh,{size:40,className:"mx-auto mb-3 text-slate-300 dark:text-slate-600"}),f.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-base font-medium",children:"No habits scheduled for today"}),f.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Create a new habit to get started!"})]}):f.jsx(Il,{mode:"popLayout",children:f.jsx("div",{className:"space-y-4",children:Ts().map((x,j)=>{const C=_s(x,Or()),N=qi(x);return f.jsx(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20,transition:{duration:.2}},transition:{delay:j*.05},layout:!0,className:`group relative bg-white dark:bg-slate-800/40 backdrop-blur-sm rounded-2xl p-6 border transition-all hover:shadow-xl hover:scale-[1.02] ${C?"border-emerald-300/50 dark:border-emerald-500/30 bg-gradient-to-br from-emerald-50/80 to-white dark:from-emerald-900/20 dark:to-slate-800/40":"border-slate-200 dark:border-slate-700/50 hover:border-purple-300 dark:hover:border-purple-500/30"}`,children:f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx(qe.button,{onClick:()=>ts(x.id),className:`relative w-16 h-16 rounded-2xl flex items-center justify-center transition-all shrink-0 ${C?"bg-gradient-to-br from-emerald-400 to-emerald-600 shadow-lg shadow-emerald-500/40":"bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-600 hover:shadow-lg"}`,style:!C&&x.tagColor?{background:`linear-gradient(135deg, ${x.tagColor}, ${x.tagColor}dd)`}:void 0,whileTap:{scale:.85},whileHover:{scale:1.05},children:f.jsx(qe.div,{initial:!1,animate:{scale:C?1:.8,rotate:C?0:-10},transition:{type:"spring",stiffness:500,damping:15},children:C?f.jsx(Bn,{size:32,strokeWidth:3,className:"text-white"}):f.jsx($b,{size:28,className:"text-white opacity-60"})})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("h3",{className:`text-lg font-bold text-slate-800 dark:text-slate-100 ${C?"line-through opacity-50":""}`,children:x.name}),x.scheduledStartTime&&f.jsxs("span",{className:"text-xs px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 flex items-center gap-1.5 font-medium",children:[f.jsx(Uh,{size:12}),x.scheduledStartTime,x.scheduledEndTime?` - ${x.scheduledEndTime}`:""]}),x.tag&&f.jsx("span",{className:"text-xs px-3 py-1 rounded-full text-white font-semibold shadow-sm",style:{backgroundColor:x.tagColor||"#6F00FF"},children:x.tag})]}),f.jsx("div",{className:"flex items-center gap-2",children:N.map((U,B)=>f.jsx(qe.button,{initial:{scale:0},animate:{scale:1},transition:{delay:j*.05+B*.03},onClick:()=>ts(x.id,U.date),className:`relative w-8 h-8 rounded-xl flex items-center justify-center text-[10px] font-bold transition-all hover:scale-110 active:scale-90 ${U.isToday?"ring-2 ring-purple-500 ring-offset-2 dark:ring-offset-slate-800 shadow-lg":""} ${U.isScheduled?U.isCompleted?"bg-gradient-to-br from-emerald-400 to-emerald-600 text-white shadow-md":"bg-slate-200 dark:bg-slate-600 text-slate-500 dark:text-slate-400 hover:bg-slate-300":"bg-slate-100 dark:bg-slate-700/50 text-slate-300 dark:text-slate-600"}`,children:U.dayName.charAt(0)},B))})]}),f.jsx("div",{className:"hidden lg:flex items-center px-3",children:(()=>{const U=N.filter(fe=>fe.isScheduled).length,B=N.filter(fe=>fe.isScheduled&&fe.isCompleted).length,I=U>0?B/U*100:0;return f.jsx(Jv,{progressPercentage:I,streakCount:x.currentStreak,size:44})})()}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(qe.button,{onClick:()=>Ma(x),className:"p-2.5 text-slate-400 hover:text-purple-600 dark:hover:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-xl transition-all",whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx(cf,{size:18})}),f.jsx(qe.button,{onClick:()=>Fi(x.id),className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx(Pb,{size:18})})]})]})},x.id)})})})]}),_t.length===0&&f.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-slate-50 via-purple-50/30 to-slate-100 dark:from-slate-800/50 dark:via-purple-900/10 dark:to-slate-900/50 rounded-3xl p-16 text-center backdrop-blur-sm border border-slate-200 dark:border-slate-700",children:[f.jsx(qe.div,{className:"w-24 h-24 mx-auto mb-6 rounded-3xl bg-gradient-to-br from-[#6F00FF] to-purple-600 flex items-center justify-center shadow-2xl shadow-purple-500/40",animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:f.jsx(hi,{size:48,className:"text-white"})}),f.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-3",children:"Start Building Better Habits"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-md mx-auto mb-8 text-base",children:"Create your first habit and start tracking your progress. Build consistency and achieve your goals!"}),f.jsxs(qe.button,{onClick:()=>Wn(!0),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-[#6F00FF] to-purple-600 text-white rounded-2xl font-bold shadow-xl shadow-purple-500/30 hover:shadow-2xl hover:shadow-purple-500/40",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[f.jsx(Gl,{size:20,strokeWidth:2.5})," Create First Habit"]})]})]})})}),f.jsx(Il,{children:(Vi||ms)&&f.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4",onClick:()=>{Wn(!1),Ma(null)},children:f.jsx(qe.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white dark:bg-slate-900 rounded-3xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-700",onClick:x=>x.stopPropagation(),children:f.jsxs("div",{className:"p-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:ms?"Edit Habit":"Create New Habit"}),f.jsx(qe.button,{onClick:()=>{Wn(!1),Ma(null)},className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-all",whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:f.jsx(Fs,{size:20})})]}),f.jsx(b5,{initialHabit:ms,userTags:G,onSave:x=>{ms?sn(ms.id,x):Ou(x)},onCancel:()=>{Wn(!1),Ma(null)},onCreateTag:()=>{Se(null),le(!0)}})]})})})})]}),u==="timebox"&&f.jsxs("div",{className:"flex-1 overflow-hidden grid grid-cols-1 md:grid-cols-12 divide-y md:divide-y-0 md:divide-x divide-slate-200 dark:divide-white/5 animate-fade-in-up",children:[f.jsx("div",{className:"md:col-span-3 flex flex-col bg-white dark:bg-[#151e32] overflow-y-auto",children:f.jsxs("div",{className:"p-4 space-y-6",children:[ta().length>0&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3 text-slate-800 dark:text-slate-100",children:[f.jsx(Lb,{size:20,className:"text-emerald-500"}),f.jsx("h2",{className:"font-bold text-lg",children:"Habits"}),f.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[ta().filter(x=>_s(x,et(T))).length,"/",ta().length]})]}),f.jsx("div",{className:"space-y-2",children:ta().map(x=>{const j=et(T),C=_s(x,j);return f.jsxs("div",{className:`relative flex items-center gap-3 p-2.5 bg-white dark:bg-slate-800 rounded-lg border transition-all hover:shadow-sm ${C?"border-emerald-200 dark:border-emerald-800 opacity-60":"border-slate-200 dark:border-slate-700 hover:border-emerald-500/30"}`,children:[f.jsxs("div",{draggable:!0,onDragStart:N=>{N.dataTransfer.setData("habitId",x.id),N.dataTransfer.setData("habitName",x.name),N.dataTransfer.setData("habitTag",x.tag||""),N.dataTransfer.setData("habitTagColor",x.tagColor||"")},className:"flex items-center gap-3 flex-1 cursor-grab active:cursor-grabbing",children:[f.jsx("button",{onClick:N=>{N.stopPropagation(),ts(x.id,T)},className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors shrink-0 ${C?"bg-emerald-500 border-emerald-500":"border-slate-300 dark:border-slate-600 hover:border-emerald-500"}`,children:C&&f.jsx(Bn,{size:12,className:"text-white",strokeWidth:3})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("span",{className:`text-sm font-medium text-slate-700 dark:text-slate-200 ${C?"line-through opacity-60":""}`,children:x.name}),x.tag&&f.jsx("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded text-white font-medium",style:{backgroundColor:x.tagColor||"#6F00FF"},children:x.tag})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[(()=>{const N=fn.find(U=>U.habitId===x.id);return N?f.jsx("span",{className:"text-[10px] opacity-70 text-slate-600 dark:text-slate-400",children:Mt(N.start)}):null})(),x.currentStreak>0&&f.jsxs("div",{className:"flex items-center gap-0.5 text-xs",style:{animation:C?"flameGrow 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)":"none"},children:[f.jsxs("div",{className:"relative",children:[f.jsx(hi,{size:14,className:"text-orange-500 transition-all duration-500",strokeWidth:2,fill:"none"}),f.jsx(hi,{size:14,className:`absolute inset-0 text-orange-500 transition-opacity duration-500 ${C?"opacity-100":"opacity-0"}`,fill:"currentColor",stroke:"none"})]}),f.jsx("span",{className:"font-semibold text-orange-600 dark:text-orange-400 transition-all duration-300",style:{animation:C?"numberPop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)":"none"},children:x.currentStreak})]})]})]}),f.jsx("button",{onClick:()=>ea(Pa===x.id?null:x.id),onMouseDown:N=>N.stopPropagation(),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded transition-colors",children:f.jsx(Mb,{size:16,className:"text-slate-400"})}),Pa===x.id&&f.jsxs("div",{className:"absolute right-0 top-full mt-1 z-50 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg py-1 min-w-[160px]",onMouseDown:N=>N.stopPropagation(),children:[f.jsxs("button",{onClick:()=>{Qe(null),le(!0),ea(null)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[f.jsx(Gl,{size:14})," Create Tag"]}),x.tag&&x.tagColor&&f.jsxs("button",{onClick:()=>{Gi({name:x.tag,color:x.tagColor}),ea(null)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[f.jsx(cf,{size:14})," Edit Tag"]}),f.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 my-1"}),f.jsx("div",{className:"px-3 py-1.5 text-xs font-medium text-slate-500 dark:text-slate-400",children:"Add Tag"}),G.length>0?G.map((N,U)=>f.jsxs("button",{onClick:()=>{So(x.id,N.name,N.color),ea(null)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2",children:[f.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:N.color}}),f.jsx("span",{className:"text-slate-600 dark:text-slate-300 text-sm",children:N.name})]},U)):f.jsx("div",{className:"px-3 py-2 text-sm text-slate-400",children:"No tags yet"}),x.tag&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 my-1"}),f.jsxs("button",{onClick:()=>{Du(x.id),ea(null)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-red-500",children:[f.jsx(Fs,{size:14})," Remove Tag"]})]})]})]},`habit-${x.id}`)})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3 text-slate-800 dark:text-slate-100",children:[f.jsx(Ay,{size:20,className:"text-[#6F00FF]"}),f.jsx("h2",{className:"font-bold text-lg",children:"To-do"})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",value:ps,onChange:x=>La(x.target.value),onKeyDown:ss,placeholder:"Type task & press Enter",className:"w-full pl-4 pr-10 py-2.5 bg-slate-50 dark:bg-[#0B1121] border border-slate-200 dark:border-white/10 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#6F00FF]/20 focus:border-[#6F00FF] transition-all dark:text-slate-100 placeholder:text-slate-400"}),f.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-6 h-6 flex items-center justify-center bg-white dark:bg-white/10 border border-slate-200 dark:border-white/5 rounded text-xs text-slate-400 font-mono shadow-sm",children:""})]})]}),f.jsxs("div",{className:`space-y-2 min-h-[100px] rounded-lg transition-colors ${Cr==="active"?"bg-indigo-50 dark:bg-indigo-900/20 ring-2 ring-indigo-400 ring-inset":""}`,onDragOver:x=>Ka(x,"active"),onDrop:x=>Xa(x,"active"),onDragLeave:()=>Va(null),children:[bt.length===0&&f.jsxs("div",{className:"bg-gradient-to-br from-violet-50/50 to-purple-50/50 dark:from-violet-900/10 dark:to-purple-900/10 border-2 border-dashed border-violet-300 dark:border-violet-700/50 rounded-xl p-6 text-center",children:[f.jsx("div",{className:"inline-block mb-3",children:f.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-violet-500 dark:text-violet-400",children:[f.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M9 12h6M9 16h6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),f.jsx("p",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-1",children:"Type task & press Enter"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Use the input field above to add your first task"})]}),bt.map(x=>f.jsx(Ob,{task:x,listType:"active",userTags:G,onDragStart:Xi,onDelete:j=>Ur(j,"active"),onToggleComplete:mn,onMoveToList:Fa,onAddTag:Dr,onRemoveTag:Yi,onOpenTagModal:Rr,onEditTag:Gi},x.id))]}),f.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-800/50",children:[f.jsxs("button",{onClick:()=>p(!g),className:"flex items-center gap-2 text-slate-600 dark:text-slate-400 font-semibold mb-3 hover:text-[#6F00FF] transition-colors w-full",children:[f.jsx(Cc,{size:18,className:g?"text-[#6F00FF]":""}),"To-do Later",g?f.jsx(Wf,{size:16}):f.jsx($l,{size:16})]}),g&&f.jsxs("div",{className:`space-y-2 pl-2 border-l-2 border-slate-100 dark:border-slate-800 ml-2 min-h-[50px] transition-colors ${Cr==="later"?"bg-indigo-50 dark:bg-indigo-900/20 ring-2 ring-indigo-400 ring-inset rounded-r-lg":""}`,onDragOver:x=>Ka(x,"later"),onDrop:x=>Xa(x,"later"),onDragLeave:()=>Va(null),children:[Js.length===0&&f.jsxs("div",{className:"bg-gradient-to-br from-violet-50/50 to-purple-50/50 dark:from-violet-900/10 dark:to-purple-900/10 border-2 border-dashed border-violet-300 dark:border-violet-700/50 rounded-xl p-6 text-center",children:[f.jsx("div",{className:"inline-block mb-3",children:f.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-violet-500 dark:text-violet-400",children:[f.jsx("path",{d:"M7 10L12 15L17 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 3V14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M3 17V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),f.jsx("p",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-1",children:"Drag tasks here"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Move to-dos that need to be done later"})]}),Js.map(x=>f.jsx("div",{className:"pl-4",children:f.jsx(Ob,{task:x,listType:"later",userTags:G,onDragStart:Xi,onDelete:j=>Ur(j,"later"),onToggleComplete:mn,onMoveToList:Fa,onAddTag:Dr,onRemoveTag:Yi,onOpenTagModal:Rr,onEditTag:Gi})},x.id))]})]})]})}),f.jsxs("div",{className:"md:col-span-6 bg-white dark:bg-[#0B1121] flex flex-col relative overflow-hidden",children:[f.jsx("div",{className:"h-14 border-b border-slate-200 dark:border-white/5 bg-white dark:bg-[#0B1121] flex items-center justify-center shrink-0 relative",children:f.jsxs("div",{ref:ee,className:"relative flex items-center",children:[f.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 bg-slate-100 dark:bg-white/5 rounded-full text-sm font-medium text-slate-700 dark:text-slate-200",children:[f.jsxs("div",{onClick:()=>O(!V),className:"flex items-center gap-2 cursor-pointer hover:text-slate-900 dark:hover:text-white transition-colors",children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${Yt(T)?"bg-emerald-500":"bg-slate-400"}`}),T.toLocaleDateString("sv-SE",{month:"long",day:"numeric"})]}),f.jsx("button",{onClick:()=>{_("integrations"),b(!0)},className:`p-1 rounded-full transition-all ${vt?"text-emerald-500 hover:text-emerald-600":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,title:vt?"Calendar synced":"Connect Google Calendar",children:vt?f.jsx(ky,{size:14}):f.jsx(Cc,{size:14})}),f.jsx("button",{onClick:po,className:`p-1 rounded-full transition-all ${jn?"text-[#6F00FF] hover:text-[#5800cc]":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,title:jn?"Zoom in & center on now":"Zoom out & center on now",children:jn?f.jsx(F2,{size:14}):f.jsx(G2,{size:14})})]}),V&&f.jsxs("div",{className:"absolute top-full mt-2 left-1/2 -translate-x-1/2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl p-4 z-50 min-w-[280px]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("button",{onClick:To,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:f.jsx(Mh,{size:18,className:"text-slate-500"})}),f.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200",children:F.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),f.jsx("button",{onClick:Ga,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:f.jsx($l,{size:18,className:"text-slate-500"})})]}),f.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(x=>f.jsx("div",{className:"text-center text-[10px] font-bold uppercase tracking-wider text-slate-400 py-1",children:x},x))}),f.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:Ha(F.getFullYear(),F.getMonth())}).map((x,j)=>f.jsx("div",{className:"w-8 h-8"},`empty-${j}`)),Array.from({length:Ia(F.getFullYear(),F.getMonth())}).map((x,j)=>{const C=j+1,N=new Date(F.getFullYear(),F.getMonth(),C),U=An(N,T),B=Yt(N);return f.jsx("button",{onClick:()=>_o(C),className:`w-8 h-8 rounded-full text-sm font-semibold transition-all flex items-center justify-center ${U?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/30":B?"bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-500/30":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-white/5"}`,children:C},C)})]}),f.jsx("button",{onClick:async()=>{const x=new Date;M(x),J(x),O(!1),await Mr(x)},className:"mt-3 w-full py-2 text-sm font-medium text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg",children:"Today"})]})]})}),f.jsx("div",{ref:Xs,className:"flex-1 overflow-y-auto relative custom-scrollbar scroll-smooth",children:f.jsxs("div",{className:"relative",style:{minHeight:`${24*kn}px`},children:[f.jsxs("div",{className:"absolute left-0 right-0 z-20 flex items-center pointer-events-none transition-all duration-300",style:{top:`${Ua*kn}px`},children:[f.jsx("div",{className:"w-14 shrink-0 text-right pr-3 text-xs font-medium relative h-0",children:f.jsx("span",{className:"absolute right-3 top-0 -translate-y-2 text-[#6F00FF] dark:text-violet-400 whitespace-nowrap font-bold",style:{textShadow:"0 0 8px rgba(139, 92, 246, 0.3)"},children:Mt(Ua)})}),f.jsxs("div",{className:"flex-1 relative flex items-center h-full",children:[f.jsx("div",{className:"absolute -left-1.5 z-20 w-3 h-3 rounded-full bg-[#6F00FF] shadow-lg shadow-purple-500/40 border-2 border-white dark:border-slate-900"}),f.jsx("div",{className:"h-[3px] bg-gradient-to-r from-[#6F00FF] to-purple-600 flex-1 relative shadow-sm overflow-hidden rounded-full",children:f.jsx(qe.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent w-full",initial:{x:"-100%"},animate:{x:"100%"},transition:{repeat:1/0,duration:4,ease:"linear"}})})]})]}),vo.map(x=>f.jsxs("div",{className:`flex group relative transition-colors ${Hn===x?"bg-indigo-50/50 dark:bg-indigo-900/20":""}`,style:{height:`${kn}px`},onDragEnter:()=>xt(x),onDragOver:Eo,onDrop:j=>Kt(j,x),onDragLeave:()=>xt(null),children:[f.jsx("div",{className:"w-14 shrink-0 text-right pr-3 text-xs text-slate-400 dark:text-slate-500 font-medium relative",children:f.jsx("span",{className:"absolute right-3 -top-2",children:Mt(x,!0)})}),f.jsxs("div",{className:"flex-1 border-t border-slate-200 dark:border-slate-700 relative",children:[f.jsx("div",{className:"absolute left-0 right-0 border-t border-dashed border-slate-100 dark:border-slate-800/50 w-full",style:{top:`${kn/2}px`}}),Hn===x&&f.jsx("div",{className:"absolute top-0 left-2 right-4 border-2 border-dashed border-[#6F00FF] bg-[#6F00FF]/10 rounded-lg z-0 pointer-events-none flex items-center justify-center text-[#6F00FF] font-medium text-sm",style:{height:`${kn-4}px`},children:!jn&&"Drop to schedule"})]})]},x)),fn.map(x=>{const j=x.start*kn,C=x.duration*kn,N=x.start+x.duration,U="#4285f4",B=x.taskId?[...bt,...Js].find(ie=>String(ie.id)===String(x.taskId)):null,I=x.habitId?_t.find(ie=>ie.id===x.habitId):null,fe=(B==null?void 0:B.tagColor)||(I==null?void 0:I.tagColor)||null;let ae=U;if(fe)ae=fe;else if(x.calendarColor)ae=x.calendarColor;else if(x.color)if(x.color.startsWith("#"))ae=x.color;else{const ie=x.color.match(/#[0-9A-Fa-f]{6}/);ie&&(ae=ie[0])}const Te={top:`${j}px`,height:`${C}px`,backgroundColor:x.completed?void 0:ae,borderColor:x.completed?void 0:ae},$e=x.duration<1,ne=x.duration<=.5;return f.jsxs("div",{style:Te,className:`absolute left-16 right-4 rounded-lg border shadow-sm cursor-move hover:brightness-95 transition-all z-10 group text-white overflow-hidden ${ne?"p-1.5 pr-6":$e?"p-2 pr-8":"p-3 pr-10"} ${x.completed?"bg-slate-300/80 dark:bg-slate-700/80 border-slate-400 !text-slate-500":""} ${ht===x.id||nn===x.id?"z-20 ring-2 ring-emerald-400 select-none":""}`,onMouseDown:ie=>{ie.target.closest("button")||ie.target.closest(".cursor-ns-resize")||(ie.preventDefault(),Nr(x.id),bs(ie.clientY),ws(x.start))},children:[f.jsxs("div",{className:`absolute ${ne?"top-1 right-1":$e?"top-1.5 right-1.5":"top-2 right-2"} flex flex-row items-center gap-1.5`,children:[(x.tag||x.calendarName&&x.calendarName!=="Ascend")&&f.jsx("span",{className:`uppercase font-bold bg-black/10 dark:bg-white/15 px-1.5 py-0.5 rounded pointer-events-none ${ne?"text-[8px]":"text-[10px]"}`,children:x.tag||x.calendarName}),f.jsx("button",{onClick:ie=>{ie.stopPropagation(),zr(x.id)},onMouseDown:ie=>ie.stopPropagation(),className:"opacity-0 group-hover:opacity-100 transition-opacity hover:text-red-300 bg-black/20 hover:bg-black/30 rounded p-0.5 pointer-events-auto",children:f.jsx(Fs,{size:ne?10:12})})]}),f.jsxs("div",{className:"flex flex-col min-w-0 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[f.jsx("div",{onClick:ie=>{ie.stopPropagation(),ie.preventDefault(),Ki(x.id)},onMouseDown:ie=>ie.stopPropagation(),className:`shrink-0 rounded border-2 flex items-center justify-center cursor-pointer transition-colors pointer-events-auto ${ne?"w-3.5 h-3.5":$e?"w-4 h-4":"w-5 h-5"} ${x.completed?"bg-emerald-500 border-emerald-500":"border-white/50 hover:border-emerald-400 bg-white/20"}`,children:x.completed&&f.jsx(Bn,{size:ne?8:$e?10:14,className:"text-white",strokeWidth:3})}),f.jsx("h3",{className:`font-bold pointer-events-none truncate ${ne?"text-[11px]":$e?"text-xs":"text-sm"} ${x.completed?"line-through opacity-70":""}`,children:x.title})]}),!ne&&f.jsxs("div",{className:`flex items-center gap-1 ${$e?"mt-0.5":"mt-1"} pointer-events-none`,children:[x.isGoogle&&f.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a5/Google_Calendar_icon_%282020%29.svg",className:"w-3 h-3 opacity-80",alt:"GCal"}),f.jsxs("span",{className:`opacity-70 ${$e?"text-[10px]":"text-xs"}`,children:[Mt(x.start),"  ",Mt(N)]})]})]}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 cursor-ns-resize flex items-end justify-center pb-1 opacity-0 group-hover:opacity-100 hover:opacity-100 transition-opacity z-20",onMouseDown:ie=>{ie.stopPropagation(),ie.preventDefault(),vs(x.id),yo(ie.clientY),Hi(x.duration)},children:f.jsx("div",{className:"w-8 h-1 rounded-full bg-slate-400/50 dark:bg-slate-500/50 backdrop-blur-sm"})})]},x.id)})]})})]}),f.jsx("div",{className:"md:col-span-3 bg-slate-50/50 dark:bg-[#151e32] flex flex-col overflow-y-auto",children:f.jsxs("div",{className:"p-4 space-y-8",children:[(()=>{const x=j=>{const C=[];let N=j,U=0;for(;N.length>0;){const B=N.match(/^\*\*(.+?)\*\*/);if(B){C.push(f.jsx("strong",{className:"font-semibold",children:B[1]},U++)),N=N.substring(B[0].length);continue}const I=N.match(/^\*(.+?)\*/);if(I){C.push(f.jsx("em",{className:"italic",children:I[1]},U++)),N=N.substring(I[0].length);continue}const fe=N.match(/^~~(.+?)~~/);if(fe){C.push(f.jsx("span",{className:"line-through opacity-70",children:fe[1]},U++)),N=N.substring(fe[0].length);continue}C.push(N[0]),N=N.substring(1)}return f.jsx(f.Fragment,{children:C})};return window.renderInlineFormatting=x,null})(),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-slate-800 dark:text-slate-100",children:[f.jsx("div",{className:"text-[#6F00FF]",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z"}),f.jsx("path",{d:"M15 3v6h6"})]})}),f.jsx("h2",{className:"font-bold text-lg",children:"Notes"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[D&&f.jsx(Zl,{size:12,className:"animate-spin text-slate-400"}),Ae&&f.jsxs("span",{className:"text-xs text-emerald-500 flex items-center gap-1",children:[f.jsx(Bn,{size:12})," Saved"]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-white/5 border border-slate-200 dark:border-white/5 rounded-lg shadow-sm overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50",children:[f.jsxs("div",{className:"flex items-center gap-0.5 border-r border-slate-200 dark:border-slate-700 pr-2",children:[f.jsx("button",{onClick:()=>{const x=document.activeElement;if(!x||x.tagName!=="INPUT")return;const j=x.selectionStart||0,C=x.selectionEnd||0,N=x.value;if(j===C){const U=N.substring(0,j)+"**bold**"+N.substring(C),B=K.split(`
`),I=Array.from(document.querySelectorAll('input[type="text"]')).indexOf(x);I>=0&&(B[I]=U,Ge(B.join(`
`)),setTimeout(()=>x.focus(),10))}else{const U=N.substring(j,C),B=N.substring(0,j)+"**"+U+"**"+N.substring(C),I=K.split(`
`),fe=Array.from(document.querySelectorAll('input[type="text"]')).indexOf(x);fe>=0&&(I[fe]=B,Ge(I.join(`
`)),setTimeout(()=>{x.focus(),x.setSelectionRange(j,C+4)},10))}},className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors group",title:"Bold",children:f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-100",children:[f.jsx("path",{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}),f.jsx("path",{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"})]})}),f.jsx("button",{onClick:()=>{const x=document.activeElement;if(!x||x.tagName!=="INPUT")return;const j=x.selectionStart||0,C=x.selectionEnd||0,N=x.value;if(j===C){const U=N.substring(0,j)+"*italic*"+N.substring(C),B=K.split(`
`),I=Array.from(document.querySelectorAll('input[type="text"]')).indexOf(x);I>=0&&(B[I]=U,Ge(B.join(`
`)),setTimeout(()=>x.focus(),10))}else{const U=N.substring(j,C),B=N.substring(0,j)+"*"+U+"*"+N.substring(C),I=K.split(`
`),fe=Array.from(document.querySelectorAll('input[type="text"]')).indexOf(x);fe>=0&&(I[fe]=B,Ge(I.join(`
`)),setTimeout(()=>{x.focus(),x.setSelectionRange(j,C+2)},10))}},className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors group",title:"Italic",children:f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-100",children:[f.jsx("line",{x1:"19",y1:"4",x2:"10",y2:"4"}),f.jsx("line",{x1:"14",y1:"20",x2:"5",y2:"20"}),f.jsx("line",{x1:"15",y1:"4",x2:"9",y2:"20"})]})}),f.jsx("button",{onClick:()=>{const x=document.activeElement;if(!x||x.tagName!=="INPUT")return;const j=x.selectionStart||0,C=x.selectionEnd||0,N=x.value;if(j===C){const U=N.substring(0,j)+"~~strikethrough~~"+N.substring(C),B=K.split(`
`),I=Array.from(document.querySelectorAll('input[type="text"]')).indexOf(x);I>=0&&(B[I]=U,Ge(B.join(`
`)),setTimeout(()=>x.focus(),10))}else{const U=N.substring(j,C),B=N.substring(0,j)+"~~"+U+"~~"+N.substring(C),I=K.split(`
`),fe=Array.from(document.querySelectorAll('input[type="text"]')).indexOf(x);fe>=0&&(I[fe]=B,Ge(I.join(`
`)),setTimeout(()=>{x.focus(),x.setSelectionRange(j,C+4)},10))}},className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors group",title:"Strikethrough",children:f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-100",children:[f.jsx("path",{d:"M17.5 5H9a4 4 0 0 0 0 8h6a4 4 0 0 1 0 8H5"}),f.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"})]})})]}),f.jsxs("div",{className:"flex items-center gap-0.5 border-r border-slate-200 dark:border-slate-700 pr-2",children:[f.jsx("button",{onClick:()=>{const x=K+(K&&!K.endsWith(`
`)?`
`:"")+"# Heading 1";Ge(x)},className:"px-2 py-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors text-xs font-semibold text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100",title:"Heading 1",children:"H1"}),f.jsx("button",{onClick:()=>{const x=K+(K&&!K.endsWith(`
`)?`
`:"")+"## Heading 2";Ge(x)},className:"px-2 py-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors text-xs font-semibold text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100",title:"Heading 2",children:"H2"}),f.jsx("button",{onClick:()=>{const x=K+(K&&!K.endsWith(`
`)?`
`:"")+"### Heading 3";Ge(x)},className:"px-2 py-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors text-xs font-semibold text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100",title:"Heading 3",children:"H3"})]}),f.jsxs("div",{className:"flex items-center gap-0.5",children:[f.jsx("button",{onClick:()=>{const x=K+(K&&!K.endsWith(`
`)?`
`:"")+"1. List item";Ge(x)},className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors group",title:"Numbered List",children:f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-100",children:[f.jsx("line",{x1:"10",y1:"6",x2:"21",y2:"6"}),f.jsx("line",{x1:"10",y1:"12",x2:"21",y2:"12"}),f.jsx("line",{x1:"10",y1:"18",x2:"21",y2:"18"}),f.jsx("path",{d:"M4 6h1v4"}),f.jsx("path",{d:"M4 10h2"}),f.jsx("path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"})]})}),f.jsx("button",{onClick:()=>{const x=K+(K&&!K.endsWith(`
`)?`
`:"")+"- List item";Ge(x)},className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors group",title:"Bullet List",children:f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-100",children:[f.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),f.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),f.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),f.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),f.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),f.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})}),f.jsx("button",{onClick:()=>{const x=K+(K&&!K.endsWith(`
`)?`
`:"")+" ";Ge(x),setTimeout(()=>{const j=document.querySelectorAll(".notes-input"),C=j[j.length-1];C==null||C.focus()},0)},className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors group",title:"Add Checkbox",children:f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-100",children:f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})})})]})]}),f.jsx("div",{className:"p-3 min-h-[120px] max-h-[500px] overflow-y-auto text-sm",tabIndex:0,onKeyDown:x=>{(x.metaKey||x.ctrlKey)&&x.key==="a"&&(x.preventDefault(),document.querySelectorAll('.notes-container input[type="text"]').forEach(C=>{C.select()}),window.notesSelectAll=!0),(x.key==="Backspace"||x.key==="Delete")&&window.notesSelectAll&&(x.preventDefault(),Ge(""),window.notesSelectAll=!1)},children:f.jsx("div",{className:"notes-container",children:K.split(`
`).map((x,j)=>{const C=x.match(/^\[([x ])\]\s*(.*)$/);if(C){const N=C[1]==="x",U=C[2];return f.jsxs("div",{className:"flex items-start gap-2 my-1.5 group",children:[f.jsx("input",{type:"checkbox",checked:N,onChange:B=>{const I=K.split(`
`);I[j]=`[${B.target.checked?"x":" "}] ${U}`,Ge(I.join(`
`))},className:"mt-0.5 w-4 h-4 rounded border-2 border-slate-300 dark:border-slate-600 text-emerald-500 focus:ring-emerald-500 cursor-pointer"}),f.jsx("input",{type:"text",value:U,onChange:B=>{const I=K.split(`
`);I[j]=`[${N?"x":" "}] ${B.target.value}`,Ge(I.join(`
`)),window.notesSelectAll=!1},onKeyDown:B=>{if(B.key==="Enter"){B.preventDefault();const I=K.split(`
`);I.splice(j+1,0,"[ ] "),Ge(I.join(`
`)),setTimeout(()=>{var ae;(ae=document.querySelectorAll('input[type="text"]')[j+1])==null||ae.focus()},10)}else if(B.key==="Backspace"&&U===""){B.preventDefault();const I=K.split(`
`);I.splice(j,1),Ge(I.join(`
`))}},className:`flex-1 bg-transparent border-none outline-none text-slate-700 dark:text-slate-300 ${N?"line-through opacity-60":""}`,placeholder:"Add task...",disabled:D})]},j)}if(x.startsWith("### "))return f.jsx("input",{type:"text",value:x.substring(4),onChange:N=>{const U=K.split(`
`);U[j]=`### ${N.target.value}`,Ge(U.join(`
`)),window.notesSelectAll=!1},className:"w-full text-lg font-semibold text-slate-800 dark:text-slate-100 my-1 bg-transparent border-none outline-none",placeholder:"Heading 3",disabled:D},j);if(x.startsWith("## "))return f.jsx("input",{type:"text",value:x.substring(3),onChange:N=>{const U=K.split(`
`);U[j]=`## ${N.target.value}`,Ge(U.join(`
`)),window.notesSelectAll=!1},className:"w-full text-xl font-bold text-slate-800 dark:text-slate-100 my-1.5 bg-transparent border-none outline-none",placeholder:"Heading 2",disabled:D},j);if(x.startsWith("# "))return f.jsx("input",{type:"text",value:x.substring(2),onChange:N=>{const U=K.split(`
`);U[j]=`# ${N.target.value}`,Ge(U.join(`
`)),window.notesSelectAll=!1},className:"w-full text-2xl font-bold text-slate-900 dark:text-slate-50 my-2 bg-transparent border-none outline-none",placeholder:"Heading 1",disabled:D},j);if(x.match(/^\d+\.\s/)||x.startsWith("- ")){const N=x.match(/^\d+\.\s/),U=N?x.replace(/^\d+\.\s/,""):x.substring(2);return f.jsxs("div",{className:"flex items-start gap-2 my-0.5",children:[f.jsx("span",{className:"text-slate-500 dark:text-slate-400 mt-0.5",children:""}),f.jsx("input",{type:"text",value:U,onChange:B=>{const I=K.split(`
`);I[j]=N?`1. ${B.target.value}`:`- ${B.target.value}`,Ge(I.join(`
`)),window.notesSelectAll=!1},className:"flex-1 bg-transparent border-none outline-none text-slate-700 dark:text-slate-300",placeholder:"List item",disabled:D})]},j)}return f.jsx("input",{type:"text",value:x,onChange:N=>{const U=K.split(`
`);U[j]=N.target.value,Ge(U.join(`
`)),window.notesSelectAll=!1},onKeyDown:N=>{if(N.key==="Enter"){N.preventDefault();const U=K.split(`
`);U.splice(j+1,0,""),Ge(U.join(`
`)),setTimeout(()=>{var I;(I=document.querySelectorAll('input[type="text"]')[j+1])==null||I.focus()},10)}},className:"w-full bg-transparent border-none outline-none text-slate-700 dark:text-slate-300 my-0.5",placeholder:j===0&&!K?`Write your notes for ${T.toLocaleDateString("sv-SE",{month:"long",day:"numeric"})}...`:"",disabled:D},j)})})})]})]}),f.jsx("div",{children:f.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-xl shadow-sm border border-slate-200 dark:border-white/5 p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(Rh,{size:20,className:"text-[#6F00FF]"}),f.jsx("h2",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Weight Tracker"})]}),f.jsx("div",{className:"space-y-2 mb-4",children:(()=>{const x=et(new Date),j=de.find(B=>B.date===x),C=j?de.filter(B=>B.date!==x).slice(-1)[0]:de.slice(-1)[0],N=de.length>0,U=j&&C?j.weight-C.weight:null;return f.jsxs(f.Fragment,{children:[C&&f.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 dark:bg-slate-900/50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Previous weight:"}),f.jsxs("div",{className:"text-xs text-slate-500",children:["(",new Date(C.date).toLocaleDateString("sv-SE"),")"]})]}),f.jsxs("span",{className:"text-lg font-bold text-slate-800 dark:text-white",children:[C.weight," kg"]})]}),j&&f.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[f.jsx("div",{className:"text-sm text-emerald-700 dark:text-emerald-400",children:"Today's weight:"}),f.jsxs("span",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-400",children:[j.weight," kg"]})]}),U!==null&&f.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-violet-50 dark:bg-violet-900/20 rounded-lg border border-violet-200 dark:border-violet-800",children:[f.jsx("div",{className:"text-sm text-[#6F00FF] dark:text-violet-400",children:"Change:"}),f.jsxs("div",{className:"flex items-center gap-1 font-bold text-[#6F00FF] dark:text-violet-400",children:[f.jsx("span",{className:"text-lg",children:U<0?"":""}),f.jsxs("span",{className:"text-lg",children:[Math.abs(U).toFixed(1)," kg"]})]})]}),!N&&f.jsx("div",{className:"text-center py-4 text-slate-400 text-sm",children:"No weight entries yet"})]})})()}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"number",step:"0.1",value:Be,onChange:x=>Ot(x.target.value),placeholder:"Enter weight (kg)",className:"flex-1 px-3 py-2 text-sm border border-slate-200 dark:border-white/10 rounded-lg bg-white dark:bg-[#0B1121] text-slate-700 dark:text-slate-300 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-[#6F00FF]/50",onKeyDown:x=>{x.key==="Enter"&&(Pn(et(new Date)),ns())}}),f.jsx(qe.button,{onClick:()=>{Pn(et(new Date)),ns()},className:"px-6 py-2 bg-gradient-to-r from-[#6F00FF] to-purple-600 text-white text-sm font-bold rounded-xl transition-all shadow-lg shadow-purple-500/20 hover:shadow-xl hover:shadow-purple-500/30",whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},children:"Log"})]})]})})]})})]})]})},S5=({onSuccess:s})=>{const[t,a]=L.useState("signin"),[i,o]=L.useState(""),[c,u]=L.useState(""),[m,g]=L.useState(!1),[p,y]=L.useState(!1),[b,w]=L.useState(null),[_,E]=L.useState(null),k=async V=>{var O,F;V.preventDefault(),g(!0),w(null),E(null);try{t==="signup"?(await WN(i,c),E("Account created! Please check your email to verify."),o(""),u(""),a("signin")):(await e5(i,c),s())}catch(J){(O=J.message)!=null&&O.includes("Email not confirmed")?w("Please verify your email before signing in."):(F=J.message)!=null&&F.includes("Invalid login")?w("Invalid email or password."):w(J.message||"An error occurred. Please try again.")}finally{g(!1)}},T=async()=>{y(!0),w(null);try{await t5()}catch(V){w(V.message||"Google sign in failed. Please try again."),y(!1)}},M=V=>{a(V),w(null),E(null)};return f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-50 via-violet-50/30 to-slate-100 dark:from-slate-950 dark:via-violet-950/20 dark:to-slate-900 text-slate-900 dark:text-slate-100 transition-colors p-4",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-violet-500/10 rounded-full blur-3xl"}),f.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/10 rounded-full blur-3xl"})]}),f.jsxs("div",{className:"relative w-full max-w-md",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-600 to-purple-700 rounded-2xl flex items-center justify-center shadow-2xl shadow-violet-600/30 mx-auto mb-4 overflow-hidden transform hover:scale-105 transition-transform",children:f.jsx("svg",{width:"40",height:"40",viewBox:"0 0 720 340",fill:"white",children:f.jsx("path",{d:"M 65.148438 215.859375 L 81.007812 225.375 L 150.804688 136.546875 L 184.117188 176.992188 L 311.011719 0.136719 L 385.5625 84.199219 L 415.699219 66.785156 L 517.222656 177.023438 L 571.117188 155.582031 L 713.113281 288.820312 L 567.582031 187.308594 L 511.699219 214.703125 C 511.699219 214.703125 510.898438 308.683594 510.898438 312.648438 C 510.898438 316.613281 414.082031 179.410156 414.082031 179.410156 L 414.082031 278.542969 L 315.398438 49.339844 L 124.363281 332.972656 L 166.761719 225.765625 L 133.746094 252.339844 L 146.972656 192.921875 L 85.773438 259.898438 L 64.351562 245.617188 L 0.910156 288.839844 Z"})})}),f.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 dark:from-white dark:to-slate-300 bg-clip-text text-transparent",children:"Welcome to Ascend"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Your personal productivity companion"})]}),f.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-xl border border-slate-200/50 dark:border-slate-700/50 overflow-hidden",children:[f.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700",children:[f.jsxs("button",{onClick:()=>M("signin"),className:`flex-1 py-4 text-sm font-semibold transition-all relative ${t==="signin"?"text-violet-600 dark:text-violet-400":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:["Sign In",t==="signin"&&f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-violet-600 to-purple-600"})]}),f.jsxs("button",{onClick:()=>M("signup"),className:`flex-1 py-4 text-sm font-semibold transition-all relative ${t==="signup"?"text-violet-600 dark:text-violet-400":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:["Sign Up",t==="signup"&&f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-violet-600 to-purple-600"})]})]}),f.jsxs("div",{className:"p-6",children:[_&&f.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg mb-4 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800",children:[f.jsx(Bn,{size:16,className:"text-emerald-600 dark:text-emerald-400 shrink-0"}),f.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300",children:_})]}),b&&f.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg mb-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:[f.jsx(Fs,{size:16,className:"text-red-600 dark:text-red-400 shrink-0"}),f.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:b})]}),f.jsx("button",{onClick:T,disabled:p||m,className:"w-full py-3 bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700/50 font-medium rounded-xl transition-all flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:p?f.jsx(Zl,{size:20,className:"animate-spin text-slate-500"}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),f.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:"Continue with Google"})]})}),f.jsxs("div",{className:"relative my-6",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),f.jsx("div",{className:"relative flex justify-center text-sm",children:f.jsx("span",{className:"px-3 bg-white dark:bg-slate-900 text-slate-400 dark:text-slate-500",children:"or continue with email"})})]}),f.jsxs("form",{onSubmit:k,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Email address"}),f.jsx("input",{type:"email",value:i,onChange:V=>o(V.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none transition-all placeholder:text-slate-400",placeholder:"you@example.com",required:!0,autoComplete:"email"})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),t==="signin"&&f.jsx("button",{type:"button",className:"text-xs text-violet-600 dark:text-violet-400 hover:underline font-medium",children:"Forgot password?"})]}),f.jsx("input",{type:"password",value:c,onChange:V=>u(V.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none transition-all placeholder:text-slate-400",placeholder:"",required:!0,minLength:6,autoComplete:t==="signin"?"current-password":"new-password"}),t==="signup"&&f.jsx("p",{className:"mt-1.5 text-xs text-slate-400",children:"Must be at least 6 characters"})]}),f.jsx("button",{type:"submit",disabled:m||p,className:"w-full py-3 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 text-white font-semibold rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg shadow-violet-500/25 hover:shadow-violet-500/40",children:m?f.jsx(Zl,{size:20,className:"animate-spin"}):f.jsxs(f.Fragment,{children:[t==="signin"?"Sign In":"Create Account",f.jsx(Rb,{size:18})]})})]}),f.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400 mt-6",children:[t==="signin"?"Don't have an account?":"Already have an account?"," ",f.jsx("button",{onClick:()=>M(t==="signin"?"signup":"signin"),className:"text-violet-600 dark:text-violet-400 hover:underline font-semibold",children:t==="signin"?"Sign up":"Sign in"})]})]})]}),f.jsxs("p",{className:"text-center text-xs text-slate-400 dark:text-slate-500 mt-6 px-4",children:["By continuing, you agree to our"," ",f.jsx("a",{href:"#",className:"underline hover:text-slate-600 dark:hover:text-slate-300",children:"Terms of Service"})," ","and"," ",f.jsx("a",{href:"#",className:"underline hover:text-slate-600 dark:hover:text-slate-300",children:"Privacy Policy"})]})]})]})},_5=()=>{const[s,t]=L.useState(!1),[a,i]=L.useState(null),[o,c]=L.useState("landing"),[u,m]=L.useState(!0);L.useEffect(()=>{(async()=>{var w,_,E;try{const k=new Promise((M,V)=>setTimeout(()=>V(new Error("Session check timed out")),5e3)),T=await Promise.race([s5(),k]);T&&(i({id:T.id,name:((w=T.user_metadata)==null?void 0:w.full_name)||((_=T.email)==null?void 0:_.split("@")[0])||"User",avatar:(((E=T.user_metadata)==null?void 0:E.full_name)||T.email||"U").substring(0,2).toUpperCase(),email:T.email||""}),c("app"))}catch(k){console.error("Session check error:",k)}finally{m(!1)}})();const{data:{subscription:b}}=a5((w,_)=>{var E,k,T;w==="SIGNED_IN"&&(_!=null&&_.user)?(i({id:_.user.id,name:((E=_.user.user_metadata)==null?void 0:E.full_name)||((k=_.user.email)==null?void 0:k.split("@")[0])||"User",avatar:(((T=_.user.user_metadata)==null?void 0:T.full_name)||_.user.email||"U").substring(0,2).toUpperCase(),email:_.user.email||""}),c("app")):w==="SIGNED_OUT"&&(i(null),c("landing"))});return()=>b.unsubscribe()},[]),L.useEffect(()=>{s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s]);const g=()=>t(!s),p=async()=>{try{await n5(),i(null),c("landing")}catch(y){console.error("Logout error:",y)}};return u?f.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-50 dark:bg-slate-950",children:f.jsx(Zl,{size:48,className:"animate-spin text-violet-600"})}):f.jsxs(qw.Provider,{value:{isDark:s,toggleTheme:g},children:[o==="landing"&&f.jsx(Y2,{onGetStarted:()=>c("auth")}),o==="auth"&&f.jsx(S5,{onSuccess:()=>{}}),o==="app"&&a&&f.jsx(w5,{user:a,onLogin:()=>c("auth"),onLogout:p,onBack:()=>c("landing")})]})},Gw=document.getElementById("root");if(!Gw)throw new Error("Could not find root element to mount to");const T5=G_.createRoot(Gw);T5.render(f.jsx(Qf.StrictMode,{children:f.jsx(_5,{})}));
