function kp(l,a){for(var i=0;i<a.length;i++){const s=a[i];if(typeof s!="string"&&!Array.isArray(s)){for(const c in s)if(c!=="default"&&!(c in l)){const d=Object.getOwnPropertyDescriptor(s,c);d&&Object.defineProperty(l,c,d.get?d:{enumerable:!0,get:()=>s[c]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function Uc(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Vi(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var a=l.default;if(typeof a=="function"){var i=function s(){return this instanceof s?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};i.prototype=a.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(l).forEach(function(s){var c=Object.getOwnPropertyDescriptor(l,s);Object.defineProperty(i,s,c.get?c:{enumerable:!0,get:function(){return l[s]}})}),i}var tc={exports:{}},ki={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function Np(){if(Kg)return ki;Kg=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(s,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:l,type:s,key:h,ref:c!==void 0?c:null,props:d}}return ki.Fragment=a,ki.jsx=i,ki.jsxs=i,ki}var Ig;function Dp(){return Ig||(Ig=1,tc.exports=Np()),tc.exports}var b=Dp(),nc={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function Up(){if(Qg)return le;Qg=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,U={};function H(x,M,V){this.props=x,this.context=M,this.refs=U,this.updater=V||O}H.prototype.isReactComponent={},H.prototype.setState=function(x,M){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,M,"setState")},H.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Y(){}Y.prototype=H.prototype;function L(x,M,V){this.props=x,this.context=M,this.refs=U,this.updater=V||O}var Z=L.prototype=new Y;Z.constructor=L,N(Z,H.prototype),Z.isPureReactComponent=!0;var he=Array.isArray;function re(){}var X={H:null,A:null,T:null,S:null},ke=Object.prototype.hasOwnProperty;function ze(x,M,V){var I=V.ref;return{$$typeof:l,type:x,key:M,ref:I!==void 0?I:null,props:V}}function Ct(x,M){return ze(x.type,M,x.props)}function it(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function We(x){var M={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(V){return M[V]})}var on=/\/+/g;function $t(x,M){return typeof x=="object"&&x!==null&&x.key!=null?We(""+x.key):M.toString(36)}function _t(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(re,re):(x.status="pending",x.then(function(M){x.status==="pending"&&(x.status="fulfilled",x.value=M)},function(M){x.status==="pending"&&(x.status="rejected",x.reason=M)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function D(x,M,V,I,ie){var ce=typeof x;(ce==="undefined"||ce==="boolean")&&(x=null);var be=!1;if(x===null)be=!0;else switch(ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(x.$$typeof){case l:case a:be=!0;break;case p:return be=x._init,D(be(x._payload),M,V,I,ie)}}if(be)return ie=ie(x),be=I===""?"."+$t(x,0):I,he(ie)?(V="",be!=null&&(V=be.replace(on,"$&/")+"/"),D(ie,M,V,"",function(en){return en})):ie!=null&&(it(ie)&&(ie=Ct(ie,V+(ie.key==null||x&&x.key===ie.key?"":(""+ie.key).replace(on,"$&/")+"/")+be)),M.push(ie)),1;be=0;var et=I===""?".":I+":";if(he(x))for(var qe=0;qe<x.length;qe++)I=x[qe],ce=et+$t(I,qe),be+=D(I,M,V,ce,ie);else if(qe=T(x),typeof qe=="function")for(x=qe.call(x),qe=0;!(I=x.next()).done;)I=I.value,ce=et+$t(I,qe++),be+=D(I,M,V,ce,ie);else if(ce==="object"){if(typeof x.then=="function")return D(_t(x),M,V,I,ie);throw M=String(x),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return be}function $(x,M,V){if(x==null)return x;var I=[],ie=0;return D(x,I,"","",function(ce){return M.call(V,ce,ie++)}),I}function te(x){if(x._status===-1){var M=x._result;M=M(),M.then(function(V){(x._status===0||x._status===-1)&&(x._status=1,x._result=V)},function(V){(x._status===0||x._status===-1)&&(x._status=2,x._result=V)}),x._status===-1&&(x._status=0,x._result=M)}if(x._status===1)return x._result.default;throw x._result}var pe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Te={map:$,forEach:function(x,M,V){$(x,function(){M.apply(this,arguments)},V)},count:function(x){var M=0;return $(x,function(){M++}),M},toArray:function(x){return $(x,function(M){return M})||[]},only:function(x){if(!it(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return le.Activity=_,le.Children=Te,le.Component=H,le.Fragment=i,le.Profiler=c,le.PureComponent=L,le.StrictMode=s,le.Suspense=m,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,le.__COMPILER_RUNTIME={__proto__:null,c:function(x){return X.H.useMemoCache(x)}},le.cache=function(x){return function(){return x.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(x,M,V){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var I=N({},x.props),ie=x.key;if(M!=null)for(ce in M.key!==void 0&&(ie=""+M.key),M)!ke.call(M,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&M.ref===void 0||(I[ce]=M[ce]);var ce=arguments.length-2;if(ce===1)I.children=V;else if(1<ce){for(var be=Array(ce),et=0;et<ce;et++)be[et]=arguments[et+2];I.children=be}return ze(x.type,ie,I)},le.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},le.createElement=function(x,M,V){var I,ie={},ce=null;if(M!=null)for(I in M.key!==void 0&&(ce=""+M.key),M)ke.call(M,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(ie[I]=M[I]);var be=arguments.length-2;if(be===1)ie.children=V;else if(1<be){for(var et=Array(be),qe=0;qe<be;qe++)et[qe]=arguments[qe+2];ie.children=et}if(x&&x.defaultProps)for(I in be=x.defaultProps,be)ie[I]===void 0&&(ie[I]=be[I]);return ze(x,ce,ie)},le.createRef=function(){return{current:null}},le.forwardRef=function(x){return{$$typeof:g,render:x}},le.isValidElement=it,le.lazy=function(x){return{$$typeof:p,_payload:{_status:-1,_result:x},_init:te}},le.memo=function(x,M){return{$$typeof:v,type:x,compare:M===void 0?null:M}},le.startTransition=function(x){var M=X.T,V={};X.T=V;try{var I=x(),ie=X.S;ie!==null&&ie(V,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(re,pe)}catch(ce){pe(ce)}finally{M!==null&&V.types!==null&&(M.types=V.types),X.T=M}},le.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},le.use=function(x){return X.H.use(x)},le.useActionState=function(x,M,V){return X.H.useActionState(x,M,V)},le.useCallback=function(x,M){return X.H.useCallback(x,M)},le.useContext=function(x){return X.H.useContext(x)},le.useDebugValue=function(){},le.useDeferredValue=function(x,M){return X.H.useDeferredValue(x,M)},le.useEffect=function(x,M){return X.H.useEffect(x,M)},le.useEffectEvent=function(x){return X.H.useEffectEvent(x)},le.useId=function(){return X.H.useId()},le.useImperativeHandle=function(x,M,V){return X.H.useImperativeHandle(x,M,V)},le.useInsertionEffect=function(x,M){return X.H.useInsertionEffect(x,M)},le.useLayoutEffect=function(x,M){return X.H.useLayoutEffect(x,M)},le.useMemo=function(x,M){return X.H.useMemo(x,M)},le.useOptimistic=function(x,M){return X.H.useOptimistic(x,M)},le.useReducer=function(x,M,V){return X.H.useReducer(x,M,V)},le.useRef=function(x){return X.H.useRef(x)},le.useState=function(x){return X.H.useState(x)},le.useSyncExternalStore=function(x,M,V){return X.H.useSyncExternalStore(x,M,V)},le.useTransition=function(){return X.H.useTransition()},le.version="19.2.3",le}var Xg;function zc(){return Xg||(Xg=1,nc.exports=Up()),nc.exports}var oe=zc();const $0=Uc(oe);var ac={exports:{}},Ni={},rc={exports:{}},ic={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function zp(){return Jg||(Jg=1,(function(l){function a(D,$){var te=D.length;D.push($);e:for(;0<te;){var pe=te-1>>>1,Te=D[pe];if(0<c(Te,$))D[pe]=$,D[te]=Te,te=pe;else break e}}function i(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var $=D[0],te=D.pop();if(te!==$){D[0]=te;e:for(var pe=0,Te=D.length,x=Te>>>1;pe<x;){var M=2*(pe+1)-1,V=D[M],I=M+1,ie=D[I];if(0>c(V,te))I<Te&&0>c(ie,V)?(D[pe]=ie,D[I]=te,pe=I):(D[pe]=V,D[M]=te,pe=M);else if(I<Te&&0>c(ie,te))D[pe]=ie,D[I]=te,pe=I;else break e}}return $}function c(D,$){var te=D.sortIndex-$.sortIndex;return te!==0?te:D.id-$.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var h=Date,g=h.now();l.unstable_now=function(){return h.now()-g}}var m=[],v=[],p=1,_=null,S=3,T=!1,O=!1,N=!1,U=!1,H=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function Z(D){for(var $=i(v);$!==null;){if($.callback===null)s(v);else if($.startTime<=D)s(v),$.sortIndex=$.expirationTime,a(m,$);else break;$=i(v)}}function he(D){if(N=!1,Z(D),!O)if(i(m)!==null)O=!0,re||(re=!0,We());else{var $=i(v);$!==null&&_t(he,$.startTime-D)}}var re=!1,X=-1,ke=5,ze=-1;function Ct(){return U?!0:!(l.unstable_now()-ze<ke)}function it(){if(U=!1,re){var D=l.unstable_now();ze=D;var $=!0;try{e:{O=!1,N&&(N=!1,Y(X),X=-1),T=!0;var te=S;try{t:{for(Z(D),_=i(m);_!==null&&!(_.expirationTime>D&&Ct());){var pe=_.callback;if(typeof pe=="function"){_.callback=null,S=_.priorityLevel;var Te=pe(_.expirationTime<=D);if(D=l.unstable_now(),typeof Te=="function"){_.callback=Te,Z(D),$=!0;break t}_===i(m)&&s(m),Z(D)}else s(m);_=i(m)}if(_!==null)$=!0;else{var x=i(v);x!==null&&_t(he,x.startTime-D),$=!1}}break e}finally{_=null,S=te,T=!1}$=void 0}}finally{$?We():re=!1}}}var We;if(typeof L=="function")We=function(){L(it)};else if(typeof MessageChannel<"u"){var on=new MessageChannel,$t=on.port2;on.port1.onmessage=it,We=function(){$t.postMessage(null)}}else We=function(){H(it,0)};function _t(D,$){X=H(function(){D(l.unstable_now())},$)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(D){D.callback=null},l.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ke=0<D?Math.floor(1e3/D):5},l.unstable_getCurrentPriorityLevel=function(){return S},l.unstable_next=function(D){switch(S){case 1:case 2:case 3:var $=3;break;default:$=S}var te=S;S=$;try{return D()}finally{S=te}},l.unstable_requestPaint=function(){U=!0},l.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var te=S;S=D;try{return $()}finally{S=te}},l.unstable_scheduleCallback=function(D,$,te){var pe=l.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?pe+te:pe):te=pe,D){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=te+Te,D={id:p++,callback:$,priorityLevel:D,startTime:te,expirationTime:Te,sortIndex:-1},te>pe?(D.sortIndex=te,a(v,D),i(m)===null&&D===i(v)&&(N?(Y(X),X=-1):N=!0,_t(he,te-pe))):(D.sortIndex=Te,a(m,D),O||T||(O=!0,re||(re=!0,We()))),D},l.unstable_shouldYield=Ct,l.unstable_wrapCallback=function(D){var $=S;return function(){var te=S;S=$;try{return D.apply(this,arguments)}finally{S=te}}}})(ic)),ic}var Zg;function Mp(){return Zg||(Zg=1,rc.exports=zp()),rc.exports}var sc={exports:{}},vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function Bp(){if(Fg)return vt;Fg=1;var l=zc();function a(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)v+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(m,v,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:_==null?null:""+_,children:m,containerInfo:v,implementation:p}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,vt.createPortal=function(m,v){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(a(299));return d(m,v,null,p)},vt.flushSync=function(m){var v=h.T,p=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=v,s.p=p,s.d.f()}},vt.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(m,v))},vt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},vt.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var p=v.as,_=g(p,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,T=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;p==="style"?s.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:T}):p==="script"&&s.d.X(m,{crossOrigin:_,integrity:S,fetchPriority:T,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},vt.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var p=g(v.as,v.crossOrigin);s.d.M(m,{crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(m)},vt.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var p=v.as,_=g(p,v.crossOrigin);s.d.L(m,p,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},vt.preloadModule=function(m,v){if(typeof m=="string")if(v){var p=g(v.as,v.crossOrigin);s.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(m)},vt.requestFormReset=function(m){s.d.r(m)},vt.unstable_batchedUpdates=function(m,v){return m(v)},vt.useFormState=function(m,v,p){return h.H.useFormState(m,v,p)},vt.useFormStatus=function(){return h.H.useHostTransitionStatus()},vt.version="19.2.3",vt}var Pg;function qp(){if(Pg)return sc.exports;Pg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),sc.exports=Bp(),sc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function Lp(){if(Wg)return Ni;Wg=1;var l=Mp(),a=zc(),i=qp();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(s(188))}function v(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return m(o),e;if(u===r)return m(o),t;u=u.sibling}throw Error(s(188))}if(n.return!==r.return)n=o,r=u;else{for(var f=!1,y=o.child;y;){if(y===n){f=!0,n=o,r=u;break}if(y===r){f=!0,r=o,n=u;break}y=y.sibling}if(!f){for(y=u.child;y;){if(y===n){f=!0,n=u,r=o;break}if(y===r){f=!0,r=u,n=o;break}y=y.sibling}if(!f)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),L=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),ze=Symbol.for("react.activity"),Ct=Symbol.for("react.memo_cache_sentinel"),it=Symbol.iterator;function We(e){return e===null||typeof e!="object"?null:(e=it&&e[it]||e["@@iterator"],typeof e=="function"?e:null)}var on=Symbol.for("react.client.reference");function $t(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===on?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case H:return"Profiler";case U:return"StrictMode";case he:return"Suspense";case re:return"SuspenseList";case ze:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case L:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:$t(e.type)||"Memo";case ke:t=e._payload,e=e._init;try{return $t(e(t))}catch{}}return null}var _t=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},pe=[],Te=-1;function x(e){return{current:e}}function M(e){0>Te||(e.current=pe[Te],pe[Te]=null,Te--)}function V(e,t){Te++,pe[Te]=e.current,e.current=t}var I=x(null),ie=x(null),ce=x(null),be=x(null);function et(e,t){switch(V(ce,t),V(ie,e),V(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=gg(t),e=mg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(I),V(I,e)}function qe(){M(I),M(ie),M(ce)}function en(e){e.memoizedState!==null&&V(be,e);var t=I.current,n=mg(t,e.type);t!==n&&(V(ie,e),V(I,n))}function qa(e){ie.current===e&&(M(I),M(ie)),be.current===e&&(M(be),Oi._currentValue=te)}var kt,Nt;function gn(e){if(kt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kt=t&&t[1]||"",Nt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kt+e+Nt}var Mn=!1;function qr(e,t){if(!e||Mn)return"";Mn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(k){var C=k}Reflect.construct(e,[],q)}else{try{q.call()}catch(k){C=k}e.call(q.prototype)}}else{try{throw Error()}catch(k){C=k}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(k){if(k&&C&&typeof k.stack=="string")return[k.stack,C.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),f=u[0],y=u[1];if(f&&y){var w=f.split(`
`),R=y.split(`
`);for(o=r=0;r<w.length&&!w[r].includes("DetermineComponentFrameRoot");)r++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(r===w.length||o===R.length)for(r=w.length-1,o=R.length-1;1<=r&&0<=o&&w[r]!==R[o];)o--;for(;1<=r&&0<=o;r--,o--)if(w[r]!==R[o]){if(r!==1||o!==1)do if(r--,o--,0>o||w[r]!==R[o]){var z=`
`+w[r].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=r&&0<=o);break}}}finally{Mn=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?gn(n):""}function Qi(e,t){switch(e.tag){case 26:case 27:case 5:return gn(e.type);case 16:return gn("Lazy");case 13:return e.child!==t&&t!==null?gn("Suspense Fallback"):gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return qr(e.type,!1);case 11:return qr(e.type.render,!1);case 1:return qr(e.type,!0);case 31:return gn("Activity");default:return""}}function Xi(e){try{var t="",n=null;do t+=Qi(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Lr=Object.prototype.hasOwnProperty,La=l.unstable_scheduleCallback,Ha=l.unstable_cancelCallback,Ji=l.unstable_shouldYield,Gl=l.unstable_requestPaint,pt=l.unstable_now,G=l.unstable_getCurrentPriorityLevel,K=l.unstable_ImmediatePriority,F=l.unstable_UserBlockingPriority,Oe=l.unstable_NormalPriority,Se=l.unstable_LowPriority,se=l.unstable_IdlePriority,Le=l.log,mt=l.unstable_setDisableYieldValue,$e=null,st=null;function Vt(e){if(typeof Le=="function"&&mt(e),st&&typeof st.setStrictMode=="function")try{st.setStrictMode($e,e)}catch{}}var Dt=Math.clz32?Math.clz32:yv,mv=Math.log,vv=Math.LN2;function yv(e){return e>>>=0,e===0?32:31-(mv(e)/vv|0)|0}var Zi=256,Fi=262144,Pi=4194304;function ca(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wi(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var y=r&134217727;return y!==0?(r=y&~u,r!==0?o=ca(r):(f&=y,f!==0?o=ca(f):n||(n=y&~e,n!==0&&(o=ca(n))))):(y=r&~u,y!==0?o=ca(y):f!==0?o=ca(f):n||(n=r&~e,n!==0&&(o=ca(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function Hr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function pv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xc(){var e=Pi;return Pi<<=1,(Pi&62914560)===0&&(Pi=4194304),e}function $l(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bv(e,t,n,r,o,u){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var y=e.entanglements,w=e.expirationTimes,R=e.hiddenUpdates;for(n=f&~n;0<n;){var z=31-Dt(n),q=1<<z;y[z]=0,w[z]=-1;var C=R[z];if(C!==null)for(R[z]=null,z=0;z<C.length;z++){var k=C[z];k!==null&&(k.lane&=-536870913)}n&=~q}r!==0&&Jc(e,r,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(f&~t))}function Jc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Dt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function Zc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Fc(e,t){var n=t&-t;return n=(n&42)!==0?1:Vl(n),(n&(e.suspendedLanes|t))!==0?0:n}function Vl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Yl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pc(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:qg(e.type))}function Wc(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}var Bn=Math.random().toString(36).slice(2),lt="__reactFiber$"+Bn,wt="__reactProps$"+Bn,Ga="__reactContainer$"+Bn,Kl="__reactEvents$"+Bn,_v="__reactListeners$"+Bn,wv="__reactHandles$"+Bn,ed="__reactResources$"+Bn,$r="__reactMarker$"+Bn;function Il(e){delete e[lt],delete e[wt],delete e[Kl],delete e[_v],delete e[wv]}function $a(e){var t=e[lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ga]||n[lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sg(e);e!==null;){if(n=e[lt])return n;e=Sg(e)}return t}e=n,n=e.parentNode}return null}function Va(e){if(e=e[lt]||e[Ga]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Vr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Ya(e){var t=e[ed];return t||(t=e[ed]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[$r]=!0}var td=new Set,nd={};function da(e,t){Ka(e,t),Ka(e+"Capture",t)}function Ka(e,t){for(nd[e]=t,e=0;e<t.length;e++)td.add(t[e])}var Sv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ad={},rd={};function Ev(e){return Lr.call(rd,e)?!0:Lr.call(ad,e)?!1:Sv.test(e)?rd[e]=!0:(ad[e]=!0,!1)}function es(e,t,n){if(Ev(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ts(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function mn(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function id(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tv(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){n=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ql(e){if(!e._valueTracker){var t=id(e)?"checked":"value";e._valueTracker=Tv(e,t,""+e[t])}}function sd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=id(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xv=/[\n"\\]/g;function Kt(e){return e.replace(xv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xl(e,t,n,r,o,u,f,y){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Yt(t)):e.value!==""+Yt(t)&&(e.value=""+Yt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Jl(e,f,Yt(t)):n!=null?Jl(e,f,Yt(n)):r!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Yt(y):e.removeAttribute("name")}function ld(e,t,n,r,o,u,f,y){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Ql(e);return}n=n!=null?""+Yt(n):"",t=t!=null?""+Yt(t):n,y||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=y?e.checked:!!r,e.defaultChecked=!!r,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),Ql(e)}function Jl(e,t,n){t==="number"&&ns(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ia(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function od(e,t,n){if(t!=null&&(t=""+Yt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Yt(n):""}function ud(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(s(92));if(_t(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Yt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),Ql(e)}function Qa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Av=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cd(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||Av.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function dd(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&cd(e,o,r)}else for(var u in t)t.hasOwnProperty(u)&&cd(e,u,t[u])}function Zl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ov=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function as(e){return jv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function vn(){}var Fl=null;function Pl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xa=null,Ja=null;function hd(e){var t=Va(e);if(t&&(e=t.stateNode)){var n=e[wt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xl(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Kt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[wt]||null;if(!o)throw Error(s(90));Xl(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&sd(r)}break e;case"textarea":od(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ia(e,!!n.multiple,t,!1)}}}var Wl=!1;function fd(e,t,n){if(Wl)return e(t,n);Wl=!0;try{var r=e(t);return r}finally{if(Wl=!1,(Xa!==null||Ja!==null)&&(Ys(),Xa&&(t=Xa,e=Ja,Ja=Xa=null,hd(t),e)))for(t=0;t<e.length;t++)hd(e[t])}}function Yr(e,t){var n=e.stateNode;if(n===null)return null;var r=n[wt]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eo=!1;if(yn)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){eo=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{eo=!1}var qn=null,to=null,rs=null;function gd(){if(rs)return rs;var e,t=to,n=t.length,r,o="value"in qn?qn.value:qn.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var f=n-e;for(r=1;r<=f&&t[n-r]===o[u-r];r++);return rs=o.slice(e,1<r?1-r:void 0)}function is(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ss(){return!0}function md(){return!1}function St(e){function t(n,r,o,u,f){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(u):u[y]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ss:md,this.isPropagationStopped=md,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=St(ha),Ir=_({},ha,{view:0,detail:0}),Rv=St(Ir),no,ao,Qr,os=_({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qr&&(Qr&&e.type==="mousemove"?(no=e.screenX-Qr.screenX,ao=e.screenY-Qr.screenY):ao=no=0,Qr=e),no)},movementY:function(e){return"movementY"in e?e.movementY:ao}}),vd=St(os),Cv=_({},os,{dataTransfer:0}),kv=St(Cv),Nv=_({},Ir,{relatedTarget:0}),ro=St(Nv),Dv=_({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),Uv=St(Dv),zv=_({},ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mv=St(zv),Bv=_({},ha,{data:0}),yd=St(Bv),qv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hv[e])?!!t[e]:!1}function io(){return Gv}var $v=_({},Ir,{key:function(e){if(e.key){var t=qv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(e){return e.type==="keypress"?is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vv=St($v),Yv=_({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=St(Yv),Kv=_({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),Iv=St(Kv),Qv=_({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xv=St(Qv),Jv=_({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zv=St(Jv),Fv=_({},ha,{newState:0,oldState:0}),Pv=St(Fv),Wv=[9,13,27,32],so=yn&&"CompositionEvent"in window,Xr=null;yn&&"documentMode"in document&&(Xr=document.documentMode);var ey=yn&&"TextEvent"in window&&!Xr,bd=yn&&(!so||Xr&&8<Xr&&11>=Xr),_d=" ",wd=!1;function Sd(e,t){switch(e){case"keyup":return Wv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Za=!1;function ty(e,t){switch(e){case"compositionend":return Ed(t);case"keypress":return t.which!==32?null:(wd=!0,_d);case"textInput":return e=t.data,e===_d&&wd?null:e;default:return null}}function ny(e,t){if(Za)return e==="compositionend"||!so&&Sd(e,t)?(e=gd(),rs=to=qn=null,Za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bd&&t.locale!=="ko"?null:t.data;default:return null}}var ay={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ay[e.type]:t==="textarea"}function xd(e,t,n,r){Xa?Ja?Ja.push(r):Ja=[r]:Xa=r,t=Fs(t,"onChange"),0<t.length&&(n=new ls("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jr=null,Zr=null;function ry(e){og(e,0)}function us(e){var t=Vr(e);if(sd(t))return e}function Ad(e,t){if(e==="change")return t}var Od=!1;if(yn){var lo;if(yn){var oo="oninput"in document;if(!oo){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),oo=typeof jd.oninput=="function"}lo=oo}else lo=!1;Od=lo&&(!document.documentMode||9<document.documentMode)}function Rd(){Jr&&(Jr.detachEvent("onpropertychange",Cd),Zr=Jr=null)}function Cd(e){if(e.propertyName==="value"&&us(Zr)){var t=[];xd(t,Zr,e,Pl(e)),fd(ry,t)}}function iy(e,t,n){e==="focusin"?(Rd(),Jr=t,Zr=n,Jr.attachEvent("onpropertychange",Cd)):e==="focusout"&&Rd()}function sy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return us(Zr)}function ly(e,t){if(e==="click")return us(t)}function oy(e,t){if(e==="input"||e==="change")return us(t)}function uy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:uy;function Fr(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Lr.call(t,o)||!Ut(e[o],t[o]))return!1}return!0}function kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nd(e,t){var n=kd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kd(n)}}function Dd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ud(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ns(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ns(e.document)}return t}function uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var cy=yn&&"documentMode"in document&&11>=document.documentMode,Fa=null,co=null,Pr=null,ho=!1;function zd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ho||Fa==null||Fa!==ns(r)||(r=Fa,"selectionStart"in r&&uo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pr&&Fr(Pr,r)||(Pr=r,r=Fs(co,"onSelect"),0<r.length&&(t=new ls("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fa)))}function fa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pa={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},fo={},Md={};yn&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function ga(e){if(fo[e])return fo[e];if(!Pa[e])return e;var t=Pa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Md)return fo[e]=t[n];return e}var Bd=ga("animationend"),qd=ga("animationiteration"),Ld=ga("animationstart"),dy=ga("transitionrun"),hy=ga("transitionstart"),fy=ga("transitioncancel"),Hd=ga("transitionend"),Gd=new Map,go="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");go.push("scrollEnd");function tn(e,t){Gd.set(e,t),da(t,[e])}var cs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Wa=0,mo=0;function ds(){for(var e=Wa,t=mo=Wa=0;t<e;){var n=It[t];It[t++]=null;var r=It[t];It[t++]=null;var o=It[t];It[t++]=null;var u=It[t];if(It[t++]=null,r!==null&&o!==null){var f=r.pending;f===null?o.next=o:(o.next=f.next,f.next=o),r.pending=o}u!==0&&$d(n,o,u)}}function hs(e,t,n,r){It[Wa++]=e,It[Wa++]=t,It[Wa++]=n,It[Wa++]=r,mo|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function vo(e,t,n,r){return hs(e,t,n,r),fs(e)}function ma(e,t){return hs(e,null,null,t),fs(e)}function $d(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,r=u.alternate,r!==null&&(r.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-Dt(n),e=u.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=n|536870912),u):null}function fs(e){if(50<_i)throw _i=0,xu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var er={};function gy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,r){return new gy(e,t,n,r)}function yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pn(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function gs(e,t,n,r,o,u){var f=0;if(r=e,typeof e=="function")yo(e)&&(f=1);else if(typeof e=="string")f=bp(e,n,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ze:return e=zt(31,n,t,o),e.elementType=ze,e.lanes=u,e;case N:return va(n.children,o,u,t);case U:f=8,o|=24;break;case H:return e=zt(12,n,t,o|2),e.elementType=H,e.lanes=u,e;case he:return e=zt(13,n,t,o),e.elementType=he,e.lanes=u,e;case re:return e=zt(19,n,t,o),e.elementType=re,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:f=10;break e;case Y:f=9;break e;case Z:f=11;break e;case X:f=14;break e;case ke:f=16,r=null;break e}f=29,n=Error(s(130,e===null?"null":typeof e,"")),r=null}return t=zt(f,n,t,o),t.elementType=e,t.type=r,t.lanes=u,t}function va(e,t,n,r){return e=zt(7,e,r,t),e.lanes=n,e}function po(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function Yd(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function bo(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kd=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var n=Kd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Xi(t)},Kd.set(e,t),t)}return{value:e,source:t,stack:Xi(t)}}var tr=[],nr=0,ms=null,Wr=0,Xt=[],Jt=0,Ln=null,un=1,cn="";function bn(e,t){tr[nr++]=Wr,tr[nr++]=ms,ms=e,Wr=t}function Id(e,t,n){Xt[Jt++]=un,Xt[Jt++]=cn,Xt[Jt++]=Ln,Ln=e;var r=un;e=cn;var o=32-Dt(r)-1;r&=~(1<<o),n+=1;var u=32-Dt(t)+o;if(30<u){var f=o-o%5;u=(r&(1<<f)-1).toString(32),r>>=f,o-=f,un=1<<32-Dt(t)+o|n<<o|r,cn=u+e}else un=1<<u|n<<o|r,cn=e}function _o(e){e.return!==null&&(bn(e,1),Id(e,1,0))}function wo(e){for(;e===ms;)ms=tr[--nr],tr[nr]=null,Wr=tr[--nr],tr[nr]=null;for(;e===Ln;)Ln=Xt[--Jt],Xt[Jt]=null,cn=Xt[--Jt],Xt[Jt]=null,un=Xt[--Jt],Xt[Jt]=null}function Qd(e,t){Xt[Jt++]=un,Xt[Jt++]=cn,Xt[Jt++]=Ln,un=t.id,cn=t.overflow,Ln=e}var ot=null,Me=null,ye=!1,Hn=null,Zt=!1,So=Error(s(519));function Gn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ei(Qt(t,e)),So}function Xd(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[lt]=e,t[wt]=r,n){case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":case"embed":ge("load",t);break;case"video":case"audio":for(n=0;n<Si.length;n++)ge(Si[n],t);break;case"source":ge("error",t);break;case"img":case"image":case"link":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"input":ge("invalid",t),ld(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ge("invalid",t);break;case"textarea":ge("invalid",t),ud(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||hg(t.textContent,n)?(r.popover!=null&&(ge("beforetoggle",t),ge("toggle",t)),r.onScroll!=null&&ge("scroll",t),r.onScrollEnd!=null&&ge("scrollend",t),r.onClick!=null&&(t.onclick=vn),t=!0):t=!1,t||Gn(e,!0)}function Jd(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:ot=ot.return}}function ar(e){if(e!==ot)return!1;if(!ye)return Jd(e),ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Hu(e.type,e.memoizedProps)),n=!n),n&&Me&&Gn(e),Jd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Me=wg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Me=wg(e)}else t===27?(t=Me,ta(e.type)?(e=Ku,Ku=null,Me=e):Me=t):Me=ot?Pt(e.stateNode.nextSibling):null;return!0}function ya(){Me=ot=null,ye=!1}function Eo(){var e=Hn;return e!==null&&(At===null?At=e:At.push.apply(At,e),Hn=null),e}function ei(e){Hn===null?Hn=[e]:Hn.push(e)}var To=x(null),pa=null,_n=null;function $n(e,t,n){V(To,t._currentValue),t._currentValue=n}function wn(e){e._currentValue=To.current,M(To)}function xo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t,n,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var f=o.child;u=u.firstContext;e:for(;u!==null;){var y=u;u=o;for(var w=0;w<t.length;w++)if(y.context===t[w]){u.lanes|=n,y=u.alternate,y!==null&&(y.lanes|=n),xo(u.return,n,e),r||(f=null);break e}u=y.next}}else if(o.tag===18){if(f=o.return,f===null)throw Error(s(341));f.lanes|=n,u=f.alternate,u!==null&&(u.lanes|=n),xo(f,n,e),f=null}else f=o.child;if(f!==null)f.return=o;else for(f=o;f!==null;){if(f===e){f=null;break}if(o=f.sibling,o!==null){o.return=f.return,f=o;break}f=f.return}o=f}}function rr(e,t,n,r){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var f=o.alternate;if(f===null)throw Error(s(387));if(f=f.memoizedProps,f!==null){var y=o.type;Ut(o.pendingProps.value,f.value)||(e!==null?e.push(y):e=[y])}}else if(o===be.current){if(f=o.alternate,f===null)throw Error(s(387));f.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Oi):e=[Oi])}o=o.return}e!==null&&Ao(t,e,n,r),t.flags|=262144}function vs(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ba(e){pa=e,_n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return Zd(pa,e)}function ys(e,t){return pa===null&&ba(e),Zd(e,t)}function Zd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},_n===null){if(e===null)throw Error(s(308));_n=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _n=_n.next=t;return n}var my=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},vy=l.unstable_scheduleCallback,yy=l.unstable_NormalPriority,Qe={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oo(){return{controller:new my,data:new Map,refCount:0}}function ti(e){e.refCount--,e.refCount===0&&vy(yy,function(){e.controller.abort()})}var ni=null,jo=0,ir=0,sr=null;function py(e,t){if(ni===null){var n=ni=[];jo=0,ir=ku(),sr={status:"pending",value:void 0,then:function(r){n.push(r)}}}return jo++,t.then(Fd,Fd),t}function Fd(){if(--jo===0&&ni!==null){sr!==null&&(sr.status="fulfilled");var e=ni;ni=null,ir=0,sr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function by(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),r}var Pd=D.S;D.S=function(e,t){Mf=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&py(e,t),Pd!==null&&Pd(e,t)};var _a=x(null);function Ro(){var e=_a.current;return e!==null?e:Ne.pooledCache}function ps(e,t){t===null?V(_a,_a.current):V(_a,t.pool)}function Wd(){var e=Ro();return e===null?null:{parent:Qe._currentValue,pool:e}}var lr=Error(s(460)),Co=Error(s(474)),bs=Error(s(542)),_s={then:function(){}};function eh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function th(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(vn,vn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ah(e),e;default:if(typeof t.status=="string")t.then(vn,vn);else{if(e=Ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ah(e),e}throw Sa=t,lr}}function wa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Sa=n,lr):n}}var Sa=null;function nh(){if(Sa===null)throw Error(s(459));var e=Sa;return Sa=null,e}function ah(e){if(e===lr||e===bs)throw Error(s(483))}var or=null,ai=0;function ws(e){var t=ai;return ai+=1,or===null&&(or=[]),th(or,e,t)}function ri(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ss(e,t){throw t.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function rh(e){function t(A,E){if(e){var j=A.deletions;j===null?(A.deletions=[E],A.flags|=16):j.push(E)}}function n(A,E){if(!e)return null;for(;E!==null;)t(A,E),E=E.sibling;return null}function r(A){for(var E=new Map;A!==null;)A.key!==null?E.set(A.key,A):E.set(A.index,A),A=A.sibling;return E}function o(A,E){return A=pn(A,E),A.index=0,A.sibling=null,A}function u(A,E,j){return A.index=j,e?(j=A.alternate,j!==null?(j=j.index,j<E?(A.flags|=67108866,E):j):(A.flags|=67108866,E)):(A.flags|=1048576,E)}function f(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function y(A,E,j,B){return E===null||E.tag!==6?(E=po(j,A.mode,B),E.return=A,E):(E=o(E,j),E.return=A,E)}function w(A,E,j,B){var ee=j.type;return ee===N?z(A,E,j.props.children,B,j.key):E!==null&&(E.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ke&&wa(ee)===E.type)?(E=o(E,j.props),ri(E,j),E.return=A,E):(E=gs(j.type,j.key,j.props,null,A.mode,B),ri(E,j),E.return=A,E)}function R(A,E,j,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==j.containerInfo||E.stateNode.implementation!==j.implementation?(E=bo(j,A.mode,B),E.return=A,E):(E=o(E,j.children||[]),E.return=A,E)}function z(A,E,j,B,ee){return E===null||E.tag!==7?(E=va(j,A.mode,B,ee),E.return=A,E):(E=o(E,j),E.return=A,E)}function q(A,E,j){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=po(""+E,A.mode,j),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case T:return j=gs(E.type,E.key,E.props,null,A.mode,j),ri(j,E),j.return=A,j;case O:return E=bo(E,A.mode,j),E.return=A,E;case ke:return E=wa(E),q(A,E,j)}if(_t(E)||We(E))return E=va(E,A.mode,j,null),E.return=A,E;if(typeof E.then=="function")return q(A,ws(E),j);if(E.$$typeof===L)return q(A,ys(A,E),j);Ss(A,E)}return null}function C(A,E,j,B){var ee=E!==null?E.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ee!==null?null:y(A,E,""+j,B);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return j.key===ee?w(A,E,j,B):null;case O:return j.key===ee?R(A,E,j,B):null;case ke:return j=wa(j),C(A,E,j,B)}if(_t(j)||We(j))return ee!==null?null:z(A,E,j,B,null);if(typeof j.then=="function")return C(A,E,ws(j),B);if(j.$$typeof===L)return C(A,E,ys(A,j),B);Ss(A,j)}return null}function k(A,E,j,B,ee){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return A=A.get(j)||null,y(E,A,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return A=A.get(B.key===null?j:B.key)||null,w(E,A,B,ee);case O:return A=A.get(B.key===null?j:B.key)||null,R(E,A,B,ee);case ke:return B=wa(B),k(A,E,j,B,ee)}if(_t(B)||We(B))return A=A.get(j)||null,z(E,A,B,ee,null);if(typeof B.then=="function")return k(A,E,j,ws(B),ee);if(B.$$typeof===L)return k(A,E,j,ys(E,B),ee);Ss(E,B)}return null}function J(A,E,j,B){for(var ee=null,_e=null,P=E,de=E=0,ve=null;P!==null&&de<j.length;de++){P.index>de?(ve=P,P=null):ve=P.sibling;var we=C(A,P,j[de],B);if(we===null){P===null&&(P=ve);break}e&&P&&we.alternate===null&&t(A,P),E=u(we,E,de),_e===null?ee=we:_e.sibling=we,_e=we,P=ve}if(de===j.length)return n(A,P),ye&&bn(A,de),ee;if(P===null){for(;de<j.length;de++)P=q(A,j[de],B),P!==null&&(E=u(P,E,de),_e===null?ee=P:_e.sibling=P,_e=P);return ye&&bn(A,de),ee}for(P=r(P);de<j.length;de++)ve=k(P,A,de,j[de],B),ve!==null&&(e&&ve.alternate!==null&&P.delete(ve.key===null?de:ve.key),E=u(ve,E,de),_e===null?ee=ve:_e.sibling=ve,_e=ve);return e&&P.forEach(function(sa){return t(A,sa)}),ye&&bn(A,de),ee}function ne(A,E,j,B){if(j==null)throw Error(s(151));for(var ee=null,_e=null,P=E,de=E=0,ve=null,we=j.next();P!==null&&!we.done;de++,we=j.next()){P.index>de?(ve=P,P=null):ve=P.sibling;var sa=C(A,P,we.value,B);if(sa===null){P===null&&(P=ve);break}e&&P&&sa.alternate===null&&t(A,P),E=u(sa,E,de),_e===null?ee=sa:_e.sibling=sa,_e=sa,P=ve}if(we.done)return n(A,P),ye&&bn(A,de),ee;if(P===null){for(;!we.done;de++,we=j.next())we=q(A,we.value,B),we!==null&&(E=u(we,E,de),_e===null?ee=we:_e.sibling=we,_e=we);return ye&&bn(A,de),ee}for(P=r(P);!we.done;de++,we=j.next())we=k(P,A,de,we.value,B),we!==null&&(e&&we.alternate!==null&&P.delete(we.key===null?de:we.key),E=u(we,E,de),_e===null?ee=we:_e.sibling=we,_e=we);return e&&P.forEach(function(Cp){return t(A,Cp)}),ye&&bn(A,de),ee}function Ce(A,E,j,B){if(typeof j=="object"&&j!==null&&j.type===N&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case T:e:{for(var ee=j.key;E!==null;){if(E.key===ee){if(ee=j.type,ee===N){if(E.tag===7){n(A,E.sibling),B=o(E,j.props.children),B.return=A,A=B;break e}}else if(E.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ke&&wa(ee)===E.type){n(A,E.sibling),B=o(E,j.props),ri(B,j),B.return=A,A=B;break e}n(A,E);break}else t(A,E);E=E.sibling}j.type===N?(B=va(j.props.children,A.mode,B,j.key),B.return=A,A=B):(B=gs(j.type,j.key,j.props,null,A.mode,B),ri(B,j),B.return=A,A=B)}return f(A);case O:e:{for(ee=j.key;E!==null;){if(E.key===ee)if(E.tag===4&&E.stateNode.containerInfo===j.containerInfo&&E.stateNode.implementation===j.implementation){n(A,E.sibling),B=o(E,j.children||[]),B.return=A,A=B;break e}else{n(A,E);break}else t(A,E);E=E.sibling}B=bo(j,A.mode,B),B.return=A,A=B}return f(A);case ke:return j=wa(j),Ce(A,E,j,B)}if(_t(j))return J(A,E,j,B);if(We(j)){if(ee=We(j),typeof ee!="function")throw Error(s(150));return j=ee.call(j),ne(A,E,j,B)}if(typeof j.then=="function")return Ce(A,E,ws(j),B);if(j.$$typeof===L)return Ce(A,E,ys(A,j),B);Ss(A,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,E!==null&&E.tag===6?(n(A,E.sibling),B=o(E,j),B.return=A,A=B):(n(A,E),B=po(j,A.mode,B),B.return=A,A=B),f(A)):n(A,E)}return function(A,E,j,B){try{ai=0;var ee=Ce(A,E,j,B);return or=null,ee}catch(P){if(P===lr||P===bs)throw P;var _e=zt(29,P,null,A.mode);return _e.lanes=B,_e.return=A,_e}finally{}}}var Ea=rh(!0),ih=rh(!1),Vn=!1;function ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ee&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=fs(e),$d(e,null,n),t}return hs(e,r,t,n),fs(e)}function ii(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zc(e,n)}}function Do(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=f:u=u.next=f,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Uo=!1;function si(){if(Uo){var e=sr;if(e!==null)throw e}}function li(e,t,n,r){Uo=!1;var o=e.updateQueue;Vn=!1;var u=o.firstBaseUpdate,f=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var w=y,R=w.next;w.next=null,f===null?u=R:f.next=R,f=w;var z=e.alternate;z!==null&&(z=z.updateQueue,y=z.lastBaseUpdate,y!==f&&(y===null?z.firstBaseUpdate=R:y.next=R,z.lastBaseUpdate=w))}if(u!==null){var q=o.baseState;f=0,z=R=w=null,y=u;do{var C=y.lane&-536870913,k=C!==y.lane;if(k?(me&C)===C:(r&C)===C){C!==0&&C===ir&&(Uo=!0),z!==null&&(z=z.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var J=e,ne=y;C=t;var Ce=n;switch(ne.tag){case 1:if(J=ne.payload,typeof J=="function"){q=J.call(Ce,q,C);break e}q=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=ne.payload,C=typeof J=="function"?J.call(Ce,q,C):J,C==null)break e;q=_({},q,C);break e;case 2:Vn=!0}}C=y.callback,C!==null&&(e.flags|=64,k&&(e.flags|=8192),k=o.callbacks,k===null?o.callbacks=[C]:k.push(C))}else k={lane:C,tag:y.tag,payload:y.payload,callback:y.callback,next:null},z===null?(R=z=k,w=q):z=z.next=k,f|=C;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;k=y,y=k.next,k.next=null,o.lastBaseUpdate=k,o.shared.pending=null}}while(!0);z===null&&(w=q),o.baseState=w,o.firstBaseUpdate=R,o.lastBaseUpdate=z,u===null&&(o.shared.lanes=0),Zn|=f,e.lanes=f,e.memoizedState=q}}function sh(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function lh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)sh(n[e],t)}var ur=x(null),Es=x(0);function oh(e,t){e=Cn,V(Es,e),V(ur,t),Cn=e|t.baseLanes}function zo(){V(Es,Cn),V(ur,ur.current)}function Mo(){Cn=Es.current,M(ur),M(Es)}var Mt=x(null),Ft=null;function In(e){var t=e.alternate;V(Ke,Ke.current&1),V(Mt,e),Ft===null&&(t===null||ur.current!==null||t.memoizedState!==null)&&(Ft=e)}function Bo(e){V(Ke,Ke.current),V(Mt,e),Ft===null&&(Ft=e)}function uh(e){e.tag===22?(V(Ke,Ke.current),V(Mt,e),Ft===null&&(Ft=e)):Qn()}function Qn(){V(Ke,Ke.current),V(Mt,Mt.current)}function Bt(e){M(Mt),Ft===e&&(Ft=null),M(Ke)}var Ke=x(0);function Ts(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Vu(n)||Yu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sn=0,ue=null,je=null,Xe=null,xs=!1,cr=!1,Ta=!1,As=0,oi=0,dr=null,_y=0;function Ve(){throw Error(s(321))}function qo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function Lo(e,t,n,r,o,u){return Sn=u,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Ih:eu,Ta=!1,u=n(r,o),Ta=!1,cr&&(u=dh(t,n,r,o)),ch(e),u}function ch(e){D.H=di;var t=je!==null&&je.next!==null;if(Sn=0,Xe=je=ue=null,xs=!1,oi=0,dr=null,t)throw Error(s(300));e===null||Je||(e=e.dependencies,e!==null&&vs(e)&&(Je=!0))}function dh(e,t,n,r){ue=e;var o=0;do{if(cr&&(dr=null),oi=0,cr=!1,25<=o)throw Error(s(301));if(o+=1,Xe=je=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=Qh,u=t(n,r)}while(cr);return u}function wy(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?ui(t):t,e=e.useState()[0],(je!==null?je.memoizedState:null)!==e&&(ue.flags|=1024),t}function Ho(){var e=As!==0;return As=0,e}function Go(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function $o(e){if(xs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xs=!1}Sn=0,Xe=je=ue=null,cr=!1,oi=As=0,dr=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ue.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ie(){if(je===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Xe===null?ue.memoizedState:Xe.next;if(t!==null)Xe=t,je=e;else{if(e===null)throw ue.alternate===null?Error(s(467)):Error(s(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Xe===null?ue.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Os(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ui(e){var t=oi;return oi+=1,dr===null&&(dr=[]),e=th(dr,e,t),t=ue,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Ih:eu),e}function js(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ui(e);if(e.$$typeof===L)return ut(e)}throw Error(s(438,String(e)))}function Vo(e){var t=null,n=ue.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=ue.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Os(),ue.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=Ct;return t.index++,n}function En(e,t){return typeof t=="function"?t(e):t}function Rs(e){var t=Ie();return Yo(t,je,e)}function Yo(e,t,n){var r=e.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=n;var o=e.baseQueue,u=r.pending;if(u!==null){if(o!==null){var f=o.next;o.next=u.next,u.next=f}t.baseQueue=o=u,r.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var y=f=null,w=null,R=t,z=!1;do{var q=R.lane&-536870913;if(q!==R.lane?(me&q)===q:(Sn&q)===q){var C=R.revertLane;if(C===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),q===ir&&(z=!0);else if((Sn&C)===C){R=R.next,C===ir&&(z=!0);continue}else q={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},w===null?(y=w=q,f=u):w=w.next=q,ue.lanes|=C,Zn|=C;q=R.action,Ta&&n(u,q),u=R.hasEagerState?R.eagerState:n(u,q)}else C={lane:q,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},w===null?(y=w=C,f=u):w=w.next=C,ue.lanes|=q,Zn|=q;R=R.next}while(R!==null&&R!==t);if(w===null?f=u:w.next=y,!Ut(u,e.memoizedState)&&(Je=!0,z&&(n=sr,n!==null)))throw n;e.memoizedState=u,e.baseState=f,e.baseQueue=w,r.lastRenderedState=u}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ko(e){var t=Ie(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var f=o=o.next;do u=e(u,f.action),f=f.next;while(f!==o);Ut(u,t.memoizedState)||(Je=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function hh(e,t,n){var r=ue,o=Ie(),u=ye;if(u){if(n===void 0)throw Error(s(407));n=n()}else n=t();var f=!Ut((je||o).memoizedState,n);if(f&&(o.memoizedState=n,Je=!0),o=o.queue,Xo(mh.bind(null,r,o,e),[e]),o.getSnapshot!==t||f||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,hr(9,{destroy:void 0},gh.bind(null,r,o,n,t),null),Ne===null)throw Error(s(349));u||(Sn&127)!==0||fh(r,t,n)}return n}function fh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t=Os(),ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gh(e,t,n,r){t.value=n,t.getSnapshot=r,vh(t)&&yh(e)}function mh(e,t,n){return n(function(){vh(t)&&yh(e)})}function vh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function yh(e){var t=ma(e,2);t!==null&&Ot(t,e,2)}function Io(e){var t=bt();if(typeof e=="function"){var n=e;if(e=n(),Ta){Vt(!0);try{n()}finally{Vt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:e},t}function ph(e,t,n,r){return e.baseState=n,Yo(e,je,typeof r=="function"?r:En)}function Sy(e,t,n,r,o){if(Ns(e))throw Error(s(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){u.listeners.push(f)}};D.T!==null?n(!0):u.isTransition=!1,r(u),n=t.pending,n===null?(u.next=t.pending=u,bh(t,u)):(u.next=n.next,t.pending=n.next=u)}}function bh(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var u=D.T,f={};D.T=f;try{var y=n(o,r),w=D.S;w!==null&&w(f,y),_h(e,t,y)}catch(R){Qo(e,t,R)}finally{u!==null&&f.types!==null&&(u.types=f.types),D.T=u}}else try{u=n(o,r),_h(e,t,u)}catch(R){Qo(e,t,R)}}function _h(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){wh(e,t,r)},function(r){return Qo(e,t,r)}):wh(e,t,n)}function wh(e,t,n){t.status="fulfilled",t.value=n,Sh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,bh(e,n)))}function Qo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,Sh(t),t=t.next;while(t!==r)}e.action=null}function Sh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Eh(e,t){return t}function Th(e,t){if(ye){var n=Ne.formState;if(n!==null){e:{var r=ue;if(ye){if(Me){t:{for(var o=Me,u=Zt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Pt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Me=Pt(o.nextSibling),r=o.data==="F!";break e}}Gn(r)}r=!1}r&&(t=n[0])}}return n=bt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:t},n.queue=r,n=Vh.bind(null,ue,r),r.dispatch=n,r=Io(!1),u=Wo.bind(null,ue,!1,r.queue),r=bt(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,n=Sy.bind(null,ue,o,u,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function xh(e){var t=Ie();return Ah(t,je,e)}function Ah(e,t,n){if(t=Yo(e,t,Eh)[0],e=Rs(En)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ui(t)}catch(f){throw f===lr?bs:f}else r=t;t=Ie();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(ue.flags|=2048,hr(9,{destroy:void 0},Ey.bind(null,o,n),null)),[r,u,e]}function Ey(e,t){e.action=t}function Oh(e){var t=Ie(),n=je;if(n!==null)return Ah(t,n,e);Ie(),t=t.memoizedState,n=Ie();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function hr(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=ue.updateQueue,t===null&&(t=Os(),ue.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jh(){return Ie().memoizedState}function Cs(e,t,n,r){var o=bt();ue.flags|=e,o.memoizedState=hr(1|t,{destroy:void 0},n,r===void 0?null:r)}function ks(e,t,n,r){var o=Ie();r=r===void 0?null:r;var u=o.memoizedState.inst;je!==null&&r!==null&&qo(r,je.memoizedState.deps)?o.memoizedState=hr(t,u,n,r):(ue.flags|=e,o.memoizedState=hr(1|t,u,n,r))}function Rh(e,t){Cs(8390656,8,e,t)}function Xo(e,t){ks(2048,8,e,t)}function Ty(e){ue.flags|=4;var t=ue.updateQueue;if(t===null)t=Os(),ue.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Ch(e){var t=Ie().memoizedState;return Ty({ref:t,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function kh(e,t){return ks(4,2,e,t)}function Nh(e,t){return ks(4,4,e,t)}function Dh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uh(e,t,n){n=n!=null?n.concat([e]):null,ks(4,4,Dh.bind(null,t,e),n)}function Jo(){}function zh(e,t){var n=Ie();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&qo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Mh(e,t){var n=Ie();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&qo(t,r[1]))return r[0];if(r=e(),Ta){Vt(!0);try{e()}finally{Vt(!1)}}return n.memoizedState=[r,t],r}function Zo(e,t,n){return n===void 0||(Sn&1073741824)!==0&&(me&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=qf(),ue.lanes|=e,Zn|=e,n)}function Bh(e,t,n,r){return Ut(n,t)?n:ur.current!==null?(e=Zo(e,n,r),Ut(e,t)||(Je=!0),e):(Sn&42)===0||(Sn&1073741824)!==0&&(me&261930)===0?(Je=!0,e.memoizedState=n):(e=qf(),ue.lanes|=e,Zn|=e,t)}function qh(e,t,n,r,o){var u=$.p;$.p=u!==0&&8>u?u:8;var f=D.T,y={};D.T=y,Wo(e,!1,t,n);try{var w=o(),R=D.S;if(R!==null&&R(y,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var z=by(w,r);ci(e,t,z,Ht(e))}else ci(e,t,r,Ht(e))}catch(q){ci(e,t,{then:function(){},status:"rejected",reason:q},Ht())}finally{$.p=u,f!==null&&y.types!==null&&(f.types=y.types),D.T=f}}function xy(){}function Fo(e,t,n,r){if(e.tag!==5)throw Error(s(476));var o=Lh(e).queue;qh(e,o,t,te,n===null?xy:function(){return Hh(e),n(r)})}function Lh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:te},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hh(e){var t=Lh(e);t.next===null&&(t=e.alternate.memoizedState),ci(e,t.next.queue,{},Ht())}function Po(){return ut(Oi)}function Gh(){return Ie().memoizedState}function $h(){return Ie().memoizedState}function Ay(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ht();e=Yn(n);var r=Kn(t,e,n);r!==null&&(Ot(r,t,n),ii(r,t,n)),t={cache:Oo()},e.payload=t;return}t=t.return}}function Oy(e,t,n){var r=Ht();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ns(e)?Yh(t,n):(n=vo(e,t,n,r),n!==null&&(Ot(n,e,r),Kh(n,t,r)))}function Vh(e,t,n){var r=Ht();ci(e,t,n,r)}function ci(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ns(e))Yh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,y=u(f,n);if(o.hasEagerState=!0,o.eagerState=y,Ut(y,f))return hs(e,t,o,0),Ne===null&&ds(),!1}catch{}finally{}if(n=vo(e,t,o,r),n!==null)return Ot(n,e,r),Kh(n,t,r),!0}return!1}function Wo(e,t,n,r){if(r={lane:2,revertLane:ku(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ns(e)){if(t)throw Error(s(479))}else t=vo(e,n,r,2),t!==null&&Ot(t,e,2)}function Ns(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Yh(e,t){cr=xs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kh(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zc(e,n)}}var di={readContext:ut,use:js,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};di.useEffectEvent=Ve;var Ih={readContext:ut,use:js,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Rh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Cs(4194308,4,Dh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){Cs(4,2,e,t)},useMemo:function(e,t){var n=bt();t=t===void 0?null:t;var r=e();if(Ta){Vt(!0);try{e()}finally{Vt(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=bt();if(n!==void 0){var o=n(t);if(Ta){Vt(!0);try{n(t)}finally{Vt(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Oy.bind(null,ue,e),[r.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=Io(e);var t=e.queue,n=Vh.bind(null,ue,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Jo,useDeferredValue:function(e,t){var n=bt();return Zo(n,e,t)},useTransition:function(){var e=Io(!1);return e=qh.bind(null,ue,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ue,o=bt();if(ye){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Ne===null)throw Error(s(349));(me&127)!==0||fh(r,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,Rh(mh.bind(null,r,u,e),[e]),r.flags|=2048,hr(9,{destroy:void 0},gh.bind(null,r,u,n,t),null),n},useId:function(){var e=bt(),t=Ne.identifierPrefix;if(ye){var n=cn,r=un;n=(r&~(1<<32-Dt(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=As++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=_y++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Po,useFormState:Th,useActionState:Th,useOptimistic:function(e){var t=bt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Wo.bind(null,ue,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vo,useCacheRefresh:function(){return bt().memoizedState=Ay.bind(null,ue)},useEffectEvent:function(e){var t=bt(),n={impl:e};return t.memoizedState=n,function(){if((Ee&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},eu={readContext:ut,use:js,useCallback:zh,useContext:ut,useEffect:Xo,useImperativeHandle:Uh,useInsertionEffect:kh,useLayoutEffect:Nh,useMemo:Mh,useReducer:Rs,useRef:jh,useState:function(){return Rs(En)},useDebugValue:Jo,useDeferredValue:function(e,t){var n=Ie();return Bh(n,je.memoizedState,e,t)},useTransition:function(){var e=Rs(En)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:ui(e),t]},useSyncExternalStore:hh,useId:Gh,useHostTransitionStatus:Po,useFormState:xh,useActionState:xh,useOptimistic:function(e,t){var n=Ie();return ph(n,je,e,t)},useMemoCache:Vo,useCacheRefresh:$h};eu.useEffectEvent=Ch;var Qh={readContext:ut,use:js,useCallback:zh,useContext:ut,useEffect:Xo,useImperativeHandle:Uh,useInsertionEffect:kh,useLayoutEffect:Nh,useMemo:Mh,useReducer:Ko,useRef:jh,useState:function(){return Ko(En)},useDebugValue:Jo,useDeferredValue:function(e,t){var n=Ie();return je===null?Zo(n,e,t):Bh(n,je.memoizedState,e,t)},useTransition:function(){var e=Ko(En)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:ui(e),t]},useSyncExternalStore:hh,useId:Gh,useHostTransitionStatus:Po,useFormState:Oh,useActionState:Oh,useOptimistic:function(e,t){var n=Ie();return je!==null?ph(n,je,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vo,useCacheRefresh:$h};Qh.useEffectEvent=Ch;function tu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nu={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ht(),o=Yn(r);o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,r),t!==null&&(Ot(t,e,r),ii(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ht(),o=Yn(r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,r),t!==null&&(Ot(t,e,r),ii(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ht(),r=Yn(n);r.tag=2,t!=null&&(r.callback=t),t=Kn(e,r,n),t!==null&&(Ot(t,e,n),ii(t,e,n))}};function Xh(e,t,n,r,o,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,f):t.prototype&&t.prototype.isPureReactComponent?!Fr(n,r)||!Fr(o,u):!0}function Jh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nu.enqueueReplaceState(t,t.state,null)}function xa(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Zh(e){cs(e)}function Fh(e){console.error(e)}function Ph(e){cs(e)}function Ds(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Wh(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function au(e,t,n){return n=Yn(n),n.tag=3,n.payload={element:null},n.callback=function(){Ds(e,t)},n}function ef(e){return e=Yn(e),e.tag=3,e}function tf(e,t,n,r){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=r.value;e.payload=function(){return o(u)},e.callback=function(){Wh(t,n,r)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Wh(t,n,r),typeof o!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})})}function jy(e,t,n,r,o){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&rr(t,n,o,!0),n=Mt.current,n!==null){switch(n.tag){case 31:case 13:return Ft===null?Ks():n.alternate===null&&Ye===0&&(Ye=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===_s?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),ju(e,r,o)),!1;case 22:return n.flags|=65536,r===_s?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),ju(e,r,o)),!1}throw Error(s(435,n.tag))}return ju(e,r,o),Ks(),!1}if(ye)return t=Mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==So&&(e=Error(s(422),{cause:r}),ei(Qt(e,n)))):(r!==So&&(t=Error(s(423),{cause:r}),ei(Qt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Qt(r,n),o=au(e.stateNode,r,o),Do(e,o),Ye!==4&&(Ye=2)),!1;var u=Error(s(520),{cause:r});if(u=Qt(u,n),bi===null?bi=[u]:bi.push(u),Ye!==4&&(Ye=2),t===null)return!0;r=Qt(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=au(n.stateNode,r,e),Do(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Fn===null||!Fn.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=ef(o),tf(o,e,n,r),Do(n,o),!1}n=n.return}while(n!==null);return!1}var ru=Error(s(461)),Je=!1;function ct(e,t,n,r){t.child=e===null?ih(t,null,n,r):Ea(t,e.child,n,r)}function nf(e,t,n,r,o){n=n.render;var u=t.ref;if("ref"in r){var f={};for(var y in r)y!=="ref"&&(f[y]=r[y])}else f=r;return ba(t),r=Lo(e,t,n,f,u,o),y=Ho(),e!==null&&!Je?(Go(e,t,o),Tn(e,t,o)):(ye&&y&&_o(t),t.flags|=1,ct(e,t,r,o),t.child)}function af(e,t,n,r,o){if(e===null){var u=n.type;return typeof u=="function"&&!yo(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,rf(e,t,u,r,o)):(e=gs(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!hu(e,o)){var f=u.memoizedProps;if(n=n.compare,n=n!==null?n:Fr,n(f,r)&&e.ref===t.ref)return Tn(e,t,o)}return t.flags|=1,e=pn(u,r),e.ref=t.ref,e.return=t,t.child=e}function rf(e,t,n,r,o){if(e!==null){var u=e.memoizedProps;if(Fr(u,r)&&e.ref===t.ref)if(Je=!1,t.pendingProps=r=u,hu(e,o))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,Tn(e,t,o)}return iu(e,t,n,r,o)}function sf(e,t,n,r){var o=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~u}else r=0,t.child=null;return lf(e,t,u,n,r)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ps(t,u!==null?u.cachePool:null),u!==null?oh(t,u):zo(),uh(t);else return r=t.lanes=536870912,lf(e,t,u!==null?u.baseLanes|n:n,n,r)}else u!==null?(ps(t,u.cachePool),oh(t,u),Qn(),t.memoizedState=null):(e!==null&&ps(t,null),zo(),Qn());return ct(e,t,o,n),t.child}function hi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function lf(e,t,n,r,o){var u=Ro();return u=u===null?null:{parent:Qe._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&ps(t,null),zo(),uh(t),e!==null&&rr(e,t,r,!0),t.childLanes=o,null}function Us(e,t){return t=Ms({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function of(e,t,n){return Ea(t,e.child,null,n),e=Us(t,t.pendingProps),e.flags|=2,Bt(t),t.memoizedState=null,e}function Ry(e,t,n){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(r.mode==="hidden")return e=Us(t,r),t.lanes=536870912,hi(null,e);if(Bo(t),(e=Me)?(e=_g(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ln!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},n=Yd(e),n.return=t,t.child=n,ot=t,Me=null)):e=null,e===null)throw Gn(t);return t.lanes=536870912,null}return Us(t,r)}var u=e.memoizedState;if(u!==null){var f=u.dehydrated;if(Bo(t),o)if(t.flags&256)t.flags&=-257,t=of(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Je||rr(e,t,n,!1),o=(n&e.childLanes)!==0,Je||o){if(r=Ne,r!==null&&(f=Fc(r,n),f!==0&&f!==u.retryLane))throw u.retryLane=f,ma(e,f),Ot(r,e,f),ru;Ks(),t=of(e,t,n)}else e=u.treeContext,Me=Pt(f.nextSibling),ot=t,ye=!0,Hn=null,Zt=!1,e!==null&&Qd(t,e),t=Us(t,r),t.flags|=4096;return t}return e=pn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function zs(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function iu(e,t,n,r,o){return ba(t),n=Lo(e,t,n,r,void 0,o),r=Ho(),e!==null&&!Je?(Go(e,t,o),Tn(e,t,o)):(ye&&r&&_o(t),t.flags|=1,ct(e,t,n,o),t.child)}function uf(e,t,n,r,o,u){return ba(t),t.updateQueue=null,n=dh(t,r,n,o),ch(e),r=Ho(),e!==null&&!Je?(Go(e,t,u),Tn(e,t,u)):(ye&&r&&_o(t),t.flags|=1,ct(e,t,n,u),t.child)}function cf(e,t,n,r,o){if(ba(t),t.stateNode===null){var u=er,f=n.contextType;typeof f=="object"&&f!==null&&(u=ut(f)),u=new n(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=nu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},ko(t),f=n.contextType,u.context=typeof f=="object"&&f!==null?ut(f):er,u.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(tu(t,n,f,r),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(f=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),f!==u.state&&nu.enqueueReplaceState(u,u.state,null),li(t,r,u,o),si(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var y=t.memoizedProps,w=xa(n,y);u.props=w;var R=u.context,z=n.contextType;f=er,typeof z=="object"&&z!==null&&(f=ut(z));var q=n.getDerivedStateFromProps;z=typeof q=="function"||typeof u.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,z||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y||R!==f)&&Jh(t,u,r,f),Vn=!1;var C=t.memoizedState;u.state=C,li(t,r,u,o),si(),R=t.memoizedState,y||C!==R||Vn?(typeof q=="function"&&(tu(t,n,q,r),R=t.memoizedState),(w=Vn||Xh(t,n,w,r,C,R,f))?(z||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=R),u.props=r,u.state=R,u.context=f,r=w):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,No(e,t),f=t.memoizedProps,z=xa(n,f),u.props=z,q=t.pendingProps,C=u.context,R=n.contextType,w=er,typeof R=="object"&&R!==null&&(w=ut(R)),y=n.getDerivedStateFromProps,(R=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==q||C!==w)&&Jh(t,u,r,w),Vn=!1,C=t.memoizedState,u.state=C,li(t,r,u,o),si();var k=t.memoizedState;f!==q||C!==k||Vn||e!==null&&e.dependencies!==null&&vs(e.dependencies)?(typeof y=="function"&&(tu(t,n,y,r),k=t.memoizedState),(z=Vn||Xh(t,n,z,r,C,k,w)||e!==null&&e.dependencies!==null&&vs(e.dependencies))?(R||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,k,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,k,w)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),u.props=r,u.state=k,u.context=w,r=z):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,zs(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=Ea(t,e.child,null,o),t.child=Ea(t,null,n,o)):ct(e,t,n,o),t.memoizedState=u.state,e=t.child):e=Tn(e,t,o),e}function df(e,t,n,r){return ya(),t.flags|=256,ct(e,t,n,r),t.child}var su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lu(e){return{baseLanes:e,cachePool:Wd()}}function ou(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Lt),e}function hf(e,t,n){var r=t.pendingProps,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),f&&(o=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(o?In(t):Qn(),(e=Me)?(e=_g(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ln!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},n=Yd(e),n.return=t,t.child=n,ot=t,Me=null)):e=null,e===null)throw Gn(t);return Yu(e)?t.lanes=32:t.lanes=536870912,null}var y=r.children;return r=r.fallback,o?(Qn(),o=t.mode,y=Ms({mode:"hidden",children:y},o),r=va(r,o,n,null),y.return=t,r.return=t,y.sibling=r,t.child=y,r=t.child,r.memoizedState=lu(n),r.childLanes=ou(e,f,n),t.memoizedState=su,hi(null,r)):(In(t),uu(t,y))}var w=e.memoizedState;if(w!==null&&(y=w.dehydrated,y!==null)){if(u)t.flags&256?(In(t),t.flags&=-257,t=cu(e,t,n)):t.memoizedState!==null?(Qn(),t.child=e.child,t.flags|=128,t=null):(Qn(),y=r.fallback,o=t.mode,r=Ms({mode:"visible",children:r.children},o),y=va(y,o,n,null),y.flags|=2,r.return=t,y.return=t,r.sibling=y,t.child=r,Ea(t,e.child,null,n),r=t.child,r.memoizedState=lu(n),r.childLanes=ou(e,f,n),t.memoizedState=su,t=hi(null,r));else if(In(t),Yu(y)){if(f=y.nextSibling&&y.nextSibling.dataset,f)var R=f.dgst;f=R,r=Error(s(419)),r.stack="",r.digest=f,ei({value:r,source:null,stack:null}),t=cu(e,t,n)}else if(Je||rr(e,t,n,!1),f=(n&e.childLanes)!==0,Je||f){if(f=Ne,f!==null&&(r=Fc(f,n),r!==0&&r!==w.retryLane))throw w.retryLane=r,ma(e,r),Ot(f,e,r),ru;Vu(y)||Ks(),t=cu(e,t,n)}else Vu(y)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Me=Pt(y.nextSibling),ot=t,ye=!0,Hn=null,Zt=!1,e!==null&&Qd(t,e),t=uu(t,r.children),t.flags|=4096);return t}return o?(Qn(),y=r.fallback,o=t.mode,w=e.child,R=w.sibling,r=pn(w,{mode:"hidden",children:r.children}),r.subtreeFlags=w.subtreeFlags&65011712,R!==null?y=pn(R,y):(y=va(y,o,n,null),y.flags|=2),y.return=t,r.return=t,r.sibling=y,t.child=r,hi(null,r),r=t.child,y=e.child.memoizedState,y===null?y=lu(n):(o=y.cachePool,o!==null?(w=Qe._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=Wd(),y={baseLanes:y.baseLanes|n,cachePool:o}),r.memoizedState=y,r.childLanes=ou(e,f,n),t.memoizedState=su,hi(e.child,r)):(In(t),n=e.child,e=n.sibling,n=pn(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function uu(e,t){return t=Ms({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ms(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function cu(e,t,n){return Ea(t,e.child,null,n),e=uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ff(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xo(e.return,t,n)}function du(e,t,n,r,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=r,f.tail=n,f.tailMode=o,f.treeForkCount=u)}function gf(e,t,n){var r=t.pendingProps,o=r.revealOrder,u=r.tail;r=r.children;var f=Ke.current,y=(f&2)!==0;if(y?(f=f&1|2,t.flags|=128):f&=1,V(Ke,f),ct(e,t,r,n),r=ye?Wr:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ff(e,n,t);else if(e.tag===19)ff(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ts(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),du(t,!1,o,n,u,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ts(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}du(t,!0,n,null,u,r);break;case"together":du(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Tn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(rr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&vs(e)))}function Cy(e,t,n){switch(t.tag){case 3:et(t,t.stateNode.containerInfo),$n(t,Qe,e.memoizedState.cache),ya();break;case 27:case 5:en(t);break;case 4:et(t,t.stateNode.containerInfo);break;case 10:$n(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(In(t),t.flags|=128,null):(n&t.child.childLanes)!==0?hf(e,t,n):(In(t),e=Tn(e,t,n),e!==null?e.sibling:null);In(t);break;case 19:var o=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(rr(e,t,n,!1),r=(n&t.childLanes)!==0),o){if(r)return gf(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(Ke,Ke.current),r)break;return null;case 22:return t.lanes=0,sf(e,t,n,t.pendingProps);case 24:$n(t,Qe,e.memoizedState.cache)}return Tn(e,t,n)}function mf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!hu(e,n)&&(t.flags&128)===0)return Je=!1,Cy(e,t,n);Je=(e.flags&131072)!==0}else Je=!1,ye&&(t.flags&1048576)!==0&&Id(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=wa(t.elementType),t.type=e,typeof e=="function")yo(e)?(r=xa(e,r),t.tag=1,t=cf(null,t,e,r,n)):(t.tag=0,t=iu(null,t,e,r,n));else{if(e!=null){var o=e.$$typeof;if(o===Z){t.tag=11,t=nf(null,t,e,r,n);break e}else if(o===X){t.tag=14,t=af(null,t,e,r,n);break e}}throw t=$t(e)||e,Error(s(306,t,""))}}return t;case 0:return iu(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,o=xa(r,t.pendingProps),cf(e,t,r,o,n);case 3:e:{if(et(t,t.stateNode.containerInfo),e===null)throw Error(s(387));r=t.pendingProps;var u=t.memoizedState;o=u.element,No(e,t),li(t,r,null,n);var f=t.memoizedState;if(r=f.cache,$n(t,Qe,r),r!==u.cache&&Ao(t,[Qe],n,!0),si(),r=f.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=df(e,t,r,n);break e}else if(r!==o){o=Qt(Error(s(424)),t),ei(o),t=df(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Me=Pt(e.firstChild),ot=t,ye=!0,Hn=null,Zt=!0,n=ih(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ya(),r===o){t=Tn(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 26:return zs(e,t),e===null?(n=Ag(t.type,null,t.pendingProps,null))?t.memoizedState=n:ye||(n=t.type,e=t.pendingProps,r=Ps(ce.current).createElement(n),r[lt]=t,r[wt]=e,dt(r,n,e),at(r),t.stateNode=r):t.memoizedState=Ag(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return en(t),e===null&&ye&&(r=t.stateNode=Eg(t.type,t.pendingProps,ce.current),ot=t,Zt=!0,o=Me,ta(t.type)?(Ku=o,Me=Pt(r.firstChild)):Me=o),ct(e,t,t.pendingProps.children,n),zs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((o=r=Me)&&(r=sp(r,t.type,t.pendingProps,Zt),r!==null?(t.stateNode=r,ot=t,Me=Pt(r.firstChild),Zt=!1,o=!0):o=!1),o||Gn(t)),en(t),o=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,r=u.children,Hu(o,u)?r=null:f!==null&&Hu(o,f)&&(t.flags|=32),t.memoizedState!==null&&(o=Lo(e,t,wy,null,null,n),Oi._currentValue=o),zs(e,t),ct(e,t,r,n),t.child;case 6:return e===null&&ye&&((e=n=Me)&&(n=lp(n,t.pendingProps,Zt),n!==null?(t.stateNode=n,ot=t,Me=null,e=!0):e=!1),e||Gn(t)),null;case 13:return hf(e,t,n);case 4:return et(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ea(t,null,r,n):ct(e,t,r,n),t.child;case 11:return nf(e,t,t.type,t.pendingProps,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,$n(t,t.type,r.value),ct(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,ba(t),o=ut(o),r=r(o),t.flags|=1,ct(e,t,r,n),t.child;case 14:return af(e,t,t.type,t.pendingProps,n);case 15:return rf(e,t,t.type,t.pendingProps,n);case 19:return gf(e,t,n);case 31:return Ry(e,t,n);case 22:return sf(e,t,n,t.pendingProps);case 24:return ba(t),r=ut(Qe),e===null?(o=Ro(),o===null&&(o=Ne,u=Oo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:r,cache:o},ko(t),$n(t,Qe,o)):((e.lanes&n)!==0&&(No(e,t),li(t,null,null,n),si()),o=e.memoizedState,u=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),$n(t,Qe,r)):(r=u.cache,$n(t,Qe,r),r!==o.cache&&Ao(t,[Qe],n,!0))),ct(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function xn(e){e.flags|=4}function fu(e,t,n,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if($f())e.flags|=8192;else throw Sa=_s,Co}else e.flags&=-16777217}function vf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kg(t))if($f())e.flags|=8192;else throw Sa=_s,Co}function Bs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xc():536870912,e.lanes|=t,vr|=t)}function fi(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ky(e,t,n){var r=t.pendingProps;switch(wo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wn(Qe),qe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ar(t)?xn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Eo())),Be(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(xn(t),u!==null?(Be(t),vf(t,u)):(Be(t),fu(t,o,null,r,n))):u?u!==e.memoizedState?(xn(t),Be(t),vf(t,u)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&xn(t),Be(t),fu(t,o,e,r,n)),null;case 27:if(qa(t),n=ce.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&xn(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return Be(t),null}e=I.current,ar(t)?Xd(t):(e=Eg(o,r,n),t.stateNode=e,xn(t))}return Be(t),null;case 5:if(qa(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&xn(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return Be(t),null}if(u=I.current,ar(t))Xd(t);else{var f=Ps(ce.current);switch(u){case 1:u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=f.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?f.createElement("select",{is:r.is}):f.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?f.createElement(o,{is:r.is}):f.createElement(o)}}u[lt]=t,u[wt]=r;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)u.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=u;e:switch(dt(u,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&xn(t)}}return Be(t),fu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&xn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(s(166));if(e=ce.current,ar(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,o=ot,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[lt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||hg(e.nodeValue,n)),e||Gn(t,!0)}else e=Ps(e).createTextNode(r),e[lt]=t,t.stateNode=e}return Be(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=ar(t),n!==null){if(e===null){if(!r)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[lt]=t}else ya(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else n=Eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Bt(t),t):(Bt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Be(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ar(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[lt]=t}else ya(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),o=!1}else o=Eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Bt(t),t):(Bt(t),null)}return Bt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Bs(t,t.updateQueue),Be(t),null);case 4:return qe(),e===null&&zu(t.stateNode.containerInfo),Be(t),null;case 10:return wn(t.type),Be(t),null;case 19:if(M(Ke),r=t.memoizedState,r===null)return Be(t),null;if(o=(t.flags&128)!==0,u=r.rendering,u===null)if(o)fi(r,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Ts(e),u!==null){for(t.flags|=128,fi(r,!1),e=u.updateQueue,t.updateQueue=e,Bs(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Vd(n,e),n=n.sibling;return V(Ke,Ke.current&1|2),ye&&bn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&pt()>$s&&(t.flags|=128,o=!0,fi(r,!1),t.lanes=4194304)}else{if(!o)if(e=Ts(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Bs(t,e),fi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!ye)return Be(t),null}else 2*pt()-r.renderingStartTime>$s&&n!==536870912&&(t.flags|=128,o=!0,fi(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=pt(),e.sibling=null,n=Ke.current,V(Ke,o?n&1|2:n&1),ye&&bn(t,r.treeForkCount),e):(Be(t),null);case 22:case 23:return Bt(t),Mo(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),n=t.updateQueue,n!==null&&Bs(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&M(_a),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wn(Qe),Be(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Ny(e,t){switch(wo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wn(Qe),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return qa(t),null;case 31:if(t.memoizedState!==null){if(Bt(t),t.alternate===null)throw Error(s(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Bt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(Ke),null;case 4:return qe(),null;case 10:return wn(t.type),null;case 22:case 23:return Bt(t),Mo(),e!==null&&M(_a),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wn(Qe),null;case 25:return null;default:return null}}function yf(e,t){switch(wo(t),t.tag){case 3:wn(Qe),qe();break;case 26:case 27:case 5:qa(t);break;case 4:qe();break;case 31:t.memoizedState!==null&&Bt(t);break;case 13:Bt(t);break;case 19:M(Ke);break;case 10:wn(t.type);break;case 22:case 23:Bt(t),Mo(),e!==null&&M(_a);break;case 24:wn(Qe)}}function gi(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var u=n.create,f=n.inst;r=u(),f.destroy=r}n=n.next}while(n!==o)}}catch(y){Ae(t,t.return,y)}}function Xn(e,t,n){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){var f=r.inst,y=f.destroy;if(y!==void 0){f.destroy=void 0,o=t;var w=n,R=y;try{R()}catch(z){Ae(o,w,z)}}}r=r.next}while(r!==u)}}catch(z){Ae(t,t.return,z)}}function pf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{lh(t,n)}catch(r){Ae(e,e.return,r)}}}function bf(e,t,n){n.props=xa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ae(e,t,r)}}function mi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(o){Ae(e,t,o)}}function dn(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(o){Ae(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Ae(e,t,o)}else n.current=null}function _f(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){Ae(e,e.return,o)}}function gu(e,t,n){try{var r=e.stateNode;ep(r,e.type,n,t),r[wt]=t}catch(o){Ae(e,e.return,o)}}function wf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ta(e.type)||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ta(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vn));else if(r!==4&&(r===27&&ta(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(vu(e,t,n),e=e.sibling;e!==null;)vu(e,t,n),e=e.sibling}function qs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&ta(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(qs(e,t,n),e=e.sibling;e!==null;)qs(e,t,n),e=e.sibling}function Sf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);dt(t,r,n),t[lt]=e,t[wt]=n}catch(u){Ae(e,e.return,u)}}var An=!1,Ze=!1,yu=!1,Ef=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Dy(e,t){if(e=e.containerInfo,qu=il,e=Ud(e),uo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var f=0,y=-1,w=-1,R=0,z=0,q=e,C=null;t:for(;;){for(var k;q!==n||o!==0&&q.nodeType!==3||(y=f+o),q!==u||r!==0&&q.nodeType!==3||(w=f+r),q.nodeType===3&&(f+=q.nodeValue.length),(k=q.firstChild)!==null;)C=q,q=k;for(;;){if(q===e)break t;if(C===n&&++R===o&&(y=f),C===u&&++z===r&&(w=f),(k=q.nextSibling)!==null)break;q=C,C=q.parentNode}q=k}n=y===-1||w===-1?null:{start:y,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lu={focusedElem:e,selectionRange:n},il=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,r=n.stateNode;try{var J=xa(n.type,o);e=r.getSnapshotBeforeUpdate(J,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(ne){Ae(n,n.return,ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)$u(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$u(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function Tf(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:jn(e,n),r&4&&gi(5,n);break;case 1:if(jn(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){Ae(n,n.return,f)}else{var o=xa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Ae(n,n.return,f)}}r&64&&pf(n),r&512&&mi(n,n.return);break;case 3:if(jn(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{lh(e,t)}catch(f){Ae(n,n.return,f)}}break;case 27:t===null&&r&4&&Sf(n);case 26:case 5:jn(e,n),t===null&&r&4&&_f(n),r&512&&mi(n,n.return);break;case 12:jn(e,n);break;case 31:jn(e,n),r&4&&Of(e,n);break;case 13:jn(e,n),r&4&&jf(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=$y.bind(null,n),op(e,n))));break;case 22:if(r=n.memoizedState!==null||An,!r){t=t!==null&&t.memoizedState!==null||Ze,o=An;var u=Ze;An=r,(Ze=t)&&!u?Rn(e,n,(n.subtreeFlags&8772)!==0):jn(e,n),An=o,Ze=u}break;case 30:break;default:jn(e,n)}}function xf(e){var t=e.alternate;t!==null&&(e.alternate=null,xf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Il(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,Et=!1;function On(e,t,n){for(n=n.child;n!==null;)Af(e,t,n),n=n.sibling}function Af(e,t,n){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount($e,n)}catch{}switch(n.tag){case 26:Ze||dn(n,t),On(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ze||dn(n,t);var r=He,o=Et;ta(n.type)&&(He=n.stateNode,Et=!1),On(e,t,n),Ti(n.stateNode),He=r,Et=o;break;case 5:Ze||dn(n,t);case 6:if(r=He,o=Et,He=null,On(e,t,n),He=r,Et=o,He!==null)if(Et)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(n.stateNode)}catch(u){Ae(n,t,u)}else try{He.removeChild(n.stateNode)}catch(u){Ae(n,t,u)}break;case 18:He!==null&&(Et?(e=He,pg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Tr(e)):pg(He,n.stateNode));break;case 4:r=He,o=Et,He=n.stateNode.containerInfo,Et=!0,On(e,t,n),He=r,Et=o;break;case 0:case 11:case 14:case 15:Xn(2,n,t),Ze||Xn(4,n,t),On(e,t,n);break;case 1:Ze||(dn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&bf(n,t,r)),On(e,t,n);break;case 21:On(e,t,n);break;case 22:Ze=(r=Ze)||n.memoizedState!==null,On(e,t,n),Ze=r;break;default:On(e,t,n)}}function Of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Tr(e)}catch(n){Ae(t,t.return,n)}}}function jf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Tr(e)}catch(n){Ae(t,t.return,n)}}function Uy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ef),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ef),t;default:throw Error(s(435,e.tag))}}function Ls(e,t){var n=Uy(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var o=Vy.bind(null,e,r);r.then(o,o)}})}function Tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r],u=e,f=t,y=f;e:for(;y!==null;){switch(y.tag){case 27:if(ta(y.type)){He=y.stateNode,Et=!1;break e}break;case 5:He=y.stateNode,Et=!1;break e;case 3:case 4:He=y.stateNode.containerInfo,Et=!0;break e}y=y.return}if(He===null)throw Error(s(160));Af(u,f,o),He=null,Et=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Rf(t,e),t=t.sibling}var nn=null;function Rf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),xt(e),r&4&&(Xn(3,e,e.return),gi(3,e),Xn(5,e,e.return));break;case 1:Tt(t,e),xt(e),r&512&&(Ze||n===null||dn(n,n.return)),r&64&&An&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var o=nn;if(Tt(t,e),xt(e),r&512&&(Ze||n===null||dn(n,n.return)),r&4){var u=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":u=o.getElementsByTagName("title")[0],(!u||u[$r]||u[lt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(r),o.head.insertBefore(u,o.querySelector("head > title"))),dt(u,r,n),u[lt]=e,at(u),r=u;break e;case"link":var f=Rg("link","href",o).get(r+(n.href||""));if(f){for(var y=0;y<f.length;y++)if(u=f[y],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(y,1);break t}}u=o.createElement(r),dt(u,r,n),o.head.appendChild(u);break;case"meta":if(f=Rg("meta","content",o).get(r+(n.content||""))){for(y=0;y<f.length;y++)if(u=f[y],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(y,1);break t}}u=o.createElement(r),dt(u,r,n),o.head.appendChild(u);break;default:throw Error(s(468,r))}u[lt]=e,at(u),r=u}e.stateNode=r}else Cg(o,e.type,e.stateNode);else e.stateNode=jg(o,r,e.memoizedProps);else u!==r?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,r===null?Cg(o,e.type,e.stateNode):jg(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&gu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Tt(t,e),xt(e),r&512&&(Ze||n===null||dn(n,n.return)),n!==null&&r&4&&gu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Tt(t,e),xt(e),r&512&&(Ze||n===null||dn(n,n.return)),e.flags&32){o=e.stateNode;try{Qa(o,"")}catch(J){Ae(e,e.return,J)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,gu(e,o,n!==null?n.memoizedProps:o)),r&1024&&(yu=!0);break;case 6:if(Tt(t,e),xt(e),r&4){if(e.stateNode===null)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(J){Ae(e,e.return,J)}}break;case 3:if(tl=null,o=nn,nn=Ws(t.containerInfo),Tt(t,e),nn=o,xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tr(t.containerInfo)}catch(J){Ae(e,e.return,J)}yu&&(yu=!1,Cf(e));break;case 4:r=nn,nn=Ws(e.stateNode.containerInfo),Tt(t,e),xt(e),nn=r;break;case 12:Tt(t,e),xt(e);break;case 31:Tt(t,e),xt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ls(e,r)));break;case 13:Tt(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Gs=pt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ls(e,r)));break;case 22:o=e.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,R=An,z=Ze;if(An=R||o,Ze=z||w,Tt(t,e),Ze=z,An=R,xt(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||w||An||Ze||Aa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){w=n=t;try{if(u=w.stateNode,o)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=w.stateNode;var q=w.memoizedProps.style,C=q!=null&&q.hasOwnProperty("display")?q.display:null;y.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(J){Ae(w,w.return,J)}}}else if(t.tag===6){if(n===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(J){Ae(w,w.return,J)}}}else if(t.tag===18){if(n===null){w=t;try{var k=w.stateNode;o?bg(k,!0):bg(w.stateNode,!1)}catch(J){Ae(w,w.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Ls(e,n))));break;case 19:Tt(t,e),xt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ls(e,r)));break;case 30:break;case 21:break;default:Tt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(wf(r)){n=r;break}r=r.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode,u=mu(e);qs(e,u,o);break;case 5:var f=n.stateNode;n.flags&32&&(Qa(f,""),n.flags&=-33);var y=mu(e);qs(e,y,f);break;case 3:case 4:var w=n.stateNode.containerInfo,R=mu(e);vu(e,R,w);break;default:throw Error(s(161))}}catch(z){Ae(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function jn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Tf(e,t.alternate,t),t=t.sibling}function Aa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Xn(4,t,t.return),Aa(t);break;case 1:dn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&bf(t,t.return,n),Aa(t);break;case 27:Ti(t.stateNode);case 26:case 5:dn(t,t.return),Aa(t);break;case 22:t.memoizedState===null&&Aa(t);break;case 30:Aa(t);break;default:Aa(t)}e=e.sibling}}function Rn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,u=t,f=u.flags;switch(u.tag){case 0:case 11:case 15:Rn(o,u,n),gi(4,u);break;case 1:if(Rn(o,u,n),r=u,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){Ae(r,r.return,R)}if(r=u,o=r.updateQueue,o!==null){var y=r.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)sh(w[o],y)}catch(R){Ae(r,r.return,R)}}n&&f&64&&pf(u),mi(u,u.return);break;case 27:Sf(u);case 26:case 5:Rn(o,u,n),n&&r===null&&f&4&&_f(u),mi(u,u.return);break;case 12:Rn(o,u,n);break;case 31:Rn(o,u,n),n&&f&4&&Of(o,u);break;case 13:Rn(o,u,n),n&&f&4&&jf(o,u);break;case 22:u.memoizedState===null&&Rn(o,u,n),mi(u,u.return);break;case 30:break;default:Rn(o,u,n)}t=t.sibling}}function pu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ti(n))}function bu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ti(e))}function an(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kf(e,t,n,r),t=t.sibling}function kf(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:an(e,t,n,r),o&2048&&gi(9,t);break;case 1:an(e,t,n,r);break;case 3:an(e,t,n,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ti(e)));break;case 12:if(o&2048){an(e,t,n,r),e=t.stateNode;try{var u=t.memoizedProps,f=u.id,y=u.onPostCommit;typeof y=="function"&&y(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ae(t,t.return,w)}}else an(e,t,n,r);break;case 31:an(e,t,n,r);break;case 13:an(e,t,n,r);break;case 23:break;case 22:u=t.stateNode,f=t.alternate,t.memoizedState!==null?u._visibility&2?an(e,t,n,r):vi(e,t):u._visibility&2?an(e,t,n,r):(u._visibility|=2,fr(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&pu(f,t);break;case 24:an(e,t,n,r),o&2048&&bu(t.alternate,t);break;default:an(e,t,n,r)}}function fr(e,t,n,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,f=t,y=n,w=r,R=f.flags;switch(f.tag){case 0:case 11:case 15:fr(u,f,y,w,o),gi(8,f);break;case 23:break;case 22:var z=f.stateNode;f.memoizedState!==null?z._visibility&2?fr(u,f,y,w,o):vi(u,f):(z._visibility|=2,fr(u,f,y,w,o)),o&&R&2048&&pu(f.alternate,f);break;case 24:fr(u,f,y,w,o),o&&R&2048&&bu(f.alternate,f);break;default:fr(u,f,y,w,o)}t=t.sibling}}function vi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:vi(n,r),o&2048&&pu(r.alternate,r);break;case 24:vi(n,r),o&2048&&bu(r.alternate,r);break;default:vi(n,r)}t=t.sibling}}var yi=8192;function gr(e,t,n){if(e.subtreeFlags&yi)for(e=e.child;e!==null;)Nf(e,t,n),e=e.sibling}function Nf(e,t,n){switch(e.tag){case 26:gr(e,t,n),e.flags&yi&&e.memoizedState!==null&&_p(n,nn,e.memoizedState,e.memoizedProps);break;case 5:gr(e,t,n);break;case 3:case 4:var r=nn;nn=Ws(e.stateNode.containerInfo),gr(e,t,n),nn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=yi,yi=16777216,gr(e,t,n),yi=r):gr(e,t,n));break;default:gr(e,t,n)}}function Df(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];rt=r,zf(r,e)}Df(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uf(e),e=e.sibling}function Uf(e){switch(e.tag){case 0:case 11:case 15:pi(e),e.flags&2048&&Xn(9,e,e.return);break;case 3:pi(e);break;case 12:pi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hs(e)):pi(e);break;default:pi(e)}}function Hs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];rt=r,zf(r,e)}Df(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Xn(8,t,t.return),Hs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Hs(t));break;default:Hs(t)}e=e.sibling}}function zf(e,t){for(;rt!==null;){var n=rt;switch(n.tag){case 0:case 11:case 15:Xn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ti(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,rt=r;else e:for(n=e;rt!==null;){r=rt;var o=r.sibling,u=r.return;if(xf(r),r===n){rt=null;break e}if(o!==null){o.return=u,rt=o;break e}rt=u}}}var zy={getCacheForType:function(e){var t=ut(Qe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ut(Qe).controller.signal}},My=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Ne=null,fe=null,me=0,xe=0,qt=null,Jn=!1,mr=!1,_u=!1,Cn=0,Ye=0,Zn=0,Oa=0,wu=0,Lt=0,vr=0,bi=null,At=null,Su=!1,Gs=0,Mf=0,$s=1/0,Vs=null,Fn=null,tt=0,Pn=null,yr=null,kn=0,Eu=0,Tu=null,Bf=null,_i=0,xu=null;function Ht(){return(Ee&2)!==0&&me!==0?me&-me:D.T!==null?ku():Pc()}function qf(){if(Lt===0)if((me&536870912)===0||ye){var e=Fi;Fi<<=1,(Fi&3932160)===0&&(Fi=262144),Lt=e}else Lt=536870912;return e=Mt.current,e!==null&&(e.flags|=32),Lt}function Ot(e,t,n){(e===Ne&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(pr(e,0),Wn(e,me,Lt,!1)),Gr(e,n),((Ee&2)===0||e!==Ne)&&(e===Ne&&((Ee&2)===0&&(Oa|=n),Ye===4&&Wn(e,me,Lt,!1)),hn(e))}function Lf(e,t,n){if((Ee&6)!==0)throw Error(s(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Hr(e,t),o=r?Ly(e,t):Ou(e,t,!0),u=r;do{if(o===0){mr&&!r&&Wn(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!By(n)){o=Ou(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var y=e;o=bi;var w=y.current.memoizedState.isDehydrated;if(w&&(pr(y,f).flags|=256),f=Ou(y,f,!1),f!==2){if(_u&&!w){y.errorRecoveryDisabledLanes|=u,Oa|=u,o=4;break e}u=At,At=o,u!==null&&(At===null?At=u:At.push.apply(At,u))}o=f}if(u=!1,o!==2)continue}}if(o===1){pr(e,0),Wn(e,t,0,!0);break}e:{switch(r=e,u=o,u){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Wn(r,t,Lt,!Jn);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=Gs+300-pt(),10<o)){if(Wn(r,t,Lt,!Jn),Wi(r,0,!0)!==0)break e;kn=t,r.timeoutHandle=vg(Hf.bind(null,r,n,At,Vs,Su,t,Lt,Oa,vr,Jn,u,"Throttled",-0,0),o);break e}Hf(r,n,At,Vs,Su,t,Lt,Oa,vr,Jn,u,null,-0,0)}}break}while(!0);hn(e)}function Hf(e,t,n,r,o,u,f,y,w,R,z,q,C,k){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vn},Nf(t,u,q);var J=(u&62914560)===u?Gs-pt():(u&4194048)===u?Mf-pt():0;if(J=wp(q,J),J!==null){kn=u,e.cancelPendingCommit=J(Xf.bind(null,e,t,u,n,r,o,f,y,w,z,q,null,C,k)),Wn(e,u,f,!R);return}}Xf(e,t,u,n,r,o,f,y,w)}function By(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var o=n[r],u=o.getSnapshot;o=o.value;try{if(!Ut(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t,n,r){t&=~wu,t&=~Oa,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var u=31-Dt(o),f=1<<u;r[u]=-1,o&=~f}n!==0&&Jc(e,n,t)}function Ys(){return(Ee&6)===0?(wi(0),!1):!0}function Au(){if(fe!==null){if(xe===0)var e=fe.return;else e=fe,_n=pa=null,$o(e),or=null,ai=0,e=fe;for(;e!==null;)yf(e.alternate,e),e=e.return;fe=null}}function pr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,ap(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),kn=0,Au(),Ne=e,fe=n=pn(e.current,null),me=t,xe=0,qt=null,Jn=!1,mr=Hr(e,t),_u=!1,vr=Lt=wu=Oa=Zn=Ye=0,At=bi=null,Su=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-Dt(r),u=1<<o;t|=e[o],r&=~u}return Cn=t,ds(),n}function Gf(e,t){ue=null,D.H=di,t===lr||t===bs?(t=nh(),xe=3):t===Co?(t=nh(),xe=4):xe=t===ru?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,qt=t,fe===null&&(Ye=1,Ds(e,Qt(t,e.current)))}function $f(){var e=Mt.current;return e===null?!0:(me&4194048)===me?Ft===null:(me&62914560)===me||(me&536870912)!==0?e===Ft:!1}function Vf(){var e=D.H;return D.H=di,e===null?di:e}function Yf(){var e=D.A;return D.A=zy,e}function Ks(){Ye=4,Jn||(me&4194048)!==me&&Mt.current!==null||(mr=!0),(Zn&134217727)===0&&(Oa&134217727)===0||Ne===null||Wn(Ne,me,Lt,!1)}function Ou(e,t,n){var r=Ee;Ee|=2;var o=Vf(),u=Yf();(Ne!==e||me!==t)&&(Vs=null,pr(e,t)),t=!1;var f=Ye;e:do try{if(xe!==0&&fe!==null){var y=fe,w=qt;switch(xe){case 8:Au(),f=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(t=!0);var R=xe;if(xe=0,qt=null,br(e,y,w,R),n&&mr){f=0;break e}break;default:R=xe,xe=0,qt=null,br(e,y,w,R)}}qy(),f=Ye;break}catch(z){Gf(e,z)}while(!0);return t&&e.shellSuspendCounter++,_n=pa=null,Ee=r,D.H=o,D.A=u,fe===null&&(Ne=null,me=0,ds()),f}function qy(){for(;fe!==null;)Kf(fe)}function Ly(e,t){var n=Ee;Ee|=2;var r=Vf(),o=Yf();Ne!==e||me!==t?(Vs=null,$s=pt()+500,pr(e,t)):mr=Hr(e,t);e:do try{if(xe!==0&&fe!==null){t=fe;var u=qt;t:switch(xe){case 1:xe=0,qt=null,br(e,t,u,1);break;case 2:case 9:if(eh(u)){xe=0,qt=null,If(t);break}t=function(){xe!==2&&xe!==9||Ne!==e||(xe=7),hn(e)},u.then(t,t);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:eh(u)?(xe=0,qt=null,If(t)):(xe=0,qt=null,br(e,t,u,7));break;case 5:var f=null;switch(fe.tag){case 26:f=fe.memoizedState;case 5:case 27:var y=fe;if(f?kg(f):y.stateNode.complete){xe=0,qt=null;var w=y.sibling;if(w!==null)fe=w;else{var R=y.return;R!==null?(fe=R,Is(R)):fe=null}break t}}xe=0,qt=null,br(e,t,u,5);break;case 6:xe=0,qt=null,br(e,t,u,6);break;case 8:Au(),Ye=6;break e;default:throw Error(s(462))}}Hy();break}catch(z){Gf(e,z)}while(!0);return _n=pa=null,D.H=r,D.A=o,Ee=n,fe!==null?0:(Ne=null,me=0,ds(),Ye)}function Hy(){for(;fe!==null&&!Ji();)Kf(fe)}function Kf(e){var t=mf(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,t===null?Is(e):fe=t}function If(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=uf(n,t,t.pendingProps,t.type,void 0,me);break;case 11:t=uf(n,t,t.pendingProps,t.type.render,t.ref,me);break;case 5:$o(t);default:yf(n,t),t=fe=Vd(t,Cn),t=mf(n,t,Cn)}e.memoizedProps=e.pendingProps,t===null?Is(e):fe=t}function br(e,t,n,r){_n=pa=null,$o(t),or=null,ai=0;var o=t.return;try{if(jy(e,o,t,n,me)){Ye=1,Ds(e,Qt(n,e.current)),fe=null;return}}catch(u){if(o!==null)throw fe=o,u;Ye=1,Ds(e,Qt(n,e.current)),fe=null;return}t.flags&32768?(ye||r===1?e=!0:mr||(me&536870912)!==0?e=!1:(Jn=e=!0,(r===2||r===9||r===3||r===6)&&(r=Mt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Qf(t,e)):Is(t)}function Is(e){var t=e;do{if((t.flags&32768)!==0){Qf(t,Jn);return}e=t.return;var n=ky(t.alternate,t,Cn);if(n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);Ye===0&&(Ye=5)}function Qf(e,t){do{var n=Ny(e.alternate,e);if(n!==null){n.flags&=32767,fe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){fe=e;return}fe=e=n}while(e!==null);Ye=6,fe=null}function Xf(e,t,n,r,o,u,f,y,w){e.cancelPendingCommit=null;do Qs();while(tt!==0);if((Ee&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(u=t.lanes|t.childLanes,u|=mo,bv(e,n,u,f,y,w),e===Ne&&(fe=Ne=null,me=0),yr=t,Pn=e,kn=n,Eu=u,Tu=o,Bf=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yy(Oe,function(){return Wf(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=D.T,D.T=null,o=$.p,$.p=2,f=Ee,Ee|=4;try{Dy(e,t,n)}finally{Ee=f,$.p=o,D.T=r}}tt=1,Jf(),Zf(),Ff()}}function Jf(){if(tt===1){tt=0;var e=Pn,t=yr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=D.T,D.T=null;var r=$.p;$.p=2;var o=Ee;Ee|=4;try{Rf(t,e);var u=Lu,f=Ud(e.containerInfo),y=u.focusedElem,w=u.selectionRange;if(f!==y&&y&&y.ownerDocument&&Dd(y.ownerDocument.documentElement,y)){if(w!==null&&uo(y)){var R=w.start,z=w.end;if(z===void 0&&(z=R),"selectionStart"in y)y.selectionStart=R,y.selectionEnd=Math.min(z,y.value.length);else{var q=y.ownerDocument||document,C=q&&q.defaultView||window;if(C.getSelection){var k=C.getSelection(),J=y.textContent.length,ne=Math.min(w.start,J),Ce=w.end===void 0?ne:Math.min(w.end,J);!k.extend&&ne>Ce&&(f=Ce,Ce=ne,ne=f);var A=Nd(y,ne),E=Nd(y,Ce);if(A&&E&&(k.rangeCount!==1||k.anchorNode!==A.node||k.anchorOffset!==A.offset||k.focusNode!==E.node||k.focusOffset!==E.offset)){var j=q.createRange();j.setStart(A.node,A.offset),k.removeAllRanges(),ne>Ce?(k.addRange(j),k.extend(E.node,E.offset)):(j.setEnd(E.node,E.offset),k.addRange(j))}}}}for(q=[],k=y;k=k.parentNode;)k.nodeType===1&&q.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<q.length;y++){var B=q[y];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}il=!!qu,Lu=qu=null}finally{Ee=o,$.p=r,D.T=n}}e.current=t,tt=2}}function Zf(){if(tt===2){tt=0;var e=Pn,t=yr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=D.T,D.T=null;var r=$.p;$.p=2;var o=Ee;Ee|=4;try{Tf(e,t.alternate,t)}finally{Ee=o,$.p=r,D.T=n}}tt=3}}function Ff(){if(tt===4||tt===3){tt=0,Gl();var e=Pn,t=yr,n=kn,r=Bf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,yr=Pn=null,Pf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Fn=null),Yl(n),t=t.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot($e,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=D.T,o=$.p,$.p=2,D.T=null;try{for(var u=e.onRecoverableError,f=0;f<r.length;f++){var y=r[f];u(y.value,{componentStack:y.stack})}}finally{D.T=t,$.p=o}}(kn&3)!==0&&Qs(),hn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===xu?_i++:(_i=0,xu=e):_i=0,wi(0)}}function Pf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ti(t)))}function Qs(){return Jf(),Zf(),Ff(),Wf()}function Wf(){if(tt!==5)return!1;var e=Pn,t=Eu;Eu=0;var n=Yl(kn),r=D.T,o=$.p;try{$.p=32>n?32:n,D.T=null,n=Tu,Tu=null;var u=Pn,f=kn;if(tt=0,yr=Pn=null,kn=0,(Ee&6)!==0)throw Error(s(331));var y=Ee;if(Ee|=4,Uf(u.current),kf(u,u.current,f,n),Ee=y,wi(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot($e,u)}catch{}return!0}finally{$.p=o,D.T=r,Pf(e,t)}}function eg(e,t,n){t=Qt(n,t),t=au(e.stateNode,t,2),e=Kn(e,t,2),e!==null&&(Gr(e,2),hn(e))}function Ae(e,t,n){if(e.tag===3)eg(e,e,n);else for(;t!==null;){if(t.tag===3){eg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fn===null||!Fn.has(r))){e=Qt(n,e),n=ef(2),r=Kn(t,n,2),r!==null&&(tf(n,r,t,e),Gr(r,2),hn(r));break}}t=t.return}}function ju(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new My;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(_u=!0,o.add(n),e=Gy.bind(null,e,t,n),t.then(e,e))}function Gy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ne===e&&(me&n)===n&&(Ye===4||Ye===3&&(me&62914560)===me&&300>pt()-Gs?(Ee&2)===0&&pr(e,0):wu|=n,vr===me&&(vr=0)),hn(e)}function tg(e,t){t===0&&(t=Xc()),e=ma(e,t),e!==null&&(Gr(e,t),hn(e))}function $y(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),tg(e,n)}function Vy(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(t),tg(e,n)}function Yy(e,t){return La(e,t)}var Xs=null,_r=null,Ru=!1,Js=!1,Cu=!1,ea=0;function hn(e){e!==_r&&e.next===null&&(_r===null?Xs=_r=e:_r=_r.next=e),Js=!0,Ru||(Ru=!0,Iy())}function wi(e,t){if(!Cu&&Js){Cu=!0;do for(var n=!1,r=Xs;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var u=0;else{var f=r.suspendedLanes,y=r.pingedLanes;u=(1<<31-Dt(42|e)+1)-1,u&=o&~(f&~y),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,ig(r,u))}else u=me,u=Wi(r,r===Ne?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Hr(r,u)||(n=!0,ig(r,u));r=r.next}while(n);Cu=!1}}function Ky(){ng()}function ng(){Js=Ru=!1;var e=0;ea!==0&&np()&&(e=ea);for(var t=pt(),n=null,r=Xs;r!==null;){var o=r.next,u=ag(r,t);u===0?(r.next=null,n===null?Xs=o:n.next=o,o===null&&(_r=n)):(n=r,(e!==0||(u&3)!==0)&&(Js=!0)),r=o}tt!==0&&tt!==5||wi(e),ea!==0&&(ea=0)}function ag(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var f=31-Dt(u),y=1<<f,w=o[f];w===-1?((y&n)===0||(y&r)!==0)&&(o[f]=pv(y,t)):w<=t&&(e.expiredLanes|=y),u&=~y}if(t=Ne,n=me,n=Wi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ha(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Hr(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ha(r),Yl(n)){case 2:case 8:n=F;break;case 32:n=Oe;break;case 268435456:n=se;break;default:n=Oe}return r=rg.bind(null,e),n=La(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Ha(r),e.callbackPriority=2,e.callbackNode=null,2}function rg(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var r=me;return r=Wi(e,e===Ne?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Lf(e,r,t),ag(e,pt()),e.callbackNode!=null&&e.callbackNode===n?rg.bind(null,e):null)}function ig(e,t){if(Qs())return null;Lf(e,t,!0)}function Iy(){rp(function(){(Ee&6)!==0?La(K,Ky):ng()})}function ku(){if(ea===0){var e=ir;e===0&&(e=Zi,Zi<<=1,(Zi&261888)===0&&(Zi=256)),ea=e}return ea}function sg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:as(""+e)}function lg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Qy(e,t,n,r,o){if(t==="submit"&&n&&n.stateNode===o){var u=sg((o[wt]||null).action),f=r.submitter;f&&(t=(t=f[wt]||null)?sg(t.formAction):f.getAttribute("formAction"),t!==null&&(u=t,f=null));var y=new ls("action","action",null,r,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ea!==0){var w=f?lg(o,f):new FormData(o);Fo(n,{pending:!0,data:w,method:o.method,action:u},null,w)}}else typeof u=="function"&&(y.preventDefault(),w=f?lg(o,f):new FormData(o),Fo(n,{pending:!0,data:w,method:o.method,action:u},u,w))},currentTarget:o}]})}}for(var Nu=0;Nu<go.length;Nu++){var Du=go[Nu],Xy=Du.toLowerCase(),Jy=Du[0].toUpperCase()+Du.slice(1);tn(Xy,"on"+Jy)}tn(Bd,"onAnimationEnd"),tn(qd,"onAnimationIteration"),tn(Ld,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(dy,"onTransitionRun"),tn(hy,"onTransitionStart"),tn(fy,"onTransitionCancel"),tn(Hd,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Si));function og(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var f=r.length-1;0<=f;f--){var y=r[f],w=y.instance,R=y.currentTarget;if(y=y.listener,w!==u&&o.isPropagationStopped())break e;u=y,o.currentTarget=R;try{u(o)}catch(z){cs(z)}o.currentTarget=null,u=w}else for(f=0;f<r.length;f++){if(y=r[f],w=y.instance,R=y.currentTarget,y=y.listener,w!==u&&o.isPropagationStopped())break e;u=y,o.currentTarget=R;try{u(o)}catch(z){cs(z)}o.currentTarget=null,u=w}}}}function ge(e,t){var n=t[Kl];n===void 0&&(n=t[Kl]=new Set);var r=e+"__bubble";n.has(r)||(ug(t,e,2,!1),n.add(r))}function Uu(e,t,n){var r=0;t&&(r|=4),ug(n,e,r,t)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Zs]){e[Zs]=!0,td.forEach(function(n){n!=="selectionchange"&&(Zy.has(n)||Uu(n,!1,e),Uu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zs]||(t[Zs]=!0,Uu("selectionchange",!1,t))}}function ug(e,t,n,r){switch(qg(t)){case 2:var o=Tp;break;case 8:o=xp;break;default:o=Zu}n=o.bind(null,t,n,e),o=void 0,!eo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Mu(e,t,n,r,o){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var f=r.tag;if(f===3||f===4){var y=r.stateNode.containerInfo;if(y===o)break;if(f===4)for(f=r.return;f!==null;){var w=f.tag;if((w===3||w===4)&&f.stateNode.containerInfo===o)return;f=f.return}for(;y!==null;){if(f=$a(y),f===null)return;if(w=f.tag,w===5||w===6||w===26||w===27){r=u=f;continue e}y=y.parentNode}}r=r.return}fd(function(){var R=u,z=Pl(n),q=[];e:{var C=Gd.get(e);if(C!==void 0){var k=ls,J=e;switch(e){case"keypress":if(is(n)===0)break e;case"keydown":case"keyup":k=Vv;break;case"focusin":J="focus",k=ro;break;case"focusout":J="blur",k=ro;break;case"beforeblur":case"afterblur":k=ro;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Iv;break;case Bd:case qd:case Ld:k=Uv;break;case Hd:k=Xv;break;case"scroll":case"scrollend":k=Rv;break;case"wheel":k=Zv;break;case"copy":case"cut":case"paste":k=Mv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=pd;break;case"toggle":case"beforetoggle":k=Pv}var ne=(t&4)!==0,Ce=!ne&&(e==="scroll"||e==="scrollend"),A=ne?C!==null?C+"Capture":null:C;ne=[];for(var E=R,j;E!==null;){var B=E;if(j=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||j===null||A===null||(B=Yr(E,A),B!=null&&ne.push(Ei(E,B,j))),Ce)break;E=E.return}0<ne.length&&(C=new k(C,J,null,n,z),q.push({event:C,listeners:ne}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",C&&n!==Fl&&(J=n.relatedTarget||n.fromElement)&&($a(J)||J[Ga]))break e;if((k||C)&&(C=z.window===z?z:(C=z.ownerDocument)?C.defaultView||C.parentWindow:window,k?(J=n.relatedTarget||n.toElement,k=R,J=J?$a(J):null,J!==null&&(Ce=d(J),ne=J.tag,J!==Ce||ne!==5&&ne!==27&&ne!==6)&&(J=null)):(k=null,J=R),k!==J)){if(ne=vd,B="onMouseLeave",A="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ne=pd,B="onPointerLeave",A="onPointerEnter",E="pointer"),Ce=k==null?C:Vr(k),j=J==null?C:Vr(J),C=new ne(B,E+"leave",k,n,z),C.target=Ce,C.relatedTarget=j,B=null,$a(z)===R&&(ne=new ne(A,E+"enter",J,n,z),ne.target=j,ne.relatedTarget=Ce,B=ne),Ce=B,k&&J)t:{for(ne=Fy,A=k,E=J,j=0,B=A;B;B=ne(B))j++;B=0;for(var ee=E;ee;ee=ne(ee))B++;for(;0<j-B;)A=ne(A),j--;for(;0<B-j;)E=ne(E),B--;for(;j--;){if(A===E||E!==null&&A===E.alternate){ne=A;break t}A=ne(A),E=ne(E)}ne=null}else ne=null;k!==null&&cg(q,C,k,ne,!1),J!==null&&Ce!==null&&cg(q,Ce,J,ne,!0)}}e:{if(C=R?Vr(R):window,k=C.nodeName&&C.nodeName.toLowerCase(),k==="select"||k==="input"&&C.type==="file")var _e=Ad;else if(Td(C))if(Od)_e=oy;else{_e=sy;var P=iy}else k=C.nodeName,!k||k.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?R&&Zl(R.elementType)&&(_e=Ad):_e=ly;if(_e&&(_e=_e(e,R))){xd(q,_e,n,z);break e}P&&P(e,C,R),e==="focusout"&&R&&C.type==="number"&&R.memoizedProps.value!=null&&Jl(C,"number",C.value)}switch(P=R?Vr(R):window,e){case"focusin":(Td(P)||P.contentEditable==="true")&&(Fa=P,co=R,Pr=null);break;case"focusout":Pr=co=Fa=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,zd(q,n,z);break;case"selectionchange":if(cy)break;case"keydown":case"keyup":zd(q,n,z)}var de;if(so)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Za?Sd(e,n)&&(ve="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ve="onCompositionStart");ve&&(bd&&n.locale!=="ko"&&(Za||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Za&&(de=gd()):(qn=z,to="value"in qn?qn.value:qn.textContent,Za=!0)),P=Fs(R,ve),0<P.length&&(ve=new yd(ve,e,null,n,z),q.push({event:ve,listeners:P}),de?ve.data=de:(de=Ed(n),de!==null&&(ve.data=de)))),(de=ey?ty(e,n):ny(e,n))&&(ve=Fs(R,"onBeforeInput"),0<ve.length&&(P=new yd("onBeforeInput","beforeinput",null,n,z),q.push({event:P,listeners:ve}),P.data=de)),Qy(q,e,R,n,z)}og(q,t)})}function Ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fs(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Yr(e,n),o!=null&&r.unshift(Ei(e,o,u)),o=Yr(e,t),o!=null&&r.push(Ei(e,o,u))),e.tag===3)return r;e=e.return}return[]}function Fy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cg(e,t,n,r,o){for(var u=t._reactName,f=[];n!==null&&n!==r;){var y=n,w=y.alternate,R=y.stateNode;if(y=y.tag,w!==null&&w===r)break;y!==5&&y!==26&&y!==27||R===null||(w=R,o?(R=Yr(n,u),R!=null&&f.unshift(Ei(n,R,w))):o||(R=Yr(n,u),R!=null&&f.push(Ei(n,R,w)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var Py=/\r\n?/g,Wy=/\u0000|\uFFFD/g;function dg(e){return(typeof e=="string"?e:""+e).replace(Py,`
`).replace(Wy,"")}function hg(e,t){return t=dg(t),dg(e)===t}function Re(e,t,n,r,o,u){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Qa(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Qa(e,""+r);break;case"className":ts(e,"class",r);break;case"tabIndex":ts(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ts(e,n,r);break;case"style":dd(e,r,u);break;case"data":if(t!=="object"){ts(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=as(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Re(e,t,"name",o.name,o,null),Re(e,t,"formEncType",o.formEncType,o,null),Re(e,t,"formMethod",o.formMethod,o,null),Re(e,t,"formTarget",o.formTarget,o,null)):(Re(e,t,"encType",o.encType,o,null),Re(e,t,"method",o.method,o,null),Re(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=as(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=vn);break;case"onScroll":r!=null&&ge("scroll",e);break;case"onScrollEnd":r!=null&&ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=as(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":ge("beforetoggle",e),ge("toggle",e),es(e,"popover",r);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":es(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ov.get(n)||n,es(e,n,r))}}function Bu(e,t,n,r,o,u){switch(n){case"style":dd(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Qa(e,r):(typeof r=="number"||typeof r=="bigint")&&Qa(e,""+r);break;case"onScroll":r!=null&&ge("scroll",e);break;case"onScrollEnd":r!=null&&ge("scrollend",e);break;case"onClick":r!=null&&(e.onclick=vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[wt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof r=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):es(e,n,r)}}}function dt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",e),ge("load",e);var r=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var f=n[u];if(f!=null)switch(u){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Re(e,t,u,f,n,null)}}o&&Re(e,t,"srcSet",n.srcSet,n,null),r&&Re(e,t,"src",n.src,n,null);return;case"input":ge("invalid",e);var y=u=f=o=null,w=null,R=null;for(r in n)if(n.hasOwnProperty(r)){var z=n[r];if(z!=null)switch(r){case"name":o=z;break;case"type":f=z;break;case"checked":w=z;break;case"defaultChecked":R=z;break;case"value":u=z;break;case"defaultValue":y=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,t));break;default:Re(e,t,r,z,n,null)}}ld(e,u,y,w,R,f,o,!1);return;case"select":ge("invalid",e),r=f=u=null;for(o in n)if(n.hasOwnProperty(o)&&(y=n[o],y!=null))switch(o){case"value":u=y;break;case"defaultValue":f=y;break;case"multiple":r=y;default:Re(e,t,o,y,n,null)}t=u,n=f,e.multiple=!!r,t!=null?Ia(e,!!r,t,!1):n!=null&&Ia(e,!!r,n,!0);return;case"textarea":ge("invalid",e),u=o=r=null;for(f in n)if(n.hasOwnProperty(f)&&(y=n[f],y!=null))switch(f){case"value":r=y;break;case"defaultValue":o=y;break;case"children":u=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:Re(e,t,f,y,n,null)}ud(e,r,o,u);return;case"option":for(w in n)if(n.hasOwnProperty(w)&&(r=n[w],r!=null))switch(w){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Re(e,t,w,r,n,null)}return;case"dialog":ge("beforetoggle",e),ge("toggle",e),ge("cancel",e),ge("close",e);break;case"iframe":case"object":ge("load",e);break;case"video":case"audio":for(r=0;r<Si.length;r++)ge(Si[r],e);break;case"image":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"embed":case"source":case"link":ge("error",e),ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(r=n[R],r!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Re(e,t,R,r,n,null)}return;default:if(Zl(t)){for(z in n)n.hasOwnProperty(z)&&(r=n[z],r!==void 0&&Bu(e,t,z,r,n,void 0));return}}for(y in n)n.hasOwnProperty(y)&&(r=n[y],r!=null&&Re(e,t,y,r,n,null))}function ep(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,f=null,y=null,w=null,R=null,z=null;for(k in n){var q=n[k];if(n.hasOwnProperty(k)&&q!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":w=q;default:r.hasOwnProperty(k)||Re(e,t,k,null,r,q)}}for(var C in r){var k=r[C];if(q=n[C],r.hasOwnProperty(C)&&(k!=null||q!=null))switch(C){case"type":u=k;break;case"name":o=k;break;case"checked":R=k;break;case"defaultChecked":z=k;break;case"value":f=k;break;case"defaultValue":y=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,t));break;default:k!==q&&Re(e,t,C,k,r,q)}}Xl(e,f,y,w,R,z,u,o);return;case"select":k=f=y=C=null;for(u in n)if(w=n[u],n.hasOwnProperty(u)&&w!=null)switch(u){case"value":break;case"multiple":k=w;default:r.hasOwnProperty(u)||Re(e,t,u,null,r,w)}for(o in r)if(u=r[o],w=n[o],r.hasOwnProperty(o)&&(u!=null||w!=null))switch(o){case"value":C=u;break;case"defaultValue":y=u;break;case"multiple":f=u;default:u!==w&&Re(e,t,o,u,r,w)}t=y,n=f,r=k,C!=null?Ia(e,!!n,C,!1):!!r!=!!n&&(t!=null?Ia(e,!!n,t,!0):Ia(e,!!n,n?[]:"",!1));return;case"textarea":k=C=null;for(y in n)if(o=n[y],n.hasOwnProperty(y)&&o!=null&&!r.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Re(e,t,y,null,r,o)}for(f in r)if(o=r[f],u=n[f],r.hasOwnProperty(f)&&(o!=null||u!=null))switch(f){case"value":C=o;break;case"defaultValue":k=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==u&&Re(e,t,f,o,r,u)}od(e,C,k);return;case"option":for(var J in n)if(C=n[J],n.hasOwnProperty(J)&&C!=null&&!r.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Re(e,t,J,null,r,C)}for(w in r)if(C=r[w],k=n[w],r.hasOwnProperty(w)&&C!==k&&(C!=null||k!=null))switch(w){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Re(e,t,w,C,r,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in n)C=n[ne],n.hasOwnProperty(ne)&&C!=null&&!r.hasOwnProperty(ne)&&Re(e,t,ne,null,r,C);for(R in r)if(C=r[R],k=n[R],r.hasOwnProperty(R)&&C!==k&&(C!=null||k!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(137,t));break;default:Re(e,t,R,C,r,k)}return;default:if(Zl(t)){for(var Ce in n)C=n[Ce],n.hasOwnProperty(Ce)&&C!==void 0&&!r.hasOwnProperty(Ce)&&Bu(e,t,Ce,void 0,r,C);for(z in r)C=r[z],k=n[z],!r.hasOwnProperty(z)||C===k||C===void 0&&k===void 0||Bu(e,t,z,C,r,k);return}}for(var A in n)C=n[A],n.hasOwnProperty(A)&&C!=null&&!r.hasOwnProperty(A)&&Re(e,t,A,null,r,C);for(q in r)C=r[q],k=n[q],!r.hasOwnProperty(q)||C===k||C==null&&k==null||Re(e,t,q,C,r,k)}function fg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],u=o.transferSize,f=o.initiatorType,y=o.duration;if(u&&y&&fg(f)){for(f=0,y=o.responseEnd,r+=1;r<n.length;r++){var w=n[r],R=w.startTime;if(R>y)break;var z=w.transferSize,q=w.initiatorType;z&&fg(q)&&(w=w.responseEnd,f+=z*(w<y?1:(y-R)/(w-R)))}if(--r,t+=8*(u+f)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qu=null,Lu=null;function Ps(e){return e.nodeType===9?e:e.ownerDocument}function gg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gu=null;function np(){var e=window.event;return e&&e.type==="popstate"?e===Gu?!1:(Gu=e,!0):(Gu=null,!1)}var vg=typeof setTimeout=="function"?setTimeout:void 0,ap=typeof clearTimeout=="function"?clearTimeout:void 0,yg=typeof Promise=="function"?Promise:void 0,rp=typeof queueMicrotask=="function"?queueMicrotask:typeof yg<"u"?function(e){return yg.resolve(null).then(e).catch(ip)}:vg;function ip(e){setTimeout(function(){throw e})}function ta(e){return e==="head"}function pg(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(o),Tr(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Ti(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ti(n);for(var u=n.firstChild;u;){var f=u.nextSibling,y=u.nodeName;u[$r]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=f}}else n==="body"&&Ti(e.ownerDocument.body);n=o}while(n);Tr(t)}function bg(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function $u(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":$u(n),Il(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function sp(e,t,n,r){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[$r])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function lp(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pt(e.nextSibling),e===null))return null;return e}function _g(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pt(e.nextSibling),e===null))return null;return e}function Vu(e){return e.data==="$?"||e.data==="$~"}function Yu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function op(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ku=null;function wg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Pt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Sg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Eg(e,t,n){switch(t=Ps(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ti(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Il(e)}var Wt=new Map,Tg=new Set;function Ws(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Nn=$.d;$.d={f:up,r:cp,D:dp,C:hp,L:fp,m:gp,X:vp,S:mp,M:yp};function up(){var e=Nn.f(),t=Ys();return e||t}function cp(e){var t=Va(e);t!==null&&t.tag===5&&t.type==="form"?Hh(t):Nn.r(e)}var wr=typeof document>"u"?null:document;function xg(e,t,n){var r=wr;if(r&&typeof t=="string"&&t){var o=Kt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Tg.has(o)||(Tg.add(o),e={rel:e,crossOrigin:n,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),dt(t,"link",e),at(t),r.head.appendChild(t)))}}function dp(e){Nn.D(e),xg("dns-prefetch",e,null)}function hp(e,t){Nn.C(e,t),xg("preconnect",e,t)}function fp(e,t,n){Nn.L(e,t,n);var r=wr;if(r&&e&&t){var o='link[rel="preload"][as="'+Kt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Kt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Kt(n.imageSizes)+'"]')):o+='[href="'+Kt(e)+'"]';var u=o;switch(t){case"style":u=Sr(e);break;case"script":u=Er(e)}Wt.has(u)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Wt.set(u,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(xi(u))||t==="script"&&r.querySelector(Ai(u))||(t=r.createElement("link"),dt(t,"link",e),at(t),r.head.appendChild(t)))}}function gp(e,t){Nn.m(e,t);var n=wr;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Kt(r)+'"][href="'+Kt(e)+'"]',u=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Er(e)}if(!Wt.has(u)&&(e=_({rel:"modulepreload",href:e},t),Wt.set(u,e),n.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ai(u)))return}r=n.createElement("link"),dt(r,"link",e),at(r),n.head.appendChild(r)}}}function mp(e,t,n){Nn.S(e,t,n);var r=wr;if(r&&e){var o=Ya(r).hoistableStyles,u=Sr(e);t=t||"default";var f=o.get(u);if(!f){var y={loading:0,preload:null};if(f=r.querySelector(xi(u)))y.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Wt.get(u))&&Iu(e,n);var w=f=r.createElement("link");at(w),dt(w,"link",e),w._p=new Promise(function(R,z){w.onload=R,w.onerror=z}),w.addEventListener("load",function(){y.loading|=1}),w.addEventListener("error",function(){y.loading|=2}),y.loading|=4,el(f,t,r)}f={type:"stylesheet",instance:f,count:1,state:y},o.set(u,f)}}}function vp(e,t){Nn.X(e,t);var n=wr;if(n&&e){var r=Ya(n).hoistableScripts,o=Er(e),u=r.get(o);u||(u=n.querySelector(Ai(o)),u||(e=_({src:e,async:!0},t),(t=Wt.get(o))&&Qu(e,t),u=n.createElement("script"),at(u),dt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function yp(e,t){Nn.M(e,t);var n=wr;if(n&&e){var r=Ya(n).hoistableScripts,o=Er(e),u=r.get(o);u||(u=n.querySelector(Ai(o)),u||(e=_({src:e,async:!0,type:"module"},t),(t=Wt.get(o))&&Qu(e,t),u=n.createElement("script"),at(u),dt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function Ag(e,t,n,r){var o=(o=ce.current)?Ws(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Sr(n.href),n=Ya(o).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Sr(n.href);var u=Ya(o).hoistableStyles,f=u.get(e);if(f||(o=o.ownerDocument||o,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,f),(u=o.querySelector(xi(e)))&&!u._p&&(f.instance=u,f.state.loading=5),Wt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Wt.set(e,n),u||pp(o,e,n,f.state))),t&&r===null)throw Error(s(528,""));return f}if(t&&r!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Er(n),n=Ya(o).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Sr(e){return'href="'+Kt(e)+'"'}function xi(e){return'link[rel="stylesheet"]['+e+"]"}function Og(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function pp(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),dt(t,"link",n),at(t),e.head.appendChild(t))}function Er(e){return'[src="'+Kt(e)+'"]'}function Ai(e){return"script[async]"+e}function jg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Kt(n.href)+'"]');if(r)return t.instance=r,at(r),r;var o=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),at(r),dt(r,"style",o),el(r,n.precedence,e),t.instance=r;case"stylesheet":o=Sr(n.href);var u=e.querySelector(xi(o));if(u)return t.state.loading|=4,t.instance=u,at(u),u;r=Og(n),(o=Wt.get(o))&&Iu(r,o),u=(e.ownerDocument||e).createElement("link"),at(u);var f=u;return f._p=new Promise(function(y,w){f.onload=y,f.onerror=w}),dt(u,"link",r),t.state.loading|=4,el(u,n.precedence,e),t.instance=u;case"script":return u=Er(n.src),(o=e.querySelector(Ai(u)))?(t.instance=o,at(o),o):(r=n,(o=Wt.get(u))&&(r=_({},n),Qu(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),at(o),dt(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,el(r,n.precedence,e));return t.instance}function el(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,u=o,f=0;f<r.length;f++){var y=r[f];if(y.dataset.precedence===t)u=y;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var tl=null;function Rg(e,t,n){if(tl===null){var r=new Map,o=tl=new Map;o.set(n,r)}else o=tl,r=o.get(n),r||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[$r]||u[lt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var f=u.getAttribute(t)||"";f=e+f;var y=r.get(f);y?y.push(u):r.set(f,[u])}}return r}function Cg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function bp(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function kg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _p(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Sr(r.href),u=t.querySelector(xi(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=nl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,at(u);return}u=t.ownerDocument||t,r=Og(r),(o=Wt.get(o))&&Iu(r,o),u=u.createElement("link"),at(u);var f=u;f._p=new Promise(function(y,w){f.onload=y,f.onerror=w}),dt(u,"link",r),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=nl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Xu=0;function wp(e,t){return e.stylesheets&&e.count===0&&rl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&rl(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Xu===0&&(Xu=62500*tp());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&rl(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Xu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function nl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var al=null;function rl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,al=new Map,t.forEach(Sp,e),al=null,nl.call(e))}function Sp(e,t){if(!(t.state.loading&4)){var n=al.get(e);if(n)var r=n.get(null);else{n=new Map,al.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var f=o[u];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),r=f)}r&&n.set(null,r)}o=t.instance,f=o.getAttribute("data-precedence"),u=n.get(f)||r,u===r&&n.set(null,o),n.set(f,o),this.count++,r=nl.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Oi={$$typeof:L,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Ep(e,t,n,r,o,u,f,y,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$l(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.hiddenUpdates=$l(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Ng(e,t,n,r,o,u,f,y,w,R,z,q){return e=new Ep(e,t,n,f,w,R,z,q,y),t=1,u===!0&&(t|=24),u=zt(3,null,null,t),e.current=u,u.stateNode=e,t=Oo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:n,cache:t},ko(u),e}function Dg(e){return e?(e=er,e):er}function Ug(e,t,n,r,o,u){o=Dg(o),r.context===null?r.context=o:r.pendingContext=o,r=Yn(t),r.payload={element:n},u=u===void 0?null:u,u!==null&&(r.callback=u),n=Kn(e,r,t),n!==null&&(Ot(n,e,t),ii(n,e,t))}function zg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ju(e,t){zg(e,t),(e=e.alternate)&&zg(e,t)}function Mg(e){if(e.tag===13||e.tag===31){var t=ma(e,67108864);t!==null&&Ot(t,e,67108864),Ju(e,67108864)}}function Bg(e){if(e.tag===13||e.tag===31){var t=Ht();t=Vl(t);var n=ma(e,t);n!==null&&Ot(n,e,t),Ju(e,t)}}var il=!0;function Tp(e,t,n,r){var o=D.T;D.T=null;var u=$.p;try{$.p=2,Zu(e,t,n,r)}finally{$.p=u,D.T=o}}function xp(e,t,n,r){var o=D.T;D.T=null;var u=$.p;try{$.p=8,Zu(e,t,n,r)}finally{$.p=u,D.T=o}}function Zu(e,t,n,r){if(il){var o=Fu(r);if(o===null)Mu(e,t,r,sl,n),Lg(e,r);else if(Op(o,e,t,n,r))r.stopPropagation();else if(Lg(e,r),t&4&&-1<Ap.indexOf(e)){for(;o!==null;){var u=Va(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=ca(u.pendingLanes);if(f!==0){var y=u;for(y.pendingLanes|=2,y.entangledLanes|=2;f;){var w=1<<31-Dt(f);y.entanglements[1]|=w,f&=~w}hn(u),(Ee&6)===0&&($s=pt()+500,wi(0))}}break;case 31:case 13:y=ma(u,2),y!==null&&Ot(y,u,2),Ys(),Ju(u,2)}if(u=Fu(r),u===null&&Mu(e,t,r,sl,n),u===o)break;o=u}o!==null&&r.stopPropagation()}else Mu(e,t,r,null,n)}}function Fu(e){return e=Pl(e),Pu(e)}var sl=null;function Pu(e){if(sl=null,e=$a(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sl=e,null}function qg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(G()){case K:return 2;case F:return 8;case Oe:case Se:return 32;case se:return 268435456;default:return 32}default:return 32}}var Wu=!1,na=null,aa=null,ra=null,ji=new Map,Ri=new Map,ia=[],Ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lg(e,t){switch(e){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(t.pointerId)}}function Ci(e,t,n,r,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Va(t),t!==null&&Mg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Op(e,t,n,r,o){switch(t){case"focusin":return na=Ci(na,e,t,n,r,o),!0;case"dragenter":return aa=Ci(aa,e,t,n,r,o),!0;case"mouseover":return ra=Ci(ra,e,t,n,r,o),!0;case"pointerover":var u=o.pointerId;return ji.set(u,Ci(ji.get(u)||null,e,t,n,r,o)),!0;case"gotpointercapture":return u=o.pointerId,Ri.set(u,Ci(Ri.get(u)||null,e,t,n,r,o)),!0}return!1}function Hg(e){var t=$a(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Wc(e.priority,function(){Bg(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,Wc(e.priority,function(){Bg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fu(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fl=r,n.target.dispatchEvent(r),Fl=null}else return t=Va(n),t!==null&&Mg(t),e.blockedOn=n,!1;t.shift()}return!0}function Gg(e,t,n){ll(e)&&n.delete(t)}function jp(){Wu=!1,na!==null&&ll(na)&&(na=null),aa!==null&&ll(aa)&&(aa=null),ra!==null&&ll(ra)&&(ra=null),ji.forEach(Gg),Ri.forEach(Gg)}function ol(e,t){e.blockedOn===t&&(e.blockedOn=null,Wu||(Wu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,jp)))}var ul=null;function $g(e){ul!==e&&(ul=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){ul===e&&(ul=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Pu(r||n)===null)continue;break}var u=Va(n);u!==null&&(e.splice(t,3),t-=3,Fo(u,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Tr(e){function t(w){return ol(w,e)}na!==null&&ol(na,e),aa!==null&&ol(aa,e),ra!==null&&ol(ra,e),ji.forEach(t),Ri.forEach(t);for(var n=0;n<ia.length;n++){var r=ia[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ia.length&&(n=ia[0],n.blockedOn===null);)Hg(n),n.blockedOn===null&&ia.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],f=o[wt]||null;if(typeof u=="function")f||$g(n);else if(f){var y=null;if(u&&u.hasAttribute("formAction")){if(o=u,f=u[wt]||null)y=f.formAction;else if(Pu(o)!==null)continue}else y=f.action;typeof y=="function"?n[r+1]=y:(n.splice(r,3),r-=3),$g(n)}}}function Vg(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(f){return o=f})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function ec(e){this._internalRoot=e}cl.prototype.render=ec.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,r=Ht();Ug(n,r,e,t,null,null)},cl.prototype.unmount=ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ug(e.current,2,null,e,null,null),Ys(),t[Ga]=null}};function cl(e){this._internalRoot=e}cl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ia.length&&t!==0&&t<ia[n].priority;n++);ia.splice(n,0,e),n===0&&Hg(e)}};var Yg=a.version;if(Yg!=="19.2.3")throw Error(s(527,Yg,"19.2.3"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var Rp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{$e=dl.inject(Rp),st=dl}catch{}}return Ni.createRoot=function(e,t){if(!c(e))throw Error(s(299));var n=!1,r="",o=Zh,u=Fh,f=Ph;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Ng(e,1,!1,null,null,n,r,null,o,u,f,Vg),e[Ga]=t.current,zu(e),new ec(t)},Ni.hydrateRoot=function(e,t,n){if(!c(e))throw Error(s(299));var r=!1,o="",u=Zh,f=Fh,y=Ph,w=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.formState!==void 0&&(w=n.formState)),t=Ng(e,1,!0,t,n??null,r,o,w,u,f,y,Vg),t.context=Dg(null),n=t.current,r=Ht(),r=Vl(r),o=Yn(r),o.callback=null,Kn(n,o,r),n=r,t.current.lanes=n,Gr(t,n),hn(t),e[Ga]=t.current,zu(e),new cl(t)},Ni.version="19.2.3",Ni}var e0;function Hp(){if(e0)return ac.exports;e0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),ac.exports=Lp(),ac.exports}var Gp=Hp();const $p=Uc(Gp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yp=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,i,s)=>s?s.toUpperCase():i.toLowerCase()),t0=l=>{const a=Yp(l);return a.charAt(0).toUpperCase()+a.slice(1)},V0=(...l)=>l.filter((a,i,s)=>!!a&&a.trim()!==""&&s.indexOf(a)===i).join(" ").trim(),Kp=l=>{for(const a in l)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ip={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=oe.forwardRef(({color:l="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:c="",children:d,iconNode:h,...g},m)=>oe.createElement("svg",{ref:m,...Ip,width:a,height:a,stroke:l,strokeWidth:s?Number(i)*24/Number(a):i,className:V0("lucide",c),...!d&&!Kp(g)&&{"aria-hidden":"true"},...g},[...h.map(([v,p])=>oe.createElement(v,p)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(l,a)=>{const i=oe.forwardRef(({className:s,...c},d)=>oe.createElement(Qp,{ref:d,iconNode:a,className:V0(`lucide-${Vp(t0(l))}`,`lucide-${l}`,s),...c}));return i.displayName=t0(l),i};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Jp=Ue("activity",Xp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Fp=Ue("arrow-right",Zp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Wp=Ue("bold",Pp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],n0=Ue("calendar-check",eb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lc=Ue("calendar",tb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kr=Ue("check",nb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],a0=Ue("chevron-down",ab);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ib=Ue("chevron-right",rb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],lb=Ue("ellipsis",sb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ub=Ue("globe",ob);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],db=Ue("grip-vertical",cb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],fb=Ue("italic",hb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],mb=Ue("layout-dashboard",gb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],yb=Ue("list-ordered",vb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],bb=Ue("list-todo",pb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],wb=Ue("list",_b);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Al=Ue("loader-circle",Sb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Tb=Ue("log-out",Eb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Ab=Ue("moon",xb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jb=Ue("refresh-cw",Ob);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cb=Ue("settings",Rb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Nb=Ue("sun",kb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],Ub=Ue("underline",Db);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],Mb=Ue("unlink",zb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qb=Ue("user",Bb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mi=Ue("x",Lb),Hb="930468391141-96mmu95qtugc8hcit6l9p3q7j62ob1n6.apps.googleusercontent.com",Gb="https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/calendar.events",$b="https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest",r0="Ascend",Vb={work:"9",personal:"10",meeting:"11",task:"7",focus:"5",break:"2",urgent:"4",later:"8",google:"1",demo:"3",move:"6"};let Ba=null,Y0=!1,K0=!1,gt=null,ua=null;const Ol="ascend_google_token",Hi="ascend_google_token_expiry",Mc="ascend_calendar_id",Bc="ascend_google_user",I0=300*1e3;function Yb(){try{const l=localStorage.getItem(Ol),a=localStorage.getItem(Mc),i=localStorage.getItem(Hi);if(l&&i){const s=parseInt(i,10);Date.now()<s-I0?(gt=l,console.log("Loaded saved Google token (valid)")):(console.log("Saved token expired, will need refresh"),localStorage.removeItem(Ol),localStorage.removeItem(Hi))}a&&(ua=a,console.log("Loaded saved Ascend calendar ID"))}catch(l){console.error("Error loading saved token:",l)}}function Kb(l,a){try{const i=Date.now()+a*1e3;localStorage.setItem(Ol,l),localStorage.setItem(Hi,i.toString())}catch(i){console.error("Error saving token:",i)}}function vc(){try{const l=localStorage.getItem(Hi);if(!l)return!0;const a=parseInt(l,10);return Date.now()>=a-I0}catch{return!0}}let Di=!1,ja=null;async function Ib(){return Ba?(Di&&ja||(Di=!0,ja=new Promise(l=>{try{console.log("Attempting silent token refresh...");const a=Ba.requestAccessToken;Ba.requestAccessToken({prompt:""});const i=setInterval(()=>{gt&&!vc()&&(clearInterval(i),Di=!1,ja=null,console.log("Silent token refresh successful"),l(!0))},100);setTimeout(()=>{clearInterval(i),Di=!1,ja=null,vc()?(console.log("Silent token refresh failed or timed out"),l(!1)):l(!0)},1e4)}catch(a){console.error("Error during silent refresh:",a),Di=!1,ja=null,l(!1)}})),ja):(console.error("Token client not initialized"),!1)}async function Yi(){return gt?vc()?await Ib():!0:!1}function i0(l){try{localStorage.setItem(Mc,l)}catch(a){console.error("Error saving calendar ID:",a)}}function Qb(l){try{localStorage.setItem(Bc,JSON.stringify(l))}catch(a){console.error("Error saving user:",a)}}function Xb(){try{const l=localStorage.getItem(Bc);if(l)return JSON.parse(l)}catch(l){console.error("Error loading saved user:",l)}return null}function s0(){try{localStorage.removeItem(Ol),localStorage.removeItem(Hi),localStorage.removeItem(Mc),localStorage.removeItem(Bc)}catch(l){console.error("Error clearing saved data:",l)}}async function Jb(){return Yb(),new Promise((l,a)=>{if(typeof gapi>"u"){a(new Error("Google API not loaded"));return}gapi.load("client",async()=>{try{await gapi.client.init({discoveryDocs:[$b]}),Y0=!0,Q0(),l()}catch(i){a(i)}})})}function Zb(l){if(typeof google>"u"||!google.accounts){console.error("Google Identity Services not loaded");return}Ba=google.accounts.oauth2.initTokenClient({client_id:Hb,scope:Gb,callback:async a=>{if(a.error!==void 0){console.error("Token error:",a.error);return}gt=a.access_token,Kb(a.access_token,a.expires_in||3600);try{await X0()}catch(i){console.error("Failed to setup Ascend calendar:",i)}l(a.access_token)}}),K0=!0,Q0()}function Q0(){Y0&&K0&&console.log("Google APIs ready")}async function X0(){if(!gt)throw new Error("Not signed in to Google");try{const i=((await gapi.client.calendar.calendarList.list()).result.items||[]).find(d=>d.summary===r0);if(i)return console.log("Found existing Ascend calendar:",i.id),ua=i.id,i0(i.id),i.id;console.log("Creating new Ascend calendar...");const c=(await gapi.client.calendar.calendars.insert({resource:{summary:r0,description:"Tasks and timeboxes from Ascend - Your productivity workspace",timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result.id;console.log("Created Ascend calendar:",c);try{await gapi.client.calendar.calendarList.patch({calendarId:c,resource:{backgroundColor:"#7C3AED",foregroundColor:"#FFFFFF"}})}catch(d){console.log("Could not set calendar color (non-critical):",d)}return ua=c,i0(c),c}catch(l){throw console.error("Error finding/creating Ascend calendar:",l),l}}async function qc(){return ua||await X0()}function Fb(){if(!Ba){console.error("Token client not initialized"),alert("Google API not ready. Please refresh the page and try again.");return}try{gt===null?(console.log("Requesting Google OAuth token with consent..."),Ba.requestAccessToken({prompt:"consent"})):(console.log("Requesting Google OAuth token (refresh)..."),Ba.requestAccessToken({prompt:""}))}catch(l){console.error("Error requesting access token:",l),alert("Failed to open Google sign-in. Please check if popups are blocked.")}}function Pb(){gt?google.accounts.oauth2.revoke(gt,()=>{console.log("Access token revoked"),gt=null,ua=null,s0()}):s0()}function hl(){return gt!==null}async function Wb(l,a,i=!0,s=!1){if(!gt)throw new Error("Not signed in to Google");if(!await Yi())throw new Error("Google token expired. Please reconnect Google Calendar.");const d=[];try{if(i&&ua)try{const g=(await gapi.client.calendar.events.list({calendarId:ua,timeMin:l.toISOString(),timeMax:a.toISOString(),singleEvents:!0,orderBy:"startTime"})).result.items||[];d.push(...g.filter(m=>{var v;return(v=m.start)==null?void 0:v.dateTime}).map(m=>l0(m,!0)))}catch(h){console.error("Error fetching Ascend calendar events:",h)}if(s)try{const g=(await gapi.client.calendar.events.list({calendarId:"primary",timeMin:l.toISOString(),timeMax:a.toISOString(),singleEvents:!0,orderBy:"startTime"})).result.items||[];d.push(...g.filter(m=>{var v;return(v=m.start)==null?void 0:v.dateTime}).map(m=>l0(m,!1)))}catch(h){console.error("Error fetching primary calendar events:",h)}return d}catch(h){throw console.error("Error fetching calendar events:",h),h}}function l0(l,a){const i=new Date(l.start.dateTime),s=new Date(l.end.dateTime||l.start.dateTime),c=i.getHours()+i.getMinutes()/60,d=(s.getTime()-i.getTime())/(1e3*60*60);return{id:l.id,title:l.summary||"Untitled",start:c,duration:Math.max(.25,d),isGoogle:!0,isFromAscendCalendar:a}}async function e_(l,a,i,s=new Date,c){if(!gt)throw new Error("Not signed in to Google");if(!await Yi())throw new Error("Google token expired. Please reconnect Google Calendar.");const h=await qc(),g=new Date(s);g.setHours(Math.floor(a),Math.round(a%1*60),0,0);const m=new Date(g);m.setTime(g.getTime()+i*60*60*1e3);const v=Vb[c.toLowerCase()]||"9";try{const p=await gapi.client.calendar.events.insert({calendarId:h,resource:{summary:l,colorId:v,description:c?`Tag: ${c}`:void 0,start:{dateTime:g.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},end:{dateTime:m.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}}});return console.log("Created event in Ascend calendar:",p.result.id,"with color:",v),p.result.id}catch(p){throw console.error("Error creating calendar event:",p),p}}async function t_(l){if(!gt)throw new Error("Not signed in to Google");if(!await Yi())throw new Error("Google token expired. Please reconnect Google Calendar.");const i=await qc();try{await gapi.client.calendar.events.delete({calendarId:i,eventId:l})}catch(s){throw console.error("Error deleting calendar event:",s),s}}async function n_(l,a,i,s,c=new Date){if(!gt)throw new Error("Not signed in to Google");if(!await Yi())throw new Error("Google token expired. Please reconnect Google Calendar.");const h=await qc(),g=new Date(c);g.setHours(Math.floor(i),Math.round(i%1*60),0,0);const m=new Date(g);m.setTime(g.getTime()+s*60*60*1e3);try{await gapi.client.calendar.events.update({calendarId:h,eventId:l,resource:{summary:a,start:{dateTime:g.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},end:{dateTime:m.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}}})}catch(v){throw console.error("Error updating calendar event:",v),v}}async function a_(){if(!gt)return null;try{const l=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${gt}`}});if(!l.ok)throw new Error("Failed to fetch user info");const a=await l.json();return{email:a.email,name:a.name,picture:a.picture}}catch(l){return console.error("Error fetching user info:",l),null}}async function r_(l,a=new Date){if(!gt)throw new Error("Not signed in to Google");if(!await Yi())throw new Error("Google token expired. Please reconnect Google Calendar.");const s=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),c=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59),d=await Wb(s,c,!0,!1),h=[],g=[],m=[],v=new Map;l.forEach(_=>{_.googleEventId&&v.set(_.googleEventId,_)});const p=new Set(d.map(_=>_.id));for(const _ of d){const S=v.get(_.id);S?(S.title!==_.title||Math.abs(S.start-_.start)>.01||Math.abs(S.duration-_.duration)>.01)&&g.push({localId:S.id,event:_}):h.push(_)}for(const _ of l)_.googleEventId&&!p.has(_.googleEventId)&&m.push(String(_.id));return{toAdd:h,toUpdate:g,toRemove:m,stats:{added:h.length,updated:g.length,removed:m.length}}}var Dn={},fl={},yc=function(l,a){return yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(i[c]=s[c])},yc(l,a)};function J0(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");yc(l,a);function i(){this.constructor=l}l.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}var jl=function(){return jl=Object.assign||function(a){for(var i,s=1,c=arguments.length;s<c;s++){i=arguments[s];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(a[d]=i[d])}return a},jl.apply(this,arguments)};function Mr(l,a){var i={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&a.indexOf(s)<0&&(i[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(l);c<s.length;c++)a.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(l,s[c])&&(i[s[c]]=l[s[c]]);return i}function Z0(l,a,i,s){var c=arguments.length,d=c<3?a:s===null?s=Object.getOwnPropertyDescriptor(a,i):s,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(l,a,i,s);else for(var g=l.length-1;g>=0;g--)(h=l[g])&&(d=(c<3?h(d):c>3?h(a,i,d):h(a,i))||d);return c>3&&d&&Object.defineProperty(a,i,d),d}function F0(l,a){return function(i,s){a(i,s,l)}}function P0(l,a,i,s,c,d){function h(H){if(H!==void 0&&typeof H!="function")throw new TypeError("Function expected");return H}for(var g=s.kind,m=g==="getter"?"get":g==="setter"?"set":"value",v=!a&&l?s.static?l:l.prototype:null,p=a||(v?Object.getOwnPropertyDescriptor(v,s.name):{}),_,S=!1,T=i.length-1;T>=0;T--){var O={};for(var N in s)O[N]=N==="access"?{}:s[N];for(var N in s.access)O.access[N]=s.access[N];O.addInitializer=function(H){if(S)throw new TypeError("Cannot add initializers after decoration has completed");d.push(h(H||null))};var U=(0,i[T])(g==="accessor"?{get:p.get,set:p.set}:p[m],O);if(g==="accessor"){if(U===void 0)continue;if(U===null||typeof U!="object")throw new TypeError("Object expected");(_=h(U.get))&&(p.get=_),(_=h(U.set))&&(p.set=_),(_=h(U.init))&&c.unshift(_)}else(_=h(U))&&(g==="field"?c.unshift(_):p[m]=_)}v&&Object.defineProperty(v,s.name,p),S=!0}function W0(l,a,i){for(var s=arguments.length>2,c=0;c<a.length;c++)i=s?a[c].call(l,i):a[c].call(l);return s?i:void 0}function em(l){return typeof l=="symbol"?l:"".concat(l)}function tm(l,a,i){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:i?"".concat(i," ",a):a})}function nm(l,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,a)}function Q(l,a,i,s){function c(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function g(p){try{v(s.next(p))}catch(_){h(_)}}function m(p){try{v(s.throw(p))}catch(_){h(_)}}function v(p){p.done?d(p.value):c(p.value).then(g,m)}v((s=s.apply(l,a||[])).next())})}function am(l,a){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,c,d,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=g(0),h.throw=g(1),h.return=g(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(v){return function(p){return m([v,p])}}function m(v){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(i=0)),i;)try{if(s=1,c&&(d=v[0]&2?c.return:v[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,v[1])).done)return d;switch(c=0,d&&(v=[v[0]&2,d.value]),v[0]){case 0:case 1:d=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,c=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!d||v[1]>d[0]&&v[1]<d[3])){i.label=v[1];break}if(v[0]===6&&i.label<d[1]){i.label=d[1],d=v;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(v);break}d[2]&&i.ops.pop(),i.trys.pop();continue}v=a.call(l,i)}catch(p){v=[6,p],c=0}finally{s=d=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var Bl=Object.create?(function(l,a,i,s){s===void 0&&(s=i);var c=Object.getOwnPropertyDescriptor(a,i);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(l,s,c)}):(function(l,a,i,s){s===void 0&&(s=i),l[s]=a[i]});function rm(l,a){for(var i in l)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&Bl(a,l,i)}function Rl(l){var a=typeof Symbol=="function"&&Symbol.iterator,i=a&&l[a],s=0;if(i)return i.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&s>=l.length&&(l=void 0),{value:l&&l[s++],done:!l}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lc(l,a){var i=typeof Symbol=="function"&&l[Symbol.iterator];if(!i)return l;var s=i.call(l),c,d=[],h;try{for(;(a===void 0||a-- >0)&&!(c=s.next()).done;)d.push(c.value)}catch(g){h={error:g}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return d}function im(){for(var l=[],a=0;a<arguments.length;a++)l=l.concat(Lc(arguments[a]));return l}function sm(){for(var l=0,a=0,i=arguments.length;a<i;a++)l+=arguments[a].length;for(var s=Array(l),c=0,a=0;a<i;a++)for(var d=arguments[a],h=0,g=d.length;h<g;h++,c++)s[c]=d[h];return s}function lm(l,a,i){if(i||arguments.length===2)for(var s=0,c=a.length,d;s<c;s++)(d||!(s in a))&&(d||(d=Array.prototype.slice.call(a,0,s)),d[s]=a[s]);return l.concat(d||Array.prototype.slice.call(a))}function Ur(l){return this instanceof Ur?(this.v=l,this):new Ur(l)}function om(l,a,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(l,a||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),c[Symbol.asyncIterator]=function(){return this},c;function h(T){return function(O){return Promise.resolve(O).then(T,_)}}function g(T,O){s[T]&&(c[T]=function(N){return new Promise(function(U,H){d.push([T,N,U,H])>1||m(T,N)})},O&&(c[T]=O(c[T])))}function m(T,O){try{v(s[T](O))}catch(N){S(d[0][3],N)}}function v(T){T.value instanceof Ur?Promise.resolve(T.value.v).then(p,_):S(d[0][2],T)}function p(T){m("next",T)}function _(T){m("throw",T)}function S(T,O){T(O),d.shift(),d.length&&m(d[0][0],d[0][1])}}function um(l){var a,i;return a={},s("next"),s("throw",function(c){throw c}),s("return"),a[Symbol.iterator]=function(){return this},a;function s(c,d){a[c]=l[c]?function(h){return(i=!i)?{value:Ur(l[c](h)),done:!1}:d?d(h):h}:d}}function cm(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l[Symbol.asyncIterator],i;return a?a.call(l):(l=typeof Rl=="function"?Rl(l):l[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(d){i[d]=l[d]&&function(h){return new Promise(function(g,m){h=l[d](h),c(g,m,h.done,h.value)})}}function c(d,h,g,m){Promise.resolve(m).then(function(v){d({value:v,done:g})},h)}}function dm(l,a){return Object.defineProperty?Object.defineProperty(l,"raw",{value:a}):l.raw=a,l}var i_=Object.create?(function(l,a){Object.defineProperty(l,"default",{enumerable:!0,value:a})}):function(l,a){l.default=a},pc=function(l){return pc=Object.getOwnPropertyNames||function(a){var i=[];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[i.length]=s);return i},pc(l)};function hm(l){if(l&&l.__esModule)return l;var a={};if(l!=null)for(var i=pc(l),s=0;s<i.length;s++)i[s]!=="default"&&Bl(a,l,i[s]);return i_(a,l),a}function fm(l){return l&&l.__esModule?l:{default:l}}function gm(l,a,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?l!==a||!s:!a.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(l):s?s.value:a.get(l)}function mm(l,a,i,s,c){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?l!==a||!c:!a.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?c.call(l,i):c?c.value=i:a.set(l,i),i}function vm(l,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?a===l:l.has(a)}function ym(l,a,i){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var s,c;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=a[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=a[Symbol.dispose],i&&(c=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");c&&(s=function(){try{c.call(this)}catch(d){return Promise.reject(d)}}),l.stack.push({value:a,dispose:s,async:i})}else i&&l.stack.push({async:!0});return a}var s_=typeof SuppressedError=="function"?SuppressedError:function(l,a,i){var s=new Error(i);return s.name="SuppressedError",s.error=l,s.suppressed=a,s};function pm(l){function a(d){l.error=l.hasError?new s_(d,l.error,"An error was suppressed during disposal."):d,l.hasError=!0}var i,s=0;function c(){for(;i=l.stack.pop();)try{if(!i.async&&s===1)return s=0,l.stack.push(i),Promise.resolve().then(c);if(i.dispose){var d=i.dispose.call(i.value);if(i.async)return s|=2,Promise.resolve(d).then(c,function(h){return a(h),c()})}else s|=1}catch(h){a(h)}if(s===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return c()}function bm(l,a){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,s,c,d,h){return s?a?".jsx":".js":c&&(!d||!h)?i:c+d+"."+h.toLowerCase()+"js"}):l}const l_={__extends:J0,__assign:jl,__rest:Mr,__decorate:Z0,__param:F0,__esDecorate:P0,__runInitializers:W0,__propKey:em,__setFunctionName:tm,__metadata:nm,__awaiter:Q,__generator:am,__createBinding:Bl,__exportStar:rm,__values:Rl,__read:Lc,__spread:im,__spreadArrays:sm,__spreadArray:lm,__await:Ur,__asyncGenerator:om,__asyncDelegator:um,__asyncValues:cm,__makeTemplateObject:dm,__importStar:hm,__importDefault:fm,__classPrivateFieldGet:gm,__classPrivateFieldSet:mm,__classPrivateFieldIn:vm,__addDisposableResource:ym,__disposeResources:pm,__rewriteRelativeImportExtension:bm},o_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ym,get __assign(){return jl},__asyncDelegator:um,__asyncGenerator:om,__asyncValues:cm,__await:Ur,__awaiter:Q,__classPrivateFieldGet:gm,__classPrivateFieldIn:vm,__classPrivateFieldSet:mm,__createBinding:Bl,__decorate:Z0,__disposeResources:pm,__esDecorate:P0,__exportStar:rm,__extends:J0,__generator:am,__importDefault:fm,__importStar:hm,__makeTemplateObject:dm,__metadata:nm,__param:F0,__propKey:em,__read:Lc,__rest:Mr,__rewriteRelativeImportExtension:bm,__runInitializers:W0,__setFunctionName:tm,__spread:im,__spreadArray:lm,__spreadArrays:sm,__values:Rl,default:l_},Symbol.toStringTag,{value:"Module"})),u_=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);let ql=class extends Error{constructor(a,i="FunctionsError",s){super(a),this.name=i,this.context=s}},_m=class extends ql{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}},bc=class extends ql{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}},_c=class extends ql{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}};var Cl;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Cl||(Cl={}));class c_{constructor(a,{headers:i={},customFetch:s,region:c=Cl.Any}={}){this.url=a,this.headers=i,this.region=c,this.fetch=u_(s)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Q(this,arguments,void 0,function*(i,s={}){var c;let d,h;try{const{headers:g,method:m,body:v,signal:p,timeout:_}=s;let S={},{region:T}=s;T||(T=this.region);const O=new URL(`${this.url}/${i}`);T&&T!=="any"&&(S["x-region"]=T,O.searchParams.set("forceFunctionRegion",T));let N;v&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",N=v):typeof v=="string"?(S["Content-Type"]="text/plain",N=v):typeof FormData<"u"&&v instanceof FormData?N=v:(S["Content-Type"]="application/json",N=JSON.stringify(v)):N=v;let U=p;_&&(h=new AbortController,d=setTimeout(()=>h.abort(),_),p?(U=h.signal,p.addEventListener("abort",()=>h.abort())):U=h.signal);const H=yield this.fetch(O.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),g),body:N,signal:U}).catch(he=>{throw new _m(he)}),Y=H.headers.get("x-relay-error");if(Y&&Y==="true")throw new bc(H);if(!H.ok)throw new _c(H);let L=((c=H.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),Z;return L==="application/json"?Z=yield H.json():L==="application/octet-stream"||L==="application/pdf"?Z=yield H.blob():L==="text/event-stream"?Z=H:L==="multipart/form-data"?Z=yield H.formData():Z=yield H.text(),{data:Z,error:null,response:H}}catch(g){return{data:null,error:g,response:g instanceof _c||g instanceof bc?g.context:void 0}}finally{d&&clearTimeout(d)}})}}const d_=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Cl},FunctionsClient:c_,FunctionsError:ql,FunctionsFetchError:_m,FunctionsHttpError:_c,FunctionsRelayError:bc},Symbol.toStringTag,{value:"Module"})),wm=Vi(d_);var yt={};const Br=Vi(o_);var gl={},ml={},vl={},yl={},pl={},bl={},o0;function Sm(){if(o0)return bl;o0=1,Object.defineProperty(bl,"__esModule",{value:!0});class l extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return bl.default=l,bl}var u0;function Em(){if(u0)return pl;u0=1,Object.defineProperty(pl,"__esModule",{value:!0});const a=Br.__importDefault(Sm());let i=class{constructor(c){var d,h;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(h=c.isMaybeSingle)!==null&&h!==void 0?h:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let g=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,p,_,S;let T=null,O=null,N=null,U=m.status,H=m.statusText;if(m.ok){if(this.method!=="HEAD"){const he=await m.text();he===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?O=he:O=JSON.parse(he))}const L=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),Z=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");L&&Z&&Z.length>1&&(N=parseInt(Z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(T={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,N=null,U=406,H="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const L=await m.text();try{T=JSON.parse(L),Array.isArray(T)&&m.status===404&&(O=[],T=null,U=200,H="OK")}catch{m.status===404&&L===""?(U=204,H="No Content"):T={message:L}}if(T&&this.isMaybeSingle&&(!((S=T==null?void 0:T.details)===null||S===void 0)&&S.includes("0 rows"))&&(T=null,U=200,H="OK"),T&&this.shouldThrowOnError)throw new a.default(T)}return{error:T,data:O,count:N,status:U,statusText:H}});return this.shouldThrowOnError||(g=g.catch(m=>{var v,p,_,S,T,O;let N="";const U=m==null?void 0:m.cause;if(U){const H=(v=U==null?void 0:U.message)!==null&&v!==void 0?v:"",Y=(p=U==null?void 0:U.code)!==null&&p!==void 0?p:"";N=`${(_=m==null?void 0:m.name)!==null&&_!==void 0?_:"FetchError"}: ${m==null?void 0:m.message}`,N+=`

Caused by: ${(S=U==null?void 0:U.name)!==null&&S!==void 0?S:"Error"}: ${H}`,Y&&(N+=` (${Y})`),U!=null&&U.stack&&(N+=`
${U.stack}`)}else N=(T=m==null?void 0:m.stack)!==null&&T!==void 0?T:"";return{error:{message:`${(O=m==null?void 0:m.name)!==null&&O!==void 0?O:"FetchError"}: ${m==null?void 0:m.message}`,details:N,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),g.then(c,d)}returns(){return this}overrideTypes(){return this}};return pl.default=i,pl}var c0;function Tm(){if(c0)return yl;c0=1,Object.defineProperty(yl,"__esModule",{value:!0});const a=Br.__importDefault(Em());let i=class extends a.default{select(c){let d=!1;const h=(c??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:h,foreignTable:g,referencedTable:m=g}={}){const v=m?`${m}.order`:"order",p=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${p?`${p},`:""}${c}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:h=d}={}){const g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${c}`),this}range(c,d,{foreignTable:h,referencedTable:g=h}={}){const m=typeof g>"u"?"offset":`${g}.offset`,v=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(m,`${c}`),this.url.searchParams.set(v,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:h=!1,buffers:g=!1,wal:m=!1,format:v="text"}={}){var p;const _=[c?"analyze":null,d?"verbose":null,h?"settings":null,g?"buffers":null,m?"wal":null].filter(Boolean).join("|"),S=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${S}"; options=${_};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}};return yl.default=i,yl}var d0;function Hc(){if(d0)return vl;d0=1,Object.defineProperty(vl,"__esModule",{value:!0});const a=Br.__importDefault(Tm()),i=new RegExp("[,()]");let s=class extends a.default{eq(d,h){return this.url.searchParams.append(d,`eq.${h}`),this}neq(d,h){return this.url.searchParams.append(d,`neq.${h}`),this}gt(d,h){return this.url.searchParams.append(d,`gt.${h}`),this}gte(d,h){return this.url.searchParams.append(d,`gte.${h}`),this}lt(d,h){return this.url.searchParams.append(d,`lt.${h}`),this}lte(d,h){return this.url.searchParams.append(d,`lte.${h}`),this}like(d,h){return this.url.searchParams.append(d,`like.${h}`),this}likeAllOf(d,h){return this.url.searchParams.append(d,`like(all).{${h.join(",")}}`),this}likeAnyOf(d,h){return this.url.searchParams.append(d,`like(any).{${h.join(",")}}`),this}ilike(d,h){return this.url.searchParams.append(d,`ilike.${h}`),this}ilikeAllOf(d,h){return this.url.searchParams.append(d,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(d,h){return this.url.searchParams.append(d,`ilike(any).{${h.join(",")}}`),this}regexMatch(d,h){return this.url.searchParams.append(d,`match.${h}`),this}regexIMatch(d,h){return this.url.searchParams.append(d,`imatch.${h}`),this}is(d,h){return this.url.searchParams.append(d,`is.${h}`),this}isDistinct(d,h){return this.url.searchParams.append(d,`isdistinct.${h}`),this}in(d,h){const g=Array.from(new Set(h)).map(m=>typeof m=="string"&&i.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(d,`in.(${g})`),this}contains(d,h){return typeof h=="string"?this.url.searchParams.append(d,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(d,`cs.{${h.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(h)}`),this}containedBy(d,h){return typeof h=="string"?this.url.searchParams.append(d,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(d,`cd.{${h.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(h)}`),this}rangeGt(d,h){return this.url.searchParams.append(d,`sr.${h}`),this}rangeGte(d,h){return this.url.searchParams.append(d,`nxl.${h}`),this}rangeLt(d,h){return this.url.searchParams.append(d,`sl.${h}`),this}rangeLte(d,h){return this.url.searchParams.append(d,`nxr.${h}`),this}rangeAdjacent(d,h){return this.url.searchParams.append(d,`adj.${h}`),this}overlaps(d,h){return typeof h=="string"?this.url.searchParams.append(d,`ov.${h}`):this.url.searchParams.append(d,`ov.{${h.join(",")}}`),this}textSearch(d,h,{config:g,type:m}={}){let v="";m==="plain"?v="pl":m==="phrase"?v="ph":m==="websearch"&&(v="w");const p=g===void 0?"":`(${g})`;return this.url.searchParams.append(d,`${v}fts${p}.${h}`),this}match(d){return Object.entries(d).forEach(([h,g])=>{this.url.searchParams.append(h,`eq.${g}`)}),this}not(d,h,g){return this.url.searchParams.append(d,`not.${h}.${g}`),this}or(d,{foreignTable:h,referencedTable:g=h}={}){const m=g?`${g}.or`:"or";return this.url.searchParams.append(m,`(${d})`),this}filter(d,h,g){return this.url.searchParams.append(d,`${h}.${g}`),this}};return vl.default=s,vl}var h0;function xm(){if(h0)return ml;h0=1,Object.defineProperty(ml,"__esModule",{value:!0});const a=Br.__importDefault(Hc());let i=class{constructor(c,{headers:d={},schema:h,fetch:g}){this.url=c,this.headers=new Headers(d),this.schema=h,this.fetch=g}select(c,d){const{head:h=!1,count:g}=d??{},m=h?"HEAD":"GET";let v=!1;const p=(c??"*").split("").map(_=>/\s/.test(_)&&!v?"":(_==='"'&&(v=!v),_)).join("");return this.url.searchParams.set("select",p),g&&this.headers.append("Prefer",`count=${g}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:h=!0}={}){var g;const m="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const v=c.reduce((p,_)=>p.concat(Object.keys(_)),[]);if(v.length>0){const p=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",p.join(","))}}return new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:h=!1,count:g,defaultToNull:m=!0}={}){var v;const p="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),g&&this.headers.append("Prefer",`count=${g}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const _=c.reduce((S,T)=>S.concat(Object.keys(T)),[]);if(_.length>0){const S=[...new Set(_)].map(T=>`"${T}"`);this.url.searchParams.set("columns",S.join(","))}}return new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(c,{count:d}={}){var h;const g="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var d;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return ml.default=i,ml}var f0;function h_(){if(f0)return gl;f0=1,Object.defineProperty(gl,"__esModule",{value:!0});const l=Br,a=l.__importDefault(xm()),i=l.__importDefault(Hc());let s=class Am{constructor(d,{headers:h={},schema:g,fetch:m}={}){this.url=d,this.headers=new Headers(h),this.schemaName=g,this.fetch=m}from(d){if(!d||typeof d!="string"||d.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const h=new URL(`${this.url}/${d}`);return new a.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new Am(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:g=!1,get:m=!1,count:v}={}){var p;let _;const S=new URL(`${this.url}/rpc/${d}`);let T;g||m?(_=g?"HEAD":"GET",Object.entries(h).filter(([N,U])=>U!==void 0).map(([N,U])=>[N,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([N,U])=>{S.searchParams.append(N,U)})):(_="POST",T=h);const O=new Headers(this.headers);return v&&O.set("Prefer",`count=${v}`),new i.default({method:_,url:S,headers:O,schema:this.schemaName,body:T,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}};return gl.default=s,gl}var g0;function Om(){if(g0)return yt;g0=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const l=Br,a=l.__importDefault(h_());yt.PostgrestClient=a.default;const i=l.__importDefault(xm());yt.PostgrestQueryBuilder=i.default;const s=l.__importDefault(Hc());yt.PostgrestFilterBuilder=s.default;const c=l.__importDefault(Tm());yt.PostgrestTransformBuilder=c.default;const d=l.__importDefault(Em());yt.PostgrestBuilder=d.default;const h=l.__importDefault(Sm());return yt.PostgrestError=h.default,yt.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:h.default},yt}class jm{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const s=i.node,c=parseInt(s.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let i=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(i+=`

Suggested solution: ${a.workaround}`),new Error(i)}static createWebSocket(a,i){const s=this.getWebSocketConstructor();return new s(a,i)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const f_="2.87.1",g_=`realtime-js/${f_}`,Rm="1.0.0",m_="2.0.0",m0=Rm,wc=1e4,v_=1e3,y_=100;var Ua;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Ua||(Ua={}));var Fe;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Fe||(Fe={}));var ln;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(ln||(ln={}));var Sc;(function(l){l.websocket="websocket"})(Sc||(Sc={}));var za;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(za||(za={}));class p_{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,i){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(a));let s=[a.join_ref,a.ref,a.topic,a.event,a.payload];return i(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(a){var i;return this._isArrayBuffer((i=a.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var i,s;const c=(s=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var i,s;const c=(s=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,i,s){var c,d;const h=a.topic,g=(c=a.ref)!==null&&c!==void 0?c:"",m=(d=a.join_ref)!==null&&d!==void 0?d:"",v=a.payload.event,p=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},_=Object.keys(p).length===0?"":JSON.stringify(p);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+h.length+v.length+_.length,T=new ArrayBuffer(this.HEADER_LENGTH+S);let O=new DataView(T),N=0;O.setUint8(N++,this.KINDS.userBroadcastPush),O.setUint8(N++,m.length),O.setUint8(N++,g.length),O.setUint8(N++,h.length),O.setUint8(N++,v.length),O.setUint8(N++,_.length),O.setUint8(N++,i),Array.from(m,H=>O.setUint8(N++,H.charCodeAt(0))),Array.from(g,H=>O.setUint8(N++,H.charCodeAt(0))),Array.from(h,H=>O.setUint8(N++,H.charCodeAt(0))),Array.from(v,H=>O.setUint8(N++,H.charCodeAt(0))),Array.from(_,H=>O.setUint8(N++,H.charCodeAt(0)));var U=new Uint8Array(T.byteLength+s.byteLength);return U.set(new Uint8Array(T),0),U.set(new Uint8Array(s),T.byteLength),U.buffer}decode(a,i){if(this._isArrayBuffer(a)){let s=this._binaryDecode(a);return i(s)}if(typeof a=="string"){const s=JSON.parse(a),[c,d,h,g,m]=s;return i({join_ref:c,ref:d,topic:h,event:g,payload:m})}return i({})}_binaryDecode(a){const i=new DataView(a),s=i.getUint8(0),c=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,i,c)}}_decodeUserBroadcast(a,i,s){const c=i.getUint8(1),d=i.getUint8(2),h=i.getUint8(3),g=i.getUint8(4);let m=this.HEADER_LENGTH+4;const v=s.decode(a.slice(m,m+c));m=m+c;const p=s.decode(a.slice(m,m+d));m=m+d;const _=s.decode(a.slice(m,m+h));m=m+h;const S=a.slice(m,a.byteLength),T=g===this.JSON_ENCODING?JSON.parse(s.decode(S)):S,O={type:this.BROADCAST_EVENT,event:p,payload:T};return h>0&&(O.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(a){var i;return a instanceof ArrayBuffer||((i=a==null?void 0:a.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(a,i){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([s])=>i.includes(s)))}}class Cm{constructor(a,i){this.callback=a,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(De||(De={}));const v0=(l,a,i={})=>{var s;const c=(s=i.skipTypes)!==null&&s!==void 0?s:[];return a?Object.keys(a).reduce((d,h)=>(d[h]=b_(h,l,a,c),d),{}):{}},b_=(l,a,i,s)=>{const c=a.find(g=>g.name===l),d=c==null?void 0:c.type,h=i[l];return d&&!s.includes(d)?km(d,h):Ec(h)},km=(l,a)=>{if(l.charAt(0)==="_"){const i=l.slice(1,l.length);return E_(a,i)}switch(l){case De.bool:return __(a);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return w_(a);case De.json:case De.jsonb:return S_(a);case De.timestamp:return T_(a);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return Ec(a);default:return Ec(a)}},Ec=l=>l,__=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},w_=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},S_=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(a){return console.log(`JSON parse error: ${a}`),l}return l},E_=(l,a)=>{if(typeof l!="string")return l;const i=l.length-1,s=l[i];if(l[0]==="{"&&s==="}"){let d;const h=l.slice(1,i);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(g=>km(a,g))}return l},T_=l=>typeof l=="string"?l.replace(" ","T"):l,Nm=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class oc{constructor(a,i,s={},c=wc){this.channel=a,this.event=i,this.payload=s,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,i){var s;return this._hasReceived(a)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:a,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:i}){this.recHooks.filter(s=>s.status===a).forEach(s=>s.callback(i))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Tc;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Tc||(Tc={}));let Dm=class Sl{constructor(a,i){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},c=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sl.syncState(this.state,c,d,h),this.pendingDiffs.forEach(m=>{this.state=Sl.syncDiff(this.state,m,d,h)}),this.pendingDiffs=[],g()}),this.channel._on(s.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Sl.syncDiff(this.state,c,d,h),g())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,i,s,c){const d=this.cloneDeep(a),h=this.transformState(i),g={},m={};return this.map(d,(v,p)=>{h[v]||(m[v]=p)}),this.map(h,(v,p)=>{const _=d[v];if(_){const S=p.map(U=>U.presence_ref),T=_.map(U=>U.presence_ref),O=p.filter(U=>T.indexOf(U.presence_ref)<0),N=_.filter(U=>S.indexOf(U.presence_ref)<0);O.length>0&&(g[v]=O),N.length>0&&(m[v]=N)}else g[v]=p}),this.syncDiff(d,{joins:g,leaves:m},s,c)}static syncDiff(a,i,s,c){const{joins:d,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),c||(c=()=>{}),this.map(d,(g,m)=>{var v;const p=(v=a[g])!==null&&v!==void 0?v:[];if(a[g]=this.cloneDeep(m),p.length>0){const _=a[g].map(T=>T.presence_ref),S=p.filter(T=>_.indexOf(T.presence_ref)<0);a[g].unshift(...S)}s(g,p,m)}),this.map(h,(g,m)=>{let v=a[g];if(!v)return;const p=m.map(_=>_.presence_ref);v=v.filter(_=>p.indexOf(_.presence_ref)<0),a[g]=v,c(g,v,m),v.length===0&&delete a[g]}),a}static map(a,i){return Object.getOwnPropertyNames(a).map(s=>i(s,a[s]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((i,s)=>{const c=a[s];return"metas"in c?i[s]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[s]=c,i},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var xc;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(xc||(xc={}));var Nr;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Nr||(Nr={}));var fn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(fn||(fn={}));const x_=Fe;let Um=class Bi{constructor(a,i={config:{}},s){var c,d;if(this.topic=a,this.params=i,this.socket=s,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new oc(this,ln.join,this.params,this.timeout),this.rejoinTimer=new Cm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(h,g)=>{this._trigger(this._replyEventName(g),h)}),this.presence=new Dm(this),this.broadcastEndpointURL=Nm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,i=this.timeout){var s,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:h,presence:g,private:m}}=this.params,v=(c=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(T=>T.filter))!==null&&c!==void 0?c:[],p=!!this.bindings[Nr.PRESENCE]&&this.bindings[Nr.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,_={},S={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:p}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(T=>a==null?void 0:a(fn.CHANNEL_ERROR,T)),this._onClose(()=>a==null?void 0:a(fn.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:T})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){a==null||a(fn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,U=(O=N==null?void 0:N.length)!==null&&O!==void 0?O:0,H=[];for(let Y=0;Y<U;Y++){const L=N[Y],{filter:{event:Z,schema:he,table:re,filter:X}}=L,ke=T&&T[Y];if(ke&&ke.event===Z&&Bi.isFilterValueEqual(ke.schema,he)&&Bi.isFilterValueEqual(ke.table,re)&&Bi.isFilterValueEqual(ke.filter,X))H.push(Object.assign(Object.assign({},L),{id:ke.id}));else{this.unsubscribe(),this.state=Fe.errored,a==null||a(fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,a&&a(fn.SUBSCRIBED);return}}).receive("error",T=>{this.state=Fe.errored,a==null||a(fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,i={}){return await this.send({type:"presence",event:"track",payload:a},i.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,i,s){return this.state===Fe.joined&&a===Nr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,i,s)}async httpSend(a,i,s={}){var c;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=s.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const v=await g.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(a,i={}){var s,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:h}=a,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((c=v.body)===null||c===void 0?void 0:c.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,g,m;const v=this._push(a.type,a,i.timeout||this.timeout);a.type==="broadcast"&&!(!((m=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&d("ok"),v.receive("ok",()=>d("ok")),v.receive("error",()=>d("error")),v.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Fe.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(c=>{s=new oc(this,ln.leave,{},a),s.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(a,i,s){const c=new AbortController,d=setTimeout(()=>c.abort(),s),h=await this.socket.fetch(a,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(d),h}_push(a,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new oc(this,a,i,s);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>y_){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(a,i,s){return i}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,i,s){var c,d;const h=a.toLocaleLowerCase(),{close:g,error:m,leave:v,join:p}=ln;if(s&&[g,m,v,p].indexOf(h)>=0&&s!==this._joinRef())return;let S=this._onMessage(h,i,s);if(i&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(T=>{var O,N,U;return((O=T.filter)===null||O===void 0?void 0:O.event)==="*"||((U=(N=T.filter)===null||N===void 0?void 0:N.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===h}).map(T=>T.callback(S,s)):(d=this.bindings[h])===null||d===void 0||d.filter(T=>{var O,N,U,H,Y,L;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in T){const Z=T.id,he=(O=T.filter)===null||O===void 0?void 0:O.event;return Z&&((N=i.ids)===null||N===void 0?void 0:N.includes(Z))&&(he==="*"||(he==null?void 0:he.toLocaleLowerCase())===((U=i.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))}else{const Z=(Y=(H=T==null?void 0:T.filter)===null||H===void 0?void 0:H.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return Z==="*"||Z===((L=i==null?void 0:i.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===h}).map(T=>{if(typeof S=="object"&&"ids"in S){const O=S.data,{schema:N,table:U,commit_timestamp:H,type:Y,errors:L}=O;S=Object.assign(Object.assign({},{schema:N,table:U,commit_timestamp:H,eventType:Y,new:{},old:{},errors:L}),this._getPayloadRecords(O))}T.callback(S,s)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,i,s){const c=a.toLocaleLowerCase(),d={type:c,filter:i,callback:s};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,i){const s=a.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===s&&Bi.isEqual(c.filter,i))})),this}static isEqual(a,i){if(Object.keys(a).length!==Object.keys(i).length)return!1;for(const s in a)if(a[s]!==i[s])return!1;return!0}static isFilterValueEqual(a,i){return(a??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(ln.close,{},a)}_onError(a){this._on(ln.error,{},i=>a(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const i={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(i.new=v0(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(i.old=v0(a.columns,a.old_record)),i}};const uc=()=>{},_l={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},A_=[1e3,2e3,5e3,1e4],O_=1e4,j_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let R_=class{constructor(a,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wc,this.transport=null,this.heartbeatIntervalMs=_l.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uc,this.ref=0,this.reconnectTimer=null,this.vsn=m0,this.logger=uc,this.conn=null,this.sendBuffer=[],this.serializer=new p_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((s=i==null?void 0:i.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${a}/${Sc.websocket}`,this.httpEndpoint=Nm(a),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jm.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const i=a.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const i=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const a=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,i,s){this.logger(a,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ua.connecting:return za.Connecting;case Ua.open:return za.Open;case Ua.closing:return za.Closing;default:return za.Closed}}isConnected(){return this.connectionState()===za.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,i={config:{}}){const s=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===s);if(c)return c;{const d=new Um(`realtime:${a}`,i,this);return this.channels.push(d),d}}push(a){const{topic:i,event:s,payload:c,ref:d}=a,h=()=>{this.encode(a,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${i} ${s} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(v_,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},_l.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let i=this.channels.find(s=>s.topic===a&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${a}"`),i.unsubscribe())}_remove(a){this.channels=this.channels.filter(i=>i.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:c,payload:d,ref:h}=i,g=h?`(${h})`:"",m=d.status||"";this.log("receive",`${m} ${s} ${c} ${g}`.trim(),d),this.channels.filter(v=>v._isMember(s)).forEach(v=>v._trigger(c,d,h)),this._triggerStateCallbacks("message",i)})}_clearTimer(a){var i;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ua.open||this.conn.readyState===Ua.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var i;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(ln.error))}_appendParams(a,i){if(Object.keys(i).length===0)return a;const s=a.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${a}${s}${c}`}_workerObjectUrl(a){let i;if(a)i=a;else{const s=new Blob([j_],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(a,i=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(a=null){let i,s=!1;if(a)i=a,s=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),i=this.accessTokenValue}else i=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(c=>{const d={access_token:i,version:g_};i&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(ln.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${a}`,i)})}_triggerStateCallbacks(a,i){try{this.stateChangeCallbacks[a].forEach(s=>{try{s(i)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(s){this.log("error",`error triggering ${a} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Cm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_l.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var i,s,c,d,h,g,m,v,p,_,S,T;switch(this.transport=(i=a==null?void 0:a.transport)!==null&&i!==void 0?i:null,this.timeout=(s=a==null?void 0:a.timeout)!==null&&s!==void 0?s:wc,this.heartbeatIntervalMs=(c=a==null?void 0:a.heartbeatIntervalMs)!==null&&c!==void 0?c:_l.HEARTBEAT_INTERVAL,this.worker=(d=a==null?void 0:a.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=a==null?void 0:a.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=a==null?void 0:a.heartbeatCallback)!==null&&g!==void 0?g:uc,this.vsn=(m=a==null?void 0:a.vsn)!==null&&m!==void 0?m:m0,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=a==null?void 0:a.reconnectAfterMs)!==null&&v!==void 0?v:(O=>A_[O-1]||O_),this.vsn){case Rm:this.encode=(p=a==null?void 0:a.encode)!==null&&p!==void 0?p:((O,N)=>N(JSON.stringify(O))),this.decode=(_=a==null?void 0:a.decode)!==null&&_!==void 0?_:((O,N)=>N(JSON.parse(O)));break;case m_:this.encode=(S=a==null?void 0:a.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(T=a==null?void 0:a.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}};const C_=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:x_,get REALTIME_LISTEN_TYPES(){return Nr},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return xc},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Tc},get REALTIME_SUBSCRIBE_STATES(){return fn},RealtimeChannel:Um,RealtimeClient:R_,RealtimePresence:Dm,WebSocketFactory:jm},Symbol.toStringTag,{value:"Module"})),zm=Vi(C_);class Ki extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Ge(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class Mm extends Ki{constructor(a,i,s){super(a),this.name="StorageApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kl extends Ki{constructor(a,i){super(a),this.name="StorageUnknownError",this.originalError=i}}const Gc=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),k_=()=>Response,Ac=l=>{if(Array.isArray(l))return l.map(i=>Ac(i));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([i,s])=>{const c=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=Ac(s)}),a},N_=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},D_=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l),cc=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},U_=(l,a,i)=>Q(void 0,void 0,void 0,function*(){const s=yield k_();l instanceof s&&!(i!=null&&i.noResolveJson)?l.json().then(c=>{const d=l.status||500,h=(c==null?void 0:c.statusCode)||d+"";a(new Mm(cc(c),d,h))}).catch(c=>{a(new kl(cc(c),c))}):a(new kl(cc(l),l))}),z_=(l,a,i,s)=>{const c={method:l,headers:(a==null?void 0:a.headers)||{}};return l==="GET"||!s?c:(N_(s)?(c.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),c.body=JSON.stringify(s)):c.body=s,a!=null&&a.duplex&&(c.duplex=a.duplex),Object.assign(Object.assign({},c),i))};function Ii(l,a,i,s,c,d){return Q(this,void 0,void 0,function*(){return new Promise((h,g)=>{l(i,z_(a,s,c,d)).then(m=>{if(!m.ok)throw m;return s!=null&&s.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>U_(m,g,s))})})}function Gi(l,a,i,s){return Q(this,void 0,void 0,function*(){return Ii(l,"GET",a,i,s)})}function sn(l,a,i,s,c){return Q(this,void 0,void 0,function*(){return Ii(l,"POST",a,s,c,i)})}function Oc(l,a,i,s,c){return Q(this,void 0,void 0,function*(){return Ii(l,"PUT",a,s,c,i)})}function M_(l,a,i,s){return Q(this,void 0,void 0,function*(){return Ii(l,"HEAD",a,Object.assign(Object.assign({},i),{noResolveJson:!0}),s)})}function $c(l,a,i,s,c){return Q(this,void 0,void 0,function*(){return Ii(l,"DELETE",a,s,c,i)})}class B_{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i}then(a,i){return this.execute().then(a,i)}execute(){return Q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}}var Bm;class q_{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i,this[Bm]="BlobDownloadBuilder",this.promise=null}asStream(){return new B_(this.downloadFn,this.shouldThrowOnError)}then(a,i){return this.getPromise().then(a,i)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}}Bm=Symbol.toStringTag;const L_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},y0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class H_{constructor(a,i={},s,c){this.shouldThrowOnError=!1,this.url=a,this.headers=i,this.bucketId=s,this.fetch=Gc(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,i,s,c){return Q(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},y0),c);let g=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),m&&d.append("metadata",this.encodeMetadata(m)),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.has("cacheControl")||d.append("cacheControl",h.cacheControl),m&&!d.has("metadata")&&d.append("metadata",this.encodeMetadata(m))):(d=s,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,m&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!h.duplex&&(h.duplex="half")),c!=null&&c.headers&&(g=Object.assign(Object.assign({},g),c.headers));const v=this._removeEmptyFolders(i),p=this._getFinalPath(v),_=yield(a=="PUT"?Oc:sn)(this.fetch,`${this.url}/object/${p}`,d,Object.assign({headers:g},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:_.Id,fullPath:_.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ge(d))return{data:null,error:d};throw d}})}upload(a,i,s){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,i,s)})}uploadToSignedUrl(a,i,s,c){return Q(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(a),h=this._getFinalPath(d),g=new URL(this.url+`/object/upload/sign/${h}`);g.searchParams.set("token",i);try{let m;const v=Object.assign({upsert:y0.upsert},c),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",v.cacheControl)):(m=s,p["cache-control"]=`max-age=${v.cacheControl}`,p["content-type"]=v.contentType);const _=yield Oc(this.fetch,g.toString(),m,{headers:p});return{data:{path:d,fullPath:_.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Ge(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(a,i){return Q(this,void 0,void 0,function*(){try{let s=this._getFinalPath(a);const c=Object.assign({},this.headers);i!=null&&i.upsert&&(c["x-upsert"]="true");const d=yield sn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:c}),h=new URL(this.url+d.url),g=h.searchParams.get("token");if(!g)throw new Ki("No token returned by API");return{data:{signedUrl:h.toString(),path:a,token:g},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}update(a,i,s){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,i,s)})}move(a,i,s){return Q(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:i,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}copy(a,i,s){return Q(this,void 0,void 0,function*(){try{return{data:{path:(yield sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:i,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}createSignedUrl(a,i,s){return Q(this,void 0,void 0,function*(){try{let c=this._getFinalPath(a),d=yield sn(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:i},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const h=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}createSignedUrls(a,i,s){return Q(this,void 0,void 0,function*(){try{const c=yield sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:a},{headers:this.headers}),d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}download(a,i){const c=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),h=d?`?${d}`:"",g=this._getFinalPath(a),m=()=>Gi(this.fetch,`${this.url}/${c}/${g}${h}`,{headers:this.headers,noResolveJson:!0});return new q_(m,this.shouldThrowOnError)}info(a){return Q(this,void 0,void 0,function*(){const i=this._getFinalPath(a);try{const s=yield Gi(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Ac(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}exists(a){return Q(this,void 0,void 0,function*(){const i=this._getFinalPath(a);try{return yield M_(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s)&&s instanceof kl){const c=s.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:s}}throw s}})}getPublicUrl(a,i){const s=this._getFinalPath(a),c=[],d=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&c.push(d);const g=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});m!==""&&c.push(m);let v=c.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${s}${v}`)}}}remove(a){return Q(this,void 0,void 0,function*(){try{return{data:yield $c(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}list(a,i,s){return Q(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},L_),i),{prefix:a||""});return{data:yield sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},s),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}listV2(a,i){return Q(this,void 0,void 0,function*(){try{const s=Object.assign({},a);return{data:yield sn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const i=[];return a.width&&i.push(`width=${a.width}`),a.height&&i.push(`height=${a.height}`),a.resize&&i.push(`resize=${a.resize}`),a.format&&i.push(`format=${a.format}`),a.quality&&i.push(`quality=${a.quality}`),i.join("&")}}const qm="2.87.1",Lm={"X-Client-Info":`storage-js/${qm}`};class G_{constructor(a,i={},s,c){this.shouldThrowOnError=!1;const d=new URL(a);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lm),i),this.fetch=Gc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return Q(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(a);return{data:yield Gi(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}getBucket(a){return Q(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}createBucket(a){return Q(this,arguments,void 0,function*(i,s={public:!1}){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}updateBucket(a,i){return Q(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}emptyBucket(a){return Q(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}deleteBucket(a){return Q(this,void 0,void 0,function*(){try{return{data:yield $c(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(a){const i={};return a&&("limit"in a&&(i.limit=String(a.limit)),"offset"in a&&(i.offset=String(a.offset)),a.search&&(i.search=a.search),a.sortColumn&&(i.sortColumn=a.sortColumn),a.sortOrder&&(i.sortOrder=a.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var $i=class extends Error{constructor(l,a){var i;super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&((i=a.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function $_(l,a,i){const s=new URL(a,l);if(i)for(const[c,d]of Object.entries(i))d!==void 0&&s.searchParams.set(c,d);return s.toString()}async function V_(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function Y_(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:i,path:s,query:c,body:d,headers:h}){const g=$_(l.baseUrl,s,c),m=await V_(l.auth),v=await a(g,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...m,...h},body:d?JSON.stringify(d):void 0}),p=await v.text(),_=(v.headers.get("content-type")||"").includes("application/json"),S=_&&p?JSON.parse(p):p;if(!v.ok){const T=_?S:void 0,O=T==null?void 0:T.error;throw new $i((O==null?void 0:O.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:O==null?void 0:O.type,icebergCode:O==null?void 0:O.code,details:T})}return{status:v.status,headers:v.headers,data:S}}}}function wl(l){return l.join("")}var K_=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:wl(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(l,a){const i={namespace:l.namespace,properties:a==null?void 0:a.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wl(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wl(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wl(l.namespace)}`}),!0}catch(a){if(a instanceof $i&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(i){if(i instanceof $i&&i.status===409)return;throw i}}};function xr(l){return l.join("")}var I_=class{constructor(l,a="",i){this.client=l,this.prefix=a,this.accessDelegation=i}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xr(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xr(l.namespace)}/tables`,body:a,headers:i})).data.metadata}async updateTable(l,a){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xr(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xr(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String((a==null?void 0:a.purge)??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xr(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xr(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(i){if(i instanceof $i&&i.status===404)return!1;throw i}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(i){if(i instanceof $i&&i.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw i}}},Q_=class{constructor(l){var s;let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const i=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=Y_({baseUrl:i,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=(s=l.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new K_(this.client,a),this.tableOps=new I_(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}};class Hm{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lm),i),this.fetch=Gc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return Q(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}listBuckets(a){return Q(this,void 0,void 0,function*(){try{const i=new URLSearchParams;(a==null?void 0:a.limit)!==void 0&&i.set("limit",a.limit.toString()),(a==null?void 0:a.offset)!==void 0&&i.set("offset",a.offset.toString()),a!=null&&a.sortColumn&&i.set("sortColumn",a.sortColumn),a!=null&&a.sortOrder&&i.set("sortOrder",a.sortOrder),a!=null&&a.search&&i.set("search",a.search);const s=i.toString(),c=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Gi(this.fetch,c,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}deleteBucket(a){return Q(this,void 0,void 0,function*(){try{return{data:yield $c(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}from(a){if(!D_(a))throw new Ki("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new Q_({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>Q(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(i,{get(d,h){const g=d[h];return typeof g!="function"?g:(...m)=>Q(this,void 0,void 0,function*(){try{return{data:yield g.apply(d,m),error:null}}catch(v){if(s)throw v;return{data:null,error:v}}})}})}}const Vc={"X-Client-Info":`storage-js/${qm}`,"Content-Type":"application/json"};class Yc extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Rt(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class El extends Yc{constructor(a,i,s){super(a),this.name="StorageVectorsApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gm extends Yc{constructor(a,i){super(a),this.name="StorageVectorsUnknownError",this.originalError=i}}var jc;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(jc||(jc={}));const Ll=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),X_=()=>Response,$m=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},J_=l=>Array.from(new Float32Array(l)),Z_=(l,a)=>{if(a!==void 0&&l.float32.length!==a)throw new Error(`Vector dimension mismatch: expected ${a}, got ${l.float32.length}`)},p0=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),F_=(l,a,i)=>Q(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!(i!=null&&i.noResolveJson)){const c=l.status||500,d=l;if(typeof d.json=="function")d.json().then(h=>{const g=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||c+"";a(new El(p0(h),c,g))}).catch(()=>{const h=c+"",g=d.statusText||`HTTP ${c} error`;a(new El(g,c,h))});else{const h=c+"",g=d.statusText||`HTTP ${c} error`;a(new El(g,c,h))}}else a(new Gm(p0(l),l))}),P_=(l,a,i,s)=>{const c={method:l,headers:(a==null?void 0:a.headers)||{}};return s?($m(s)?(c.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),c.body=JSON.stringify(s)):c.body=s,Object.assign(Object.assign({},c),i)):c};function W_(l,a,i,s,c,d){return Q(this,void 0,void 0,function*(){return new Promise((h,g)=>{l(i,P_(a,s,c,d)).then(m=>{if(!m.ok)throw m;if(s!=null&&s.noResolveJson)return m;const v=m.headers.get("content-type");return!v||!v.includes("application/json")?{}:m.json()}).then(m=>h(m)).catch(m=>F_(m,g,s))})})}function Gt(l,a,i,s,c){return Q(this,void 0,void 0,function*(){return W_(l,"POST",a,s,c,i)})}class Vm{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vc),i),this.fetch=Ll(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return Q(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}getIndex(a,i){return Q(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:i},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}listIndexes(a){return Q(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}deleteIndex(a,i){return Q(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:i},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}})}}class Ym{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vc),i),this.fetch=Ll(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return Q(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gt(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}getVectors(a){return Q(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}listVectors(a){return Q(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield Gt(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}queryVectors(a){return Q(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}deleteVectors(a){return Q(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gt(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}}class Km{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vc),i),this.fetch=Ll(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return Q(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}getBucket(a){return Q(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}listBuckets(){return Q(this,arguments,void 0,function*(a={}){try{return{data:yield Gt(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}deleteBucket(a){return Q(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rt(i))return{data:null,error:i};throw i}})}}class Im extends Km{constructor(a,i={}){super(a,i.headers||{},i.fetch)}from(a){return new Qm(this.url,this.headers,a,this.fetch)}createBucket(a){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Q(this,void 0,void 0,function*(){return i.createBucket.call(this,a)})}getBucket(a){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Q(this,void 0,void 0,function*(){return i.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Q(this,arguments,void 0,function*(i={}){return a.listBuckets.call(this,i)})}deleteBucket(a){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Q(this,void 0,void 0,function*(){return i.deleteBucket.call(this,a)})}}class Qm extends Vm{constructor(a,i,s,c){super(a,i,c),this.vectorBucketName=s}createIndex(a){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Q(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Q(this,arguments,void 0,function*(i={}){return a.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Q(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Q(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new Xm(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class Xm extends Ym{constructor(a,i,s,c,d){super(a,i,d),this.vectorBucketName=s,this.indexName=c}putVectors(a){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Q(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Q(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Q(this,arguments,void 0,function*(i={}){return a.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Q(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Q(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ew extends G_{constructor(a,i={},s,c){super(a,i,s,c)}from(a){return new H_(this.url,this.headers,a,this.fetch)}get vectors(){return new Im(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Hm(this.url+"/iceberg",this.headers,this.fetch)}}const tw=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Hm,StorageApiError:Mm,StorageClient:ew,StorageError:Ki,StorageUnknownError:kl,StorageVectorsApiError:El,StorageVectorsClient:Im,StorageVectorsError:Yc,get StorageVectorsErrorCode(){return jc},StorageVectorsUnknownError:Gm,VectorBucketApi:Km,VectorBucketScope:Qm,VectorDataApi:Ym,VectorIndexApi:Vm,VectorIndexScope:Xm,isPlainObject:$m,isStorageError:Ge,isStorageVectorsError:Rt,normalizeToFloat32:J_,resolveFetch:Ll,resolveResponse:X_,validateVectorDimension:Z_},Symbol.toStringTag,{value:"Module"})),nw=Vi(tw);var dc={},Ui={},b0;function aw(){return b0||(b0=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.version=void 0,Ui.version="2.87.1"),Ui}var _0;function rw(){return _0||(_0=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_REALTIME_OPTIONS=l.DEFAULT_AUTH_OPTIONS=l.DEFAULT_DB_OPTIONS=l.DEFAULT_GLOBAL_OPTIONS=l.DEFAULT_HEADERS=void 0;const a=aw();let i="";typeof Deno<"u"?i="deno":typeof document<"u"?i="web":typeof navigator<"u"&&navigator.product==="ReactNative"?i="react-native":i="node",l.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${i}/${a.version}`},l.DEFAULT_GLOBAL_OPTIONS={headers:l.DEFAULT_HEADERS},l.DEFAULT_DB_OPTIONS={schema:"public"},l.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l.DEFAULT_REALTIME_OPTIONS={}})(dc)),dc}var hc={},w0;function iw(){return w0||(w0=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.fetchWithAuth=l.resolveHeadersConstructor=l.resolveFetch=void 0;const a=c=>c?(...d)=>c(...d):(...d)=>fetch(...d);l.resolveFetch=a;const i=()=>Headers;l.resolveHeadersConstructor=i;const s=(c,d,h)=>{const g=(0,l.resolveFetch)(h),m=(0,l.resolveHeadersConstructor)();return async(v,p)=>{var _;const S=(_=await d())!==null&&_!==void 0?_:c;let T=new m(p==null?void 0:p.headers);return T.has("apikey")||T.set("apikey",c),T.has("Authorization")||T.set("Authorization",`Bearer ${S}`),g(v,Object.assign(Object.assign({},p),{headers:T}))}};l.fetchWithAuth=s})(hc)),hc}var Un={},S0;function sw(){if(S0)return Un;S0=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.isBrowser=void 0,Un.uuid=l,Un.ensureTrailingSlash=a,Un.applySettingDefaults=s,Un.validateSupabaseUrl=c;function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var h=Math.random()*16|0,g=d=="x"?h:h&3|8;return g.toString(16)})}function a(d){return d.endsWith("/")?d:d+"/"}const i=()=>typeof window<"u";Un.isBrowser=i;function s(d,h){var g,m;const{db:v,auth:p,realtime:_,global:S}=d,{db:T,auth:O,realtime:N,global:U}=h,H={db:Object.assign(Object.assign({},T),v),auth:Object.assign(Object.assign({},O),p),realtime:Object.assign(Object.assign({},N),_),storage:{},global:Object.assign(Object.assign(Object.assign({},U),S),{headers:Object.assign(Object.assign({},(g=U==null?void 0:U.headers)!==null&&g!==void 0?g:{}),(m=S==null?void 0:S.headers)!==null&&m!==void 0?m:{})}),accessToken:async()=>""};return d.accessToken?H.accessToken=d.accessToken:delete H.accessToken,H}function c(d){const h=d==null?void 0:d.trim();if(!h)throw new Error("supabaseUrl is required.");if(!h.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a(h))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Un}var zi={};const Jm="2.87.1",Rr=30*1e3,Rc=3,fc=Rc*Rr,lw="http://localhost:9999",ow="supabase.auth.token",uw={"X-Client-Info":`gotrue-js/${Jm}`},Cc="X-Supabase-Api-Version",Zm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dw=600*1e3;let zr=class extends Error{constructor(a,i,s){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}};function W(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}let Fm=class extends zr{constructor(a,i,s){super(a,i,s),this.name="AuthApiError",this.status=i,this.code=s}};function Pm(l){return W(l)&&l.name==="AuthApiError"}let la=class extends zr{constructor(a,i){super(a),this.name="AuthUnknownError",this.originalError=i}},zn=class extends zr{constructor(a,i,s,c){super(a,s,c),this.name=i,this.status=s}},jt=class extends zn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Wm(l){return W(l)&&l.name==="AuthSessionMissingError"}let ka=class extends zn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},qi=class extends zn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}},Li=class extends zn{constructor(a,i=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function ev(l){return W(l)&&l.name==="AuthImplicitGrantRedirectError"}let kc=class extends zn{constructor(a,i=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Nl=class extends zn{constructor(a,i){super(a,"AuthRetryableFetchError",i,void 0)}};function Tl(l){return W(l)&&l.name==="AuthRetryableFetchError"}let Nc=class extends zn{constructor(a,i,s){super(a,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}};function hw(l){return W(l)&&l.name==="AuthWeakPasswordError"}let Dl=class extends zn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),E0=` 	
\r=`.split(""),fw=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<E0.length;a+=1)l[E0[a].charCodeAt(0)]=-2;for(let a=0;a<Ul.length;a+=1)l[Ul[a].charCodeAt(0)]=a;return l})();function T0(l,a,i){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;i(Ul[s]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;i(Ul[s]),a.queuedBits-=6}}function tv(l,a,i){const s=fw[l];if(s>-1)for(a.queue=a.queue<<6|s,a.queuedBits+=6;a.queuedBits>=8;)i(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function x0(l){const a=[],i=h=>{a.push(String.fromCodePoint(h))},s={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{vw(h,s,i)};for(let h=0;h<l.length;h+=1)tv(l.charCodeAt(h),c,d);return a.join("")}function gw(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function mw(l,a){for(let i=0;i<l.length;i+=1){let s=l.charCodeAt(i);if(s>55295&&s<=56319){const c=(s-55296)*1024&65535;s=(l.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}gw(s,a)}}function vw(l,a,i){if(a.utf8seq===0){if(l<=127){i(l);return}for(let s=1;s<6;s+=1)if((l>>7-s&1)===0){a.utf8seq=s;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&i(a.codepoint)}}function Dr(l){const a=[],i={queue:0,queuedBits:0},s=c=>{a.push(c)};for(let c=0;c<l.length;c+=1)tv(l.charCodeAt(c),i,s);return new Uint8Array(a)}function yw(l){const a=[];return mw(l,i=>a.push(i)),new Uint8Array(a)}function Ma(l){const a=[],i={queue:0,queuedBits:0},s=c=>{a.push(c)};return l.forEach(c=>T0(c,i,s)),T0(null,i,s),a.join("")}function pw(l){return Math.round(Date.now()/1e3)+l}function bw(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",Ra={tested:!1,writable:!1},nv=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ra.tested)return Ra.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Ra.tested=!0,Ra.writable=!0}catch{Ra.tested=!0,Ra.writable=!1}return Ra.writable};function _w(l){const a={},i=new URL(l);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return i.searchParams.forEach((s,c)=>{a[c]=s}),a}const av=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),ww=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Cr=async(l,a,i)=>{await l.setItem(a,JSON.stringify(i))},Ca=async(l,a)=>{const i=await l.getItem(a);if(!i)return null;try{return JSON.parse(i)}catch{return i}},ht=async(l,a)=>{await l.removeItem(a)};class Hl{constructor(){this.promise=new Hl.promiseConstructor((a,i)=>{this.resolve=a,this.reject=i})}}Hl.promiseConstructor=Promise;function gc(l){const a=l.split(".");if(a.length!==3)throw new Dl("Invalid JWT structure");for(let s=0;s<a.length;s++)if(!cw.test(a[s]))throw new Dl("JWT not in base64url format");return{header:JSON.parse(x0(a[0])),payload:JSON.parse(x0(a[1])),signature:Dr(a[2]),raw:{header:a[0],payload:a[1]}}}async function Sw(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function Ew(l,a){return new Promise((s,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await l(d);if(!a(d,null,h)){s(h);return}}catch(h){if(!a(d,h)){c(h);return}}})()})}function Tw(l){return("0"+l.toString(16)).substr(-2)}function xw(){const a=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let c="";for(let d=0;d<56;d++)c+=i.charAt(Math.floor(Math.random()*s));return c}return crypto.getRandomValues(a),Array.from(a,Tw).join("")}async function Aw(l){const i=new TextEncoder().encode(l),s=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(s);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function Ow(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const i=await Aw(l);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ar(l,a,i=!1){const s=xw();let c=s;i&&(c+="/PASSWORD_RECOVERY"),await Cr(l,`${a}-code-verifier`,c);const d=await Ow(s);return[d,s===d?"plain":"s256"]}const jw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rw(l){const a=l.headers.get(Cc);if(!a||!a.match(jw))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function Cw(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function kw(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Or(l){if(!Nw.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mc(){const l={};return new Proxy(l,{get:(a,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dw(l,a){return new Proxy(l,{get:(i,s,c)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const d=s.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,c)}return!a.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(i,s,c)}})}function A0(l){return JSON.parse(JSON.stringify(l))}const Na=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Uw=[502,503,504];async function O0(l){var a;if(!ww(l))throw new Nl(Na(l),0);if(Uw.includes(l.status))throw new Nl(Na(l),l.status);let i;try{i=await l.json()}catch(d){throw new la(Na(d),d)}let s;const c=Rw(l);if(c&&c.getTime()>=Zm["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new Nc(Na(i),l.status,((a=i.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(s==="session_not_found")throw new jt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new Nc(Na(i),l.status,i.weak_password.reasons);throw new Fm(Na(i),l.status||500,s)}const zw=(l,a,i,s)=>{const c={method:l,headers:(a==null?void 0:a.headers)||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),c.body=JSON.stringify(s),Object.assign(Object.assign({},c),i))};async function ae(l,a,i,s){var c;const d=Object.assign({},s==null?void 0:s.headers);d[Cc]||(d[Cc]=Zm["2024-01-01"].name),s!=null&&s.jwt&&(d.Authorization=`Bearer ${s.jwt}`);const h=(c=s==null?void 0:s.query)!==null&&c!==void 0?c:{};s!=null&&s.redirectTo&&(h.redirect_to=s.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await Mw(l,a,i+g,{headers:d,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(m):{data:Object.assign({},m),error:null}}async function Mw(l,a,i,s,c,d){const h=zw(a,s,c,d);let g;try{g=await l(i,Object.assign({},h))}catch(m){throw console.error(m),new Nl(Na(m),0)}if(g.ok||await O0(g),s!=null&&s.noResolveJson)return g;try{return await g.json()}catch(m){await O0(m)}}function rn(l){var a;let i=null;Lw(l)&&(i=Object.assign({},l),l.expires_at||(i.expires_at=pw(l.expires_in)));const s=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:i,user:s},error:null}}function j0(l){const a=rn(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(a.data.weak_password=l.weak_password),a}function oa(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function Bw(l){return{data:l,error:null}}function qw(l){const{action_link:a,email_otp:i,hashed_token:s,redirect_to:c,verification_type:d}=l,h=Mr(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:a,email_otp:i,hashed_token:s,redirect_to:c,verification_type:d},m=Object.assign({},h);return{data:{properties:g,user:m},error:null}}function R0(l){return l}function Lw(l){return l.access_token&&l.refresh_token&&l.expires_in}const xl=["global","local","others"];let Kc=class{constructor({url:a="",headers:i={},fetch:s}){this.url=a,this.headers=i,this.fetch=av(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,i=xl[0]){if(xl.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xl.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}async inviteUserByEmail(a,i={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:oa})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async generateLink(a){try{const{options:i}=a,s=Mr(a,["options"]),c=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(c.new_email=s==null?void 0:s.newEmail,delete c.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:qw,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(W(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(a){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:oa})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async listUsers(a){var i,s,c,d,h,g,m;try{const v={nextPage:null,lastPage:0,total:0},p=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=a==null?void 0:a.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(d=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:R0});if(p.error)throw p.error;const _=await p.json(),S=(h=p.headers.get("x-total-count"))!==null&&h!==void 0?h:0,T=(m=(g=p.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return T.length>0&&(T.forEach(O=>{const N=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(O.split(";")[1].split("=")[1]);v[`${U}Page`]=N}),v.total=parseInt(S)),{data:Object.assign(Object.assign({},_),v),error:null}}catch(v){if(W(v))return{data:{users:[]},error:v};throw v}}async getUserById(a){Or(a);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:oa})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async updateUserById(a,i){Or(a);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:i,headers:this.headers,xform:oa})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async deleteUser(a,i=!1){Or(a);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:i},xform:oa})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async _listFactors(a){Or(a.userId);try{const{data:i,error:s}=await ae(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:s}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _deleteFactor(a){Or(a.userId),Or(a.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _listOAuthClients(a){var i,s,c,d,h,g,m;try{const v={nextPage:null,lastPage:0,total:0},p=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=a==null?void 0:a.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(d=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:R0});if(p.error)throw p.error;const _=await p.json(),S=(h=p.headers.get("x-total-count"))!==null&&h!==void 0?h:0,T=(m=(g=p.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return T.length>0&&(T.forEach(O=>{const N=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(O.split(";")[1].split("=")[1]);v[`${U}Page`]=N}),v.total=parseInt(S)),{data:Object.assign(Object.assign({},_),v),error:null}}catch(v){if(W(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(a){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}async _getOAuthClient(a){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}async _updateOAuthClient(a,i){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(a){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(a){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}};function C0(l={}){return{getItem:a=>l[a]||null,setItem:(a,i)=>{l[a]=i},removeItem:a=>{delete l[a]}}}const Da={debug:!!(globalThis&&nv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ic extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}let rv=class extends Ic{};class Hw extends Ic{}async function iv(l,a,i){Da.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const s=new globalThis.AbortController;return a>0&&setTimeout(()=>{s.abort(),Da.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async c=>{if(c){Da.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await i()}finally{Da.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(a===0)throw Da.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new rv(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Da.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}const k0={};async function Gw(l,a,i){var s;const c=(s=k0[l])!==null&&s!==void 0?s:Promise.resolve(),d=Promise.race([c.catch(()=>null),a>=0?new Promise((h,g)=>{setTimeout(()=>{g(new Hw(`Acquring process lock with name "${l}" timed out`))},a)}):null].filter(h=>h)).catch(h=>{if(h&&h.isAcquireTimeout)throw h;return null}).then(async()=>await i());return k0[l]=d.catch(async h=>{if(h&&h.isAcquireTimeout)return await c,null;throw h}),await d}function $w(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sv(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Vw(l){return parseInt(l,16)}function Yw(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,s=>s.toString(16).padStart(2,"0")).join("")}function Kw(l){var a;const{chainId:i,domain:s,expirationTime:c,issuedAt:d=new Date,nonce:h,notBefore:g,requestId:m,resources:v,scheme:p,uri:_,version:S}=l;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const T=sv(l.address),O=p?`${p}://${s}`:s,N=l.statement?`${l.statement}
`:"",U=`${O} wants you to sign in with your Ethereum account:
${T}

${N}`;let H=`URI: ${_}
Version: ${S}
Chain ID: ${i}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(c&&(H+=`
Expiration Time: ${c.toISOString()}`),g&&(H+=`
Not Before: ${g.toISOString()}`),m&&(H+=`
Request ID: ${m}`),v){let Y=`
Resources:`;for(const L of v){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);Y+=`
- ${L}`}H+=Y}return`${U}
${H}`}class Pe extends Error{constructor({message:a,code:i,cause:s,name:c}){var d;super(a,{cause:s}),this.__isWebAuthnError=!0,this.name=(d=c??(s instanceof Error?s.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class zl extends Pe{constructor(a,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:a}),this.name="WebAuthnUnknownError",this.originalError=i}}function Iw({error:l,options:a}){var i,s,c;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Pe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Pe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((s=d.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Pe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Pe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Pe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Pe({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return d.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Pe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Pe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const h=window.location.hostname;if(lv(h)){if(d.rp.id!==h)return new Pe({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Pe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Qw({error:l,options:a}){const{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Pe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Pe({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const s=window.location.hostname;if(lv(s)){if(i.rpId!==s)return new Pe({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class Xw{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Jw=new Xw;function Zw(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:i,excludeCredentials:s}=l,c=Mr(l,["challenge","user","excludeCredentials"]),d=Dr(a).buffer,h=Object.assign(Object.assign({},i),{id:Dr(i.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:d,user:h});if(s&&s.length>0){g.excludeCredentials=new Array(s.length);for(let m=0;m<s.length;m++){const v=s[m];g.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:Dr(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return g}function Fw(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:i}=l,s=Mr(l,["challenge","allowCredentials"]),c=Dr(a).buffer,d=Object.assign(Object.assign({},s),{challenge:c});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const g=i[h];d.allowCredentials[h]=Object.assign(Object.assign({},g),{id:Dr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function Pw(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const i=l;return{id:l.id,rawId:l.id,response:{attestationObject:Ma(new Uint8Array(l.response.attestationObject)),clientDataJSON:Ma(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Ww(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const i=l,s=l.getClientExtensionResults(),c=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Ma(new Uint8Array(c.authenticatorData)),clientDataJSON:Ma(new Uint8Array(c.clientDataJSON)),signature:Ma(new Uint8Array(c.signature)),userHandle:c.userHandle?Ma(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function lv(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function N0(){var l,a;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function eS(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new zl("Browser returned unexpected credential type",a)}:{data:null,error:new zl("Empty credential response",a)}}catch(a){return{data:null,error:Iw({error:a,options:l})}}}async function tS(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new zl("Browser returned unexpected credential type",a)}:{data:null,error:new zl("Empty credential response",a)}}catch(a){return{data:null,error:Qw({error:a,options:l})}}}const nS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},aS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ml(...l){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),s={};for(const c of l)if(c)for(const d in c){const h=c[d];if(h!==void 0)if(Array.isArray(h))s[d]=h;else if(i(h))s[d]=h;else if(a(h)){const g=s[d];a(g)?s[d]=Ml(g,h):s[d]=Ml(h)}else s[d]=h}return s}function rS(l,a){return Ml(nS,l,a||{})}function iS(l,a){return Ml(aS,l,a||{})}class sS{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:i,friendlyName:s,signal:c},d){try{const{data:h,error:g}=await this.client.mfa.challenge({factorId:a,webauthn:i});if(!h)return{data:null,error:g};const m=c??Jw.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${s}`),v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=rS(h.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:p,error:_}=await eS({publicKey:v,signal:m});return p?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:p}},error:null}:{data:null,error:_}}case"request":{const v=iS(h.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:p,error:_}=await tS(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:m}));return p?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:p}},error:null}:{data:null,error:_}}}}catch(h){return W(h)?{data:null,error:h}:{data:null,error:new la("Unexpected error in challenge",h)}}}async _verify({challengeId:a,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:a,webauthn:s})}async _authenticate({factorId:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new zr("rpId is required for WebAuthn authentication")};try{if(!N0())return{data:null,error:new la("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this.challenge({factorId:a,webauthn:{rpId:i,rpOrigins:s},signal:c},{request:d});if(!h)return{data:null,error:g};const{webauthn:m}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:s,credential_response:m.credential_response}})}catch(h){return W(h)?{data:null,error:h}:{data:null,error:new la("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new zr("rpId is required for WebAuthn registration")};try{if(!N0())return{data:null,error:new la("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(p=>{var _;return(_=p.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===a&&S.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:g};const{data:m,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:c},{create:d});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:s,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(h){return W(h)?{data:null,error:h}:{data:null,error:new la("Unexpected error in register",h)}}}}$w();const lS={url:lw,storageKey:ow,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function D0(l,a,i){return await i()}const jr={};let Qc=class Dc{get jwks(){var a,i;return(i=(a=jr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(a){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,i;return(i=(a=jr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{cachedAt:a})}constructor(a){var i,s,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},lS),a);if(this.storageKey=d.storageKey,this.instanceID=(i=Dc.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Dc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&ft()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Kc({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=av(d.fetch),this.lock=d.lock||D0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&ft()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=iv:this.lock=D0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:nv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=C0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=C0(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Jm}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let i={},s="none";if(ft()&&(i=_w(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),ft()&&this.detectSessionInUrl&&s!=="none"){const{data:c,error:d}=await this._getSessionFromURL(i,s);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),ev(d)){const m=(a=d.details)===null||a===void 0?void 0:a.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return W(i)?this._returnResult({error:i}):this._returnResult({error:new la("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var i,s,c;try{const d=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=a==null?void 0:a.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(c=a==null?void 0:a.options)===null||c===void 0?void 0:c.captchaToken}},xform:rn}),{data:h,error:g}=d;if(g||!h)return this._returnResult({data:{user:null,session:null},error:g});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(d){if(W(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var i,s,c;try{let d;if("email"in a){const{email:p,password:_,options:S}=a;let T=null,O=null;this.flowType==="pkce"&&([T,O]=await Ar(this.storage,this.storageKey)),d=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:p,password:_,data:(i=S==null?void 0:S.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:T,code_challenge_method:O},xform:rn})}else if("phone"in a){const{phone:p,password:_,options:S}=a;d=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:_,data:(s=S==null?void 0:S.data)!==null&&s!==void 0?s:{},channel:(c=S==null?void 0:S.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:rn})}else throw new qi("You must provide either an email or phone number and a password");const{data:h,error:g}=d;if(g||!h)return await ht(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(d){if(await ht(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let i;if("email"in a){const{email:d,password:h,options:g}=a;i=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:j0})}else if("phone"in a){const{phone:d,password:h,options:g}=a;i=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:j0})}else throw new qi("You must provide either an email or phone number and a password");const{data:s,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!s||!s.session||!s.user){const d=new ka;return this._returnResult({data:{user:null,session:null},error:d})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:c})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(a){var i,s,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(i=a.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=a.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:i}=a;switch(i){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(a){var i,s,c,d,h,g,m,v,p,_,S;let T,O;if("message"in a)T=a.message,O=a.signature;else{const{chain:N,wallet:U,statement:H,options:Y}=a;let L;if(ft())if(typeof U=="object")L=U;else{const ze=window;if("ethereum"in ze&&typeof ze.ethereum=="object"&&"request"in ze.ethereum&&typeof ze.ethereum.request=="function")L=ze.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(Y!=null&&Y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=U}const Z=new URL((i=Y==null?void 0:Y.url)!==null&&i!==void 0?i:window.location.href),he=await L.request({method:"eth_requestAccounts"}).then(ze=>ze).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!he||he.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const re=sv(he[0]);let X=(s=Y==null?void 0:Y.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!X){const ze=await L.request({method:"eth_chainId"});X=Vw(ze)}const ke={domain:Z.host,address:re,statement:H,uri:Z.href,version:"1",chainId:X,nonce:(c=Y==null?void 0:Y.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(d=Y==null?void 0:Y.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(g=Y==null?void 0:Y.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=Y==null?void 0:Y.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=Y==null?void 0:Y.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(p=Y==null?void 0:Y.signInWithEthereum)===null||p===void 0?void 0:p.resources};T=Kw(ke),O=await L.request({method:"personal_sign",params:[Yw(T),re]})}try{const{data:N,error:U}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:O},!((_=a.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:rn});if(U)throw U;if(!N||!N.session||!N.user){const H=new ka;return this._returnResult({data:{user:null,session:null},error:H})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:U})}catch(N){if(W(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(a){var i,s,c,d,h,g,m,v,p,_,S,T;let O,N;if("message"in a)O=a.message,N=a.signature;else{const{chain:U,wallet:H,statement:Y,options:L}=a;let Z;if(ft())if(typeof H=="object")Z=H;else{const re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))Z=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=H}const he=new URL((i=L==null?void 0:L.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Z&&Z.signIn){const re=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L==null?void 0:L.signInWithSolana),{version:"1",domain:he.host,uri:he.href}),Y?{statement:Y}:null));let X;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")X=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)X=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)O=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),N=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${he.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${he.href}`,`Issued At: ${(c=(s=L==null?void 0:L.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=L==null?void 0:L.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((h=L==null?void 0:L.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((g=L==null?void 0:L.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((m=L==null?void 0:L.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((v=L==null?void 0:L.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((_=(p=L==null?void 0:L.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||_===void 0)&&_.length?["Resources",...L.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const re=await Z.signMessage(new TextEncoder().encode(O),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=re}}try{const{data:U,error:H}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:Ma(N)},!((S=a.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(T=a.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:rn});if(H)throw H;if(!U||!U.session||!U.user){const Y=new ka;return this._returnResult({data:{user:null,session:null},error:Y})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:H})}catch(U){if(W(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async _exchangeCodeForSession(a){const i=await Ca(this.storage,`${this.storageKey}-code-verifier`),[s,c]=(i??"").split("/");try{const{data:d,error:h}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:s},xform:rn});if(await ht(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!d||!d.session||!d.user){const g=new ka;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(await ht(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:i,provider:s,token:c,access_token:d,nonce:h}=a,g=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:rn}),{data:m,error:v}=g;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const p=new ka;return this._returnResult({data:{user:null,session:null},error:p})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(a){var i,s,c,d,h;try{if("email"in a){const{email:g,options:m}=a;let v=null,p=null;this.flowType==="pkce"&&([v,p]=await Ar(this.storage,this.storageKey));const{error:_}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(i=m==null?void 0:m.data)!==null&&i!==void 0?i:{},create_user:(s=m==null?void 0:m.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:p},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in a){const{phone:g,options:m}=a,{data:v,error:p}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=m==null?void 0:m.data)!==null&&c!==void 0?c:{},create_user:(d=m==null?void 0:m.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:p})}throw new qi("You must provide either an email or phone number.")}catch(g){if(await ht(this.storage,`${this.storageKey}-code-verifier`),W(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(a){var i,s;try{let c,d;"options"in a&&(c=(i=a.options)===null||i===void 0?void 0:i.redirectTo,d=(s=a.options)===null||s===void 0?void 0:s.captchaToken);const{data:h,error:g}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:rn});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,v=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(c){if(W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var i,s,c,d,h;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await Ar(this.storage,this.storageKey));const v=await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(s=(i=a.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((c=a==null?void 0:a.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:Bw});return!((d=v.data)===null||d===void 0)&&d.url&&ft()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(g){if(await ht(this.storage,`${this.storageKey}-code-verifier`),W(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)throw s;if(!i)throw new jt;const{error:c}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(W(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const i=`${this.url}/resend`;if("email"in a){const{email:s,type:c,options:d}=a,{error:h}=await ae(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:s,type:c,options:d}=a,{data:h,error:g}=await ae(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g})}throw new qi("You must provide either an email or phone number and a type")}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(a,i){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await a(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const i=await Ca(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?a=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const s=a.expires_at?a.expires_at*1e3-Date.now()<fc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",a.expires_at),!s){if(this.userStorage){const h=await Ca(this.userStorage,this.storageKey+"-user");h!=null&&h.user?a.user=h.user:a.user=mc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=Dw(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(a){try{return a?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:oa}):await this._useSession(async i=>{var s,c,d;const{data:h,error:g}=i;if(g)throw g;return!(!((s=h.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:oa})})}catch(i){if(W(i))return Wm(i)&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(a,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,i))}async _updateUser(a,i={}){try{return await this._useSession(async s=>{const{data:c,error:d}=s;if(d)throw d;if(!c.session)throw new jt;const h=c.session;let g=null,m=null;this.flowType==="pkce"&&a.email!=null&&([g,m]=await Ar(this.storage,this.storageKey));const{data:v,error:p}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:m}),jwt:h.access_token,xform:oa});if(p)throw p;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(s){if(await ht(this.storage,`${this.storageKey}-code-verifier`),W(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new jt;const i=Date.now()/1e3;let s=i,c=!0,d=null;const{payload:h}=gc(a.access_token);if(h.exp&&(s=h.exp,c=s<=i),c){const{data:g,error:m}=await this._callRefreshToken(a.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:m}=await this._getUser(a.access_token);if(m)throw m;d={access_token:a.access_token,refresh_token:a.refresh_token,user:g.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(W(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async i=>{var s;if(!a){const{data:h,error:g}=i;if(g)throw g;a=(s=h.session)!==null&&s!==void 0?s:void 0}if(!(a!=null&&a.refresh_token))throw new jt;const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(a,i){try{if(!ft())throw new Li("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Li(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new kc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Li("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new kc("No code detected.");const{data:Y,error:L}=await this._exchangeCodeForSession(a.code);if(L)throw L;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:g,expires_at:m,token_type:v}=a;if(!d||!g||!h||!v)throw new Li("No session defined in URL");const p=Math.round(Date.now()/1e3),_=parseInt(g);let S=p+_;m&&(S=parseInt(m));const T=S-p;T*1e3<=Rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${_}s`);const O=S-_;p-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,S,p):p-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,S,p);const{data:N,error:U}=await this._getUser(d);if(U)throw U;const H={provider_token:s,provider_refresh_token:c,access_token:d,expires_in:_,expires_at:S,refresh_token:h,token_type:v,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:H,redirectType:a.type},error:null})}catch(s){if(W(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const i=await Ca(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&i)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:c,error:d}=i;if(d)return this._returnResult({error:d});const h=(s=c.session)===null||s===void 0?void 0:s.access_token;if(h){const{error:g}=await this.admin.signOut(h,a);if(g&&!(Pm(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return a!=="others"&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const i=bw(),s={id:i,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(a){return await this._useSession(async i=>{var s,c;try{const{data:{session:d},error:h}=i;if(h)throw h;await((s=this.stateChangeEmitters.get(a))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,i={}){let s=null,c=null;this.flowType==="pkce"&&([s,c]=await Ar(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:s,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(await ht(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(a=i.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var i;try{const{data:s,error:c}=await this._useSession(async d=>{var h,g,m,v,p;const{data:_,error:S}=d;if(S)throw S;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=a.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=a.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",T,{headers:this.headers,jwt:(p=(v=_.session)===null||v===void 0?void 0:v.access_token)!==null&&p!==void 0?p:void 0})});if(c)throw c;return ft()&&!(!((i=a.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:a.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(W(s))return this._returnResult({data:{provider:a.provider,url:null},error:s});throw s}}async linkIdentityIdToken(a){return await this._useSession(async i=>{var s;try{const{error:c,data:{session:d}}=i;if(c)throw c;const{options:h,provider:g,token:m,access_token:v,nonce:p}=a,_=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=d==null?void 0:d.access_token)!==null&&s!==void 0?s:void 0,body:{provider:g,id_token:m,access_token:v,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:rn}),{data:S,error:T}=_;return T?this._returnResult({data:{user:null,session:null},error:T}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new ka}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:T}))}catch(c){if(await ht(this.storage,`${this.storageKey}-code-verifier`),W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async i=>{var s,c;const{data:d,error:h}=i;if(h)throw h;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(s=d.session)===null||s===void 0?void 0:s.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(a){const i=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await Ew(async c=>(c>0&&await Sw(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:rn})),(c,d)=>{const h=200*Math.pow(2,c);return d&&Tl(d)&&Date.now()+h-s<Rr})}catch(s){if(this._debug(i,"error",s),W(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",i,"url",s),ft()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:a,url:s},error:null}}async _recoverAndRefresh(){var a,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const c=await Ca(this.storage,this.storageKey);if(c&&this.userStorage){let h=await Ca(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Cr(this.userStorage,this.storageKey+"-user",h)),c.user=(a=h==null?void 0:h.user)!==null&&a!==void 0?a:mc()}else if(c&&!c.user&&!c.user){const h=await Ca(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await ht(this.storage,this.storageKey+"-user"),await Cr(this.storage,this.storageKey,c)):c.user=mc()}if(this._debug(s,"session from storage",c),!this._isValidSession(c)){this._debug(s,"session is not valid"),c!==null&&await this._removeSession();return}const d=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<fc;if(this._debug(s,`session has${d?"":" not"} expired with margin of ${fc}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Tl(h)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(c.access_token);!g&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(s,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(s,"error",c),console.error(c);return}finally{this._debug(s,"end")}}async _callRefreshToken(a){var i,s;if(!a)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Hl;const{data:d,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!d.session)throw new jt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={data:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(c,"error",d),W(d)){const h={data:null,error:d};return Tl(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,i,s=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:a,session:i});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(a,i)}catch(m){d.push(m)}});if(await Promise.all(h),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await ht(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},a),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await Cr(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const d=A0(c);await Cr(this.storage,this.storageKey,d)}else{const c=A0(i);await Cr(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ht(this.storage,this.storageKey),await ht(this.storage,this.storageKey+"-code-verifier"),await ht(this.storage,this.storageKey+"-user"),this.userStorage&&await ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Rr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((s.expires_at*1e3-a)/Rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Rr}ms, refresh threshold is ${Rc} ticks`),c<=Rc&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Ic)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const i=`#_onVisibilityChanged(${a})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,i,s){const c=[`provider=${encodeURIComponent(i)}`];if(s!=null&&s.redirectTo&&c.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&c.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[d,h]=await Ar(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(g.toString())}if(s!=null&&s.queryParams){const d=new URLSearchParams(s.queryParams);c.push(d.toString())}return s!=null&&s.skipBrowserRedirect&&c.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async i=>{var s;const{data:c,error:d}=i;return d?this._returnResult({data:null,error:d}):await ae(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(s=c==null?void 0:c.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(a){try{return await this._useSession(async i=>{var s,c;const{data:d,error:h}=i;if(h)return this._returnResult({data:null,error:h});const g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:m,error:v}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(s=d==null?void 0:d.session)===null||s===void 0?void 0:s.access_token});return v?this._returnResult({data:null,error:v}):(a.factorType==="totp"&&m.type==="totp"&&(!((c=m==null?void 0:m.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Pw(a.webauthn.credential_response):Ww(a.webauthn.credential_response)})}:{code:a.code}),{data:g,error:m}=await ae(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(s=c==null?void 0:c.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=await ae(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(s=c==null?void 0:c.session)===null||s===void 0?void 0:s.access_token});if(h.error)return h;const{data:g}=h;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Zw(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Fw(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(a){const{data:i,error:s}=await this._challenge({factorId:a.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:a.factorId,challengeId:i.id,code:a.code})}async _listFactors(){var a;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=i==null?void 0:i.factors)!==null&&a!==void 0?a:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,i;const{data:{session:s},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=gc(s.access_token);let h=null;d.aal&&(h=d.aal);let g=h;((i=(a=s.user.factors)===null||a===void 0?void 0:a.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const v=d.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async i=>{const{data:{session:s},error:c}=i;return c?this._returnResult({data:null,error:c}):s?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:s.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new jt})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(a,i){try{return await this._useSession(async s=>{const{data:{session:c},error:d}=s;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new jt});const h=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&ft()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(a,i){try{return await this._useSession(async s=>{const{data:{session:c},error:d}=s;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new jt});const h=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&ft()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;return s?this._returnResult({data:null,error:s}):i?await ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new jt})})}catch(a){if(W(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async i=>{const{data:{session:s},error:c}=i;return c?this._returnResult({data:null,error:c}):s?(await ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jt})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(a,i={keys:[]}){let s=i.keys.find(g=>g.kid===a);if(s)return s;const c=Date.now();if(s=this.jwks.keys.find(g=>g.kid===a),s&&this.jwks_cached_at+dw>c)return s;const{data:d,error:h}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,s=d.keys.find(g=>g.kid===a),!s)?null:s}async getClaims(a,i={}){try{let s=a;if(!s){const{data:T,error:O}=await this.getSession();if(O||!T.session)return this._returnResult({data:null,error:O});s=T.session.access_token}const{header:c,payload:d,signature:h,raw:{header:g,payload:m}}=gc(s);i!=null&&i.allowExpired||Cw(d.exp);const v=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!v){const{error:T}=await this.getUser(s);if(T)throw T;return{data:{claims:d,header:c,signature:h},error:null}}const p=kw(c.alg),_=await crypto.subtle.importKey("jwk",v,p,!0,["verify"]);if(!await crypto.subtle.verify(p,_,h,yw(`${g}.${m}`)))throw new Dl("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}};Qc.nextInstanceID={};const oS=Kc,uS=Qc,cS=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:oS,AuthApiError:Fm,AuthClient:uS,AuthError:zr,AuthImplicitGrantRedirectError:Li,AuthInvalidCredentialsError:qi,AuthInvalidJwtError:Dl,AuthInvalidTokenResponseError:ka,AuthPKCEGrantCodeExchangeError:kc,AuthRetryableFetchError:Nl,AuthSessionMissingError:jt,AuthUnknownError:la,AuthWeakPasswordError:Nc,CustomAuthError:zn,GoTrueAdminApi:Kc,GoTrueClient:Qc,NavigatorLockAcquireTimeoutError:rv,SIGN_OUT_SCOPES:xl,isAuthApiError:Pm,isAuthError:W,isAuthImplicitGrantRedirectError:ev,isAuthRetryableFetchError:Tl,isAuthSessionMissingError:Wm,isAuthWeakPasswordError:hw,lockInternals:Da,navigatorLock:iv,processLock:Gw},Symbol.toStringTag,{value:"Module"})),ov=Vi(cS);var U0;function dS(){if(U0)return zi;U0=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.SupabaseAuthClient=void 0;const l=ov;let a=class extends l.AuthClient{constructor(s){super(s)}};return zi.SupabaseAuthClient=a,zi}var z0;function M0(){if(z0)return fl;z0=1,Object.defineProperty(fl,"__esModule",{value:!0});const l=wm,a=Om(),i=zm,s=nw,c=rw(),d=iw(),h=sw(),g=dS();class m{constructor(p,_,S){var T,O,N;this.supabaseUrl=p,this.supabaseKey=_;const U=(0,h.validateSupabaseUrl)(p);if(!_)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",U),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",U),this.storageUrl=new URL("storage/v1",U),this.functionsUrl=new URL("functions/v1",U);const H=`sb-${U.hostname.split(".")[0]}-auth-token`,Y={db:c.DEFAULT_DB_OPTIONS,realtime:c.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},c.DEFAULT_AUTH_OPTIONS),{storageKey:H}),global:c.DEFAULT_GLOBAL_OPTIONS},L=(0,h.applySettingDefaults)(S??{},Y);this.storageKey=(T=L.auth.storageKey)!==null&&T!==void 0?T:"",this.headers=(O=L.global.headers)!==null&&O!==void 0?O:{},L.accessToken?(this.accessToken=L.accessToken,this.auth=new Proxy({},{get:(Z,he)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(he)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((N=L.auth)!==null&&N!==void 0?N:{},this.headers,L.global.fetch),this.fetch=(0,d.fetchWithAuth)(_,this._getAccessToken.bind(this),L.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},L.realtime)),this.accessToken&&this.accessToken().then(Z=>this.realtime.setAuth(Z)).catch(Z=>console.warn("Failed to set initial Realtime auth token:",Z)),this.rest=new a.PostgrestClient(new URL("rest/v1",U).href,{headers:this.headers,schema:L.db.schema,fetch:this.fetch}),this.storage=new s.StorageClient(this.storageUrl.href,this.headers,this.fetch,S==null?void 0:S.storage),L.accessToken||this._listenForAuthEvents()}get functions(){return new l.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(p){return this.rest.from(p)}schema(p){return this.rest.schema(p)}rpc(p,_={},S={head:!1,get:!1,count:void 0}){return this.rest.rpc(p,_,S)}channel(p,_={config:{}}){return this.realtime.channel(p,_)}getChannels(){return this.realtime.getChannels()}removeChannel(p){return this.realtime.removeChannel(p)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var p,_;if(this.accessToken)return await this.accessToken();const{data:S}=await this.auth.getSession();return(_=(p=S.session)===null||p===void 0?void 0:p.access_token)!==null&&_!==void 0?_:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:p,persistSession:_,detectSessionInUrl:S,storage:T,userStorage:O,storageKey:N,flowType:U,lock:H,debug:Y,throwOnError:L},Z,he){const re={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new g.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},re),Z),storageKey:N,autoRefreshToken:p,persistSession:_,detectSessionInUrl:S,storage:T,userStorage:O,flowType:U,lock:H,debug:Y,throwOnError:L,fetch:he,hasCustomAuthorizationHeader:Object.keys(this.headers).some(X=>X.toLowerCase()==="authorization")})}_initRealtimeClient(p){return new i.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},p),{params:Object.assign({apikey:this.supabaseKey},p==null?void 0:p.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((_,S)=>{this._handleTokenChanged(_,"CLIENT",S==null?void 0:S.access_token)})}_handleTokenChanged(p,_,S){(p==="TOKEN_REFRESHED"||p==="SIGNED_IN")&&this.changedAccessToken!==S?(this.changedAccessToken=S,this.realtime.setAuth(S)):p==="SIGNED_OUT"&&(this.realtime.setAuth(),_=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return fl.default=m,fl}var B0;function hS(){return B0||(B0=1,(function(l){var a=Dn&&Dn.__createBinding||(Object.create?(function(p,_,S,T){T===void 0&&(T=S);var O=Object.getOwnPropertyDescriptor(_,S);(!O||("get"in O?!_.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return _[S]}}),Object.defineProperty(p,T,O)}):(function(p,_,S,T){T===void 0&&(T=S),p[T]=_[S]})),i=Dn&&Dn.__exportStar||function(p,_){for(var S in p)S!=="default"&&!Object.prototype.hasOwnProperty.call(_,S)&&a(_,p,S)},s=Dn&&Dn.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0}),l.createClient=l.SupabaseClient=l.FunctionRegion=l.FunctionsError=l.FunctionsRelayError=l.FunctionsFetchError=l.FunctionsHttpError=l.PostgrestError=void 0;const c=s(M0());i(ov,l);var d=Om();Object.defineProperty(l,"PostgrestError",{enumerable:!0,get:function(){return d.PostgrestError}});var h=wm;Object.defineProperty(l,"FunctionsHttpError",{enumerable:!0,get:function(){return h.FunctionsHttpError}}),Object.defineProperty(l,"FunctionsFetchError",{enumerable:!0,get:function(){return h.FunctionsFetchError}}),Object.defineProperty(l,"FunctionsRelayError",{enumerable:!0,get:function(){return h.FunctionsRelayError}}),Object.defineProperty(l,"FunctionsError",{enumerable:!0,get:function(){return h.FunctionsError}}),Object.defineProperty(l,"FunctionRegion",{enumerable:!0,get:function(){return h.FunctionRegion}}),i(zm,l);var g=M0();Object.defineProperty(l,"SupabaseClient",{enumerable:!0,get:function(){return s(g).default}});const m=(p,_,S)=>new c.default(p,_,S);l.createClient=m;function v(){if(typeof window<"u"||typeof process>"u")return!1;const p=process.version;if(p==null)return!1;const _=p.match(/^v(\d+)\./);return _?parseInt(_[1],10)<=18:!1}v()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Dn)),Dn}var uv=hS();const cv=Uc(uv),fS=kp({__proto__:null,default:cv},[uv]),{PostgrestError:l1,FunctionsHttpError:o1,FunctionsFetchError:u1,FunctionsRelayError:c1,FunctionsError:d1,FunctionRegion:h1,SupabaseClient:f1,createClient:gS,GoTrueAdminApi:g1,GoTrueClient:m1,AuthAdminApi:v1,AuthClient:y1,navigatorLock:p1,NavigatorLockAcquireTimeoutError:b1,lockInternals:_1,processLock:w1,SIGN_OUT_SCOPES:S1,AuthError:E1,AuthApiError:T1,AuthUnknownError:x1,CustomAuthError:A1,AuthSessionMissingError:O1,AuthInvalidTokenResponseError:j1,AuthInvalidCredentialsError:R1,AuthImplicitGrantRedirectError:C1,AuthPKCEGrantCodeExchangeError:k1,AuthRetryableFetchError:N1,AuthWeakPasswordError:D1,AuthInvalidJwtError:U1,isAuthError:z1,isAuthApiError:M1,isAuthSessionMissingError:B1,isAuthImplicitGrantRedirectError:q1,isAuthRetryableFetchError:L1,isAuthWeakPasswordError:H1,RealtimePresence:G1,RealtimeChannel:$1,RealtimeClient:V1,REALTIME_LISTEN_TYPES:Y1,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:K1,REALTIME_PRESENCE_LISTEN_EVENTS:I1,REALTIME_SUBSCRIBE_STATES:Q1,REALTIME_CHANNEL_STATES:X1}=cv||fS,mS="https://hmnbdkwjgmwchuyhtmqh.supabase.co",vS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhtbmJka3dqZ213Y2h1eWh0bXFoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2OTcyODMsImV4cCI6MjA4MTI3MzI4M30.hev4vRmT7VSmStDiYWKuasuqejZbDHBwi2C_9TB8JN0",nt=gS(mS,vS);async function yS(l,a){const{data:i,error:s}=await nt.auth.signUp({email:l,password:a});if(s)throw s;return i}async function pS(l,a){const{data:i,error:s}=await nt.auth.signInWithPassword({email:l,password:a});if(s)throw s;return i}async function bS(){const{data:l,error:a}=await nt.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(a)throw a;return l}async function _S(){const{error:l}=await nt.auth.signOut();if(l)throw l}async function wS(){const{data:{user:l}}=await nt.auth.getUser();return l}function SS(l){return nt.auth.onAuthStateChange(l)}function dv(l){return{id:l.id,title:l.title,tag:l.tag,tagColor:l.tag_color,time:l.time,completed:l.completed}}function hv(l){return{id:l.id,title:l.title,tag:l.tag||"work",start:l.start_hour,duration:l.duration,color:l.color||"bg-indigo-400/90 dark:bg-indigo-600/90 border-indigo-500",textColor:l.text_color||"text-indigo-950 dark:text-indigo-50",isGoogle:l.is_google,googleEventId:l.google_event_id||void 0}}async function q0(l){const{data:a,error:i}=await nt.from("tasks").select("*").eq("list_type",l).order("position",{ascending:!0});return i?(console.error("Error loading tasks:",i),[]):(a||[]).map(dv)}async function ES(l,a){const{data:{user:i}}=await nt.auth.getUser();if(!i)return null;const{data:s,error:c}=await nt.from("tasks").insert({user_id:i.id,title:l,list_type:a}).select().single();return c?(console.error("Error creating task:",c),null):dv(s)}async function TS(l){const{error:a}=await nt.from("tasks").delete().eq("id",l);return a?(console.error("Error deleting task:",a),!1):!0}async function xS(l){const i=new Date().toISOString().split("T")[0],{data:s,error:c}=await nt.from("schedule_blocks").select("*").eq("date",i).order("start_hour",{ascending:!0});return c?(console.error("Error loading schedule blocks:",c),[]):(s||[]).map(hv)}async function AS(l,a){const{data:{user:i}}=await nt.auth.getUser();if(!i)return null;const c=new Date().toISOString().split("T")[0],{data:d,error:h}=await nt.from("schedule_blocks").insert({user_id:i.id,title:l.title,tag:l.tag,start_hour:l.start,duration:l.duration,color:l.color,text_color:l.textColor,is_google:l.isGoogle||!1,google_event_id:l.googleEventId||null,date:c}).select().single();return h?(console.error("Error creating schedule block:",h),null):hv(d)}async function OS(l){const{error:a}=await nt.from("schedule_blocks").delete().eq("id",l);return a?(console.error("Error deleting schedule block:",a),!1):!0}async function jS(){const{data:{user:l}}=await nt.auth.getUser();if(!l)return null;const{data:a,error:i}=await nt.from("user_settings").select("*").eq("user_id",l.id).single();if(i){if(i.code==="PGRST116"){const{data:s,error:c}=await nt.from("user_settings").insert({user_id:l.id}).select().single();return c?(console.error("Error creating user settings:",c),null):{timeFormat:s.time_format,timezone:s.timezone,googleConnected:s.google_connected}}return console.error("Error loading user settings:",i),null}return{timeFormat:a.time_format,timezone:a.timezone,googleConnected:a.google_connected}}async function RS(l){const{data:{user:a}}=await nt.auth.getUser();if(!a)return!1;const i={};l.timeFormat!==void 0&&(i.time_format=l.timeFormat),l.timezone!==void 0&&(i.timezone=l.timezone),l.googleConnected!==void 0&&(i.google_connected=l.googleConnected);const{error:s}=await nt.from("user_settings").update(i).eq("user_id",a.id);return s?(console.error("Error saving user settings:",s),!1):!0}const fv=$0.createContext({isDark:!1,toggleTheme:()=>{}}),CS=()=>oe.useContext(fv),L0=[{id:1,title:"Love the demo!",tag:"demo",tagColor:"bg-fuchsia-100 text-fuchsia-700 dark:bg-fuchsia-900/30 dark:text-fuchsia-300",time:"12:00 PM",completed:!0},{id:2,title:"Move this timebox!",tag:"task",tagColor:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300",time:"09:00 AM",completed:!1},{id:3,title:"Drag and drop me!",tag:"move",tagColor:"bg-[#6F00FF]/10 text-[#6F00FF] dark:bg-[#6F00FF]/30 dark:text-violet-200",time:null,completed:!1}],H0=[{id:4,title:"Drop me in the later list!",tag:"later",tagColor:"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400",time:null,completed:!1},{id:5,title:"I'm a sub to-do!",tag:"later",tagColor:"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400",time:null,completed:!0},{id:6,title:"Test task for future",tag:null,tagColor:null,time:null,completed:!1}],kS=[{id:1,title:"Move this timebox!",tag:"task",start:9,duration:2,color:"bg-amber-400/90 dark:bg-amber-600/90 border-amber-500",textColor:"text-amber-950 dark:text-amber-50"},{id:2,title:"Love the demo!",tag:"demo",start:12,duration:1,color:"bg-emerald-300/90 dark:bg-emerald-600/90 border-emerald-400",textColor:"text-emerald-950 dark:text-emerald-50"}],G0=({task:l,onDragStart:a,onDelete:i})=>b.jsxs("div",{draggable:"true",onDragStart:s=>a(s,l),className:`group flex items-center gap-3 p-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg hover:border-[#6F00FF]/50 cursor-grab active:cursor-grabbing transition-all shadow-sm ${l.completed?"opacity-60":""}`,children:[b.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center cursor-pointer transition-colors ${l.completed?"bg-[#6F00FF] border-[#6F00FF]":"border-slate-300 dark:border-slate-600 hover:border-[#6F00FF]"}`,children:l.completed&&b.jsx(kr,{size:14,className:"text-white"})}),b.jsx("span",{className:`flex-1 text-sm font-medium ${l.completed?"line-through text-slate-400":"text-slate-700 dark:text-slate-200"}`,children:l.title}),l.tag&&b.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-semibold uppercase tracking-wide ${l.tagColor}`,children:l.tag}),l.time&&b.jsx("span",{className:"text-[10px] text-slate-400 font-mono border border-slate-100 dark:border-slate-800 px-1 rounded",children:l.time}),b.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[b.jsx("button",{className:"text-slate-300 hover:text-slate-600 dark:text-slate-600 dark:hover:text-slate-300",children:b.jsx(db,{size:16})}),b.jsx("button",{onClick:()=>i(l.id),className:"text-slate-300 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400",children:b.jsx(Mi,{size:16})})]})]}),NS=({onBack:l,user:a,onLogin:i,onLogout:s})=>{const{isDark:c,toggleTheme:d}=CS(),[h,g]=oe.useState("timebox"),[m,v]=oe.useState(!0),[p,_]=oe.useState(!1),[S,T]=oe.useState({timeFormat:"12h",timezone:"Local"}),[O,N]=oe.useState(null),[U,H]=oe.useState(!1),[Y,L]=oe.useState(!1);oe.useEffect(()=>{(async()=>{try{await Jb();const K=Xb();K&&hl()&&(console.log("Restored Google Calendar connection"),N(K)),Zb(async F=>{const Oe=await a_();Oe&&(N(Oe),Qb(Oe)),H(!1)}),L(!0)}catch(K){console.error("Failed to initialize Google APIs:",K)}})()},[]);const Z=()=>{H(!0),Fb()},he=()=>{Pb(),N(null)},[re,X]=oe.useState(L0),[ke,ze]=oe.useState(H0),[Ct,it]=oe.useState(kS),[We,on]=oe.useState(""),[$t,_t]=oe.useState(!1);oe.useEffect(()=>{(async()=>{if(a)try{const[K,F,Oe,Se]=await Promise.all([q0("active"),q0("later"),xS(),jS()]);(K.length>0||F.length>0)&&(X(K.length>0?K.map(se=>({id:se.id,title:se.title,tag:se.tag,tagColor:se.tagColor,time:se.time,completed:se.completed})):L0),ze(F.length>0?F.map(se=>({id:se.id,title:se.title,tag:se.tag,tagColor:se.tagColor,time:se.time,completed:se.completed})):H0)),Oe.length>0&&it(Oe),Se&&T({timeFormat:Se.timeFormat||"12h",timezone:Se.timezone||"Local"}),_t(!0)}catch(K){console.error("Error loading data:",K),_t(!0)}})()},[a]);const[D,$]=oe.useState(null),[te,pe]=oe.useState(null),[Te,x]=oe.useState(null),[M,V]=oe.useState(null),[I,ie]=oe.useState(null),[ce,be]=oe.useState(null),[et,qe]=oe.useState(!1),[en,qa]=oe.useState(!1),[kt,Nt]=oe.useState(null);oe.useEffect(()=>{if(kt){const G=setTimeout(()=>Nt(null),4e3);return()=>clearTimeout(G)}},[kt]),oe.useEffect(()=>{if(!a||!$t)return;(async()=>{await RS({timeFormat:S.timeFormat,timezone:S.timezone})})()},[S,a,$t]);const gn=[7,8,9,10,11,12,13,14,15],Mn=(G,K=!1)=>{const F=Math.floor(G),Oe=Math.round((G-F)*60),Se=Oe.toString().padStart(2,"0");if(S.timeFormat==="24h")return`${F.toString().padStart(2,"0")}:${Se}`;const se=F>=12?"PM":"AM",Le=F>12?F-12:F===0||F===24?12:F;return K&&Oe===0?`${Le} ${se}`:`${Le}:${Se} ${se}`};oe.useEffect(()=>{const G=F=>{if(M!==null&&I!==null&&ce!==null){const Se=(F.clientY-I)/96;let se=ce+Se;se=Math.round(se*4)/4,se<.25&&(se=.25),it(Le=>Le.map(mt=>mt.id===M?{...mt,duration:se}:mt))}},K=async()=>{if(M!==null){const F=Ct.find(Oe=>Oe.id===M);if(F!=null&&F.googleEventId&&O&&hl())try{await n_(F.googleEventId,F.title,F.start,F.duration,new Date),console.log("Updated Google Calendar event duration")}catch(Oe){console.error("Failed to update Google Calendar event:",Oe)}V(null),ie(null),be(null)}};return M!==null&&(window.addEventListener("mousemove",G),window.addEventListener("mouseup",K)),()=>{window.removeEventListener("mousemove",G),window.removeEventListener("mouseup",K)}},[M,I,ce,Ct,O]);const qr=async G=>{if(G.key==="Enter"&&We.trim()){const K=await ES(We.trim(),"active");if(K){const F={id:K.id,title:K.title,tag:K.tag,tagColor:K.tagColor,time:K.time,completed:K.completed};X([...re,F])}else{const F={id:Date.now(),title:We.trim(),tag:null,tagColor:null,time:null,completed:!1};X([...re,F])}on("")}},Qi=async(G,K)=>{await TS(String(G)),K==="active"?X(re.filter(F=>F.id!==G)):ze(ke.filter(F=>F.id!==G))},Xi=async G=>{const K=Ct.find(F=>F.id===G);if(K!=null&&K.googleEventId&&O&&hl())try{await t_(K.googleEventId),console.log("Deleted event from Google Calendar:",K.googleEventId)}catch(F){console.error("Failed to delete from Google Calendar:",F)}await OS(String(G)),it(Ct.filter(F=>F.id!==G))},Lr=async()=>{if(!a){Nt({type:"error",message:"Please sign in to sync your calendar!"});return}if(!O){Nt({type:"info",message:"Connect Google Calendar in Settings first"});return}qe(!0);try{const G=Ct.filter(Se=>Se.googleEventId).map(Se=>({id:Se.id,title:Se.title,start:Se.start,duration:Se.duration,googleEventId:Se.googleEventId})),K=await r_(G,new Date);it(Se=>{let se=[...Se];const Le=K.toAdd.map($e=>({id:$e.id,title:$e.title,tag:"google",start:$e.start,duration:$e.duration,color:"bg-blue-400/90 dark:bg-blue-600/90 border-blue-500",textColor:"text-blue-950 dark:text-blue-50",isGoogle:!0,googleEventId:$e.id}));se=[...se,...Le];for(const{localId:$e,event:st}of K.toUpdate)se=se.map(Vt=>Vt.id===$e?{...Vt,title:st.title,start:st.start,duration:st.duration}:Vt);const mt=new Set(K.toRemove);return se=se.filter($e=>!mt.has(String($e.id))),se});const{stats:F}=K;F.added+F.updated+F.removed>0?Nt({type:"success",message:`Synced: ${F.added} added, ${F.updated} updated, ${F.removed} removed`}):Nt({type:"success",message:"Calendar is up to date!"}),qa(!0)}catch(G){console.error("Sync failed:",G),Nt({type:"error",message:"Failed to sync with Google Calendar"})}finally{qe(!1)}},La=(G,K,F)=>{$({task:K,sourceList:F}),G.dataTransfer.setData("application/json",JSON.stringify({task:K,sourceList:F})),G.dataTransfer.effectAllowed="copyMove"},Ha=(G,K)=>{G.preventDefault(),te!==K&&pe(K),G.dataTransfer.dropEffect="move"},Ji=(G,K)=>{if(G.preventDefault(),pe(null),!D)return;const{task:F,sourceList:Oe}=D;if(Oe===K)return;Oe==="active"?X(se=>se.filter(Le=>Le.id!==F.id)):ze(se=>se.filter(Le=>Le.id!==F.id));const Se={...F};K!=="active"&&(Se.time=null),K==="active"?X(se=>[...se,Se]):ze(se=>[...se,Se]),$(null)},Gl=G=>{G.preventDefault(),G.dataTransfer.dropEffect="copy"},pt=async(G,K)=>{if(G.preventDefault(),x(null),!D)return;const{task:F}=D,Oe={title:F.title,tag:F.tag||"work",start:K,duration:1,color:"bg-indigo-400/90 dark:bg-indigo-600/90 border-indigo-500",textColor:"text-indigo-950 dark:text-indigo-50",isGoogle:O!==null},Se=await AS(Oe),se=Se?{...Se}:{id:Date.now(),...Oe};if(it(Le=>[...Le,se]),D.sourceList==="active"){const Le=Mn(K);X(mt=>mt.map($e=>$e.id===F.id?{...$e,time:Le}:$e))}if($(null),O&&hl())try{const Le=await e_(F.title,K,se.duration,new Date,F.tag||"work");console.log("Created Google Calendar event:",Le),it(mt=>mt.map($e=>$e.id===se.id?{...$e,googleEventId:Le}:$e)),Nt({type:"success",message:`Added "${F.title}" to Google Calendar`})}catch(Le){console.error("Failed to create Google Calendar event:",Le);const mt=(Le==null?void 0:Le.message)||"Unknown error";mt.includes("token expired")||mt.includes("Not signed in")?(Nt({type:"error",message:"Google session expired. Please reconnect in Settings."}),N(null)):Nt({type:"error",message:`Failed to add to Google Calendar: ${mt}`})}};return b.jsxs("div",{className:"flex flex-col h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 overflow-hidden",children:[kt&&b.jsxs("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 animate-in slide-in-from-top-2 duration-300 ${kt.type==="success"?"bg-emerald-500 text-white":kt.type==="error"?"bg-red-500 text-white":"bg-blue-500 text-white"}`,children:[kt.type==="success"&&b.jsx(n0,{size:18}),kt.type==="error"&&b.jsx(Mi,{size:18}),kt.type==="info"&&b.jsx(lc,{size:18}),b.jsx("span",{className:"text-sm font-medium",children:kt.message}),b.jsx("button",{onClick:()=>Nt(null),className:"ml-2 opacity-70 hover:opacity-100 transition-opacity",children:b.jsx(Mi,{size:14})})]}),b.jsxs("header",{className:"relative h-14 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between px-4 z-20 shrink-0",children:[b.jsx("div",{className:"flex items-center gap-4",children:b.jsxs("button",{onClick:l,className:"flex items-center gap-2 group cursor-pointer",children:[b.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shadow-md shadow-violet-600/20 overflow-hidden",children:b.jsx("img",{src:"/logo.svg",alt:"Ascend",className:"w-full h-full object-cover"})}),b.jsxs("span",{className:"font-bold text-lg tracking-tight",children:["Ascend",b.jsx("span",{className:"text-[#6F00FF]",children:"."})]})]})}),b.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 hidden md:flex items-center gap-8 font-bold text-xl tracking-tight",children:[b.jsx("button",{onClick:()=>g("dashboard"),className:`transition-colors uppercase ${h==="dashboard"?"text-[#6F00FF]":"text-slate-300 hover:text-slate-500 dark:text-slate-700 dark:hover:text-slate-500"}`,children:"Dashboard"}),b.jsx("button",{onClick:()=>g("timebox"),className:`transition-colors uppercase ${h==="timebox"?"text-[#6F00FF]":"text-slate-300 hover:text-slate-500 dark:text-slate-700 dark:hover:text-slate-500"}`,children:"Timebox"}),b.jsx("button",{onClick:()=>g("habittracker"),className:`transition-colors uppercase ${h==="habittracker"?"text-[#6F00FF]":"text-slate-300 hover:text-slate-500 dark:text-slate-700 dark:hover:text-slate-500"}`,children:"Habittracker"})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:()=>_(!0),className:"p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",title:"Settings",children:b.jsx(Cb,{size:18})}),b.jsx("button",{onClick:d,className:"p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:c?b.jsx(Nb,{size:18}):b.jsx(Ab,{size:18})}),b.jsxs("button",{onClick:Lr,disabled:et,className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-semibold transition-all ${en?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700"}`,children:[et?b.jsx(Al,{size:14,className:"animate-spin"}):en?b.jsx(n0,{size:14}):b.jsx(jb,{size:14}),et?"Syncing...":en?"Synced":"Sync"]}),b.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-slate-800 mx-1"}),a?b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-8 h-8 bg-gradient-to-tr from-violet-500 to-fuchsia-500 rounded-full flex items-center justify-center text-white text-xs font-bold border-2 border-white dark:border-slate-800 cursor-pointer",title:a.name,children:a.avatar}),b.jsx("button",{onClick:s,className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full transition-colors",title:"Log out",children:b.jsx(Tb,{size:16})})]}):b.jsx("button",{onClick:i,className:"text-sm font-semibold text-[#6F00FF] hover:bg-violet-50 dark:hover:bg-slate-800 px-3 py-1.5 rounded-full transition-colors",children:"Sign in"})]})]}),p&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in-up",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-md overflow-hidden border border-slate-200 dark:border-slate-800",children:[b.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[b.jsx("h2",{className:"font-bold text-lg",children:"Settings"}),b.jsx("button",{onClick:()=>_(!1),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full text-slate-500",children:b.jsx(Mi,{size:20})})]}),b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2 text-slate-700 dark:text-slate-300",children:"Time Format"}),b.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-lg",children:[b.jsx("button",{onClick:()=>T({...S,timeFormat:"12h"}),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${S.timeFormat==="12h"?"bg-white dark:bg-slate-700 shadow-sm text-indigo-600 dark:text-indigo-400":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"12-hour (9:00 AM)"}),b.jsx("button",{onClick:()=>T({...S,timeFormat:"24h"}),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${S.timeFormat==="24h"?"bg-white dark:bg-slate-700 shadow-sm text-indigo-600 dark:text-indigo-400":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"24-hour (09:00)"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2 text-slate-700 dark:text-slate-300",children:"Timezone"}),b.jsxs("div",{className:"relative",children:[b.jsxs("select",{value:S.timezone,onChange:G=>T({...S,timezone:G.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm appearance-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[b.jsx("option",{value:"Local",children:"Local Time"}),b.jsx("option",{value:"UTC",children:"UTC (Coordinated Universal Time)"}),b.jsx("option",{value:"EST",children:"EST (Eastern Standard Time)"}),b.jsx("option",{value:"PST",children:"PST (Pacific Standard Time)"}),b.jsx("option",{value:"CET",children:"CET (Central European Time)"})]}),b.jsx(ub,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),b.jsx(a0,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),b.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Your calendar events will be displayed in this timezone."})]}),b.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:[b.jsx("label",{className:"block text-sm font-medium mb-3 text-slate-700 dark:text-slate-300",children:"Google Calendar"}),O?b.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:O.picture,alt:O.name,className:"w-8 h-8 rounded-full"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:O.name}),b.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:O.email})]})]}),b.jsx("button",{onClick:he,className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Disconnect",children:b.jsx(Mb,{size:18})})]}):b.jsx("button",{onClick:Z,disabled:U||!Y,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:U?b.jsxs(b.Fragment,{children:[b.jsx(Al,{size:18,className:"animate-spin"}),b.jsx("span",{children:"Connecting..."})]}):b.jsxs(b.Fragment,{children:[b.jsx(lc,{size:18,className:"text-blue-500"}),b.jsx("span",{children:"Connect Google Calendar"})]})}),b.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Sync your schedule with Google Calendar."})]})]}),b.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:b.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium rounded-lg transition-colors",children:"Done"})})]})}),h==="dashboard"&&b.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 animate-fade-in-up",children:[b.jsx(mb,{size:64,className:"mb-4 opacity-20"}),b.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-300",children:"Dashboard View"}),b.jsx("p",{className:"mt-2",children:"Analytics and high-level overview coming soon."})]}),h==="habittracker"&&b.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 animate-fade-in-up",children:[b.jsx(Jp,{size:64,className:"mb-4 opacity-20"}),b.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-300",children:"Habit Tracker View"}),b.jsx("p",{className:"mt-2",children:"Track your daily streaks and habits here."})]}),h==="timebox"&&b.jsxs("div",{className:"flex-1 overflow-hidden grid grid-cols-1 md:grid-cols-12 divide-y md:divide-y-0 md:divide-x divide-slate-200 dark:divide-slate-800 animate-fade-in-up",children:[b.jsx("div",{className:"md:col-span-3 flex flex-col bg-white dark:bg-slate-900 overflow-y-auto",children:b.jsxs("div",{className:"p-4 space-y-6",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3 text-slate-800 dark:text-slate-100",children:[b.jsx(bb,{size:20,className:"text-[#6F00FF]"}),b.jsx("h2",{className:"font-bold text-lg",children:"To-do"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",value:We,onChange:G=>on(G.target.value),onKeyDown:qr,placeholder:"Type task & press Enter",className:"w-full pl-4 pr-10 py-2.5 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#6F00FF]/20 focus:border-[#6F00FF] transition-all"}),b.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-6 h-6 flex items-center justify-center bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded text-xs text-slate-400 font-mono shadow-sm",children:""})]})]}),b.jsxs("div",{className:`space-y-2 min-h-[100px] rounded-lg transition-colors ${te==="active"?"bg-indigo-50 dark:bg-indigo-900/20 ring-2 ring-indigo-400 ring-inset":""}`,onDragOver:G=>Ha(G,"active"),onDrop:G=>Ji(G,"active"),onDragLeave:()=>pe(null),children:[re.length===0&&b.jsx("p",{className:"text-center text-sm text-slate-400 py-8",children:"Drop tasks here"}),re.map(G=>b.jsx(G0,{task:G,onDragStart:K=>La(K,G,"active"),onDelete:K=>Qi(K,"active")},G.id))]}),b.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-800/50",children:[b.jsxs("button",{onClick:()=>v(!m),className:"flex items-center gap-2 text-slate-600 dark:text-slate-400 font-semibold mb-3 hover:text-[#6F00FF] transition-colors w-full",children:[b.jsx(lc,{size:18,className:m?"text-[#6F00FF]":""}),"To-do Later",m?b.jsx(a0,{size:16}):b.jsx(ib,{size:16})]}),m&&b.jsxs("div",{className:`space-y-2 pl-2 border-l-2 border-slate-100 dark:border-slate-800 ml-2 min-h-[50px] transition-colors ${te==="later"?"bg-indigo-50 dark:bg-indigo-900/20 ring-2 ring-indigo-400 ring-inset rounded-r-lg":""}`,onDragOver:G=>Ha(G,"later"),onDrop:G=>Ji(G,"later"),onDragLeave:()=>pe(null),children:[ke.length===0&&b.jsx("p",{className:"text-xs text-slate-400 py-4 italic",children:"Drag tasks here for later"}),ke.map(G=>b.jsx("div",{className:"pl-4",children:b.jsx(G0,{task:G,onDragStart:K=>La(K,G,"later"),onDelete:K=>Qi(K,"later")})},G.id))]})]})]})}),b.jsxs("div",{className:"md:col-span-6 bg-white dark:bg-slate-900 flex flex-col relative overflow-hidden",children:[b.jsx("div",{className:"flex-1 overflow-y-auto relative custom-scrollbar",children:b.jsxs("div",{className:"relative min-h-[800px] py-6",children:[b.jsxs("div",{className:"absolute left-0 right-0 top-[38%] z-20 flex items-center pointer-events-none",children:[b.jsx("div",{className:"w-14 text-right pr-2",children:b.jsx("span",{className:"text-[10px] font-bold text-emerald-500 bg-white dark:bg-slate-900 px-1",children:"1:00 PM"})}),b.jsx("div",{className:"h-px bg-emerald-500 flex-1 relative",children:b.jsx("div",{className:"absolute -left-1 -top-1 w-2 h-2 rounded-full bg-emerald-500"})})]}),gn.map(G=>b.jsxs("div",{className:`flex h-24 group relative transition-colors ${Te===G?"bg-indigo-50/50 dark:bg-indigo-900/20":""}`,onDragEnter:()=>x(G),onDragOver:Gl,onDrop:K=>pt(K,G),onDragLeave:()=>x(null),children:[b.jsx("div",{className:"w-14 shrink-0 text-right pr-3 text-xs text-slate-400 dark:text-slate-500 font-medium -mt-2",children:Mn(G,!0)}),b.jsxs("div",{className:"flex-1 border-t border-slate-100 dark:border-slate-800 relative",children:[b.jsx("div",{className:"absolute top-1/2 left-0 right-0 border-t border-dashed border-slate-50 dark:border-slate-800/50 w-full"}),Te===G&&b.jsx("div",{className:"absolute top-0 left-16 right-4 bottom-2 border-2 border-dashed border-[#6F00FF] bg-[#6F00FF]/10 rounded-lg z-0 pointer-events-none flex items-center justify-center text-[#6F00FF] font-medium text-sm",children:"Drop to schedule on Calendar"})]})]},G)),Ct.map(G=>{const K=(G.start-7)*96,F=G.duration*96,Oe=G.start+G.duration;return b.jsxs("div",{style:{top:`${K}px`,height:`${F}px`},className:`absolute left-16 right-4 rounded-lg p-3 border shadow-sm cursor-move hover:brightness-95 transition-all z-10 flex flex-col group ${G.color} ${G.textColor} ${M===G.id?"z-20 ring-2 ring-emerald-400 select-none":""}`,children:[b.jsxs("div",{className:"flex items-start justify-between pointer-events-none",children:[b.jsxs("span",{className:"text-xs font-medium opacity-80 flex items-center gap-1",children:[G.isGoogle&&b.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a5/Google_Calendar_icon_%282020%29.svg",className:"w-3 h-3",alt:"GCal"}),Mn(G.start),"  ",Mn(Oe)]}),b.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-auto",children:[b.jsx(lb,{size:14,className:"cursor-pointer"}),b.jsx("button",{onClick:()=>Xi(G.id),className:"hover:text-red-600",children:b.jsx(Mi,{size:14})})]})]}),b.jsx("h3",{className:"font-bold text-sm mt-1 pointer-events-none",children:G.title}),b.jsx("div",{className:"mt-auto flex items-center gap-2 pointer-events-none",children:G.tag&&b.jsx("span",{className:"text-[10px] uppercase font-bold opacity-60 bg-black/5 dark:bg-white/10 px-1.5 rounded",children:G.tag})}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 cursor-ns-resize flex items-end justify-center pb-1 opacity-0 group-hover:opacity-100 hover:opacity-100 transition-opacity z-20",onMouseDown:Se=>{Se.stopPropagation(),Se.preventDefault(),V(G.id),ie(Se.clientY),be(G.duration)},children:b.jsx("div",{className:"w-8 h-1 rounded-full bg-slate-400/50 dark:bg-slate-500/50 backdrop-blur-sm"})})]},G.id)})]})}),b.jsx("div",{className:"h-14 border-t border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 flex items-center justify-center shrink-0",children:b.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 bg-slate-100 dark:bg-slate-800 rounded-full text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-700 cursor-pointer transition-colors",children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),new Date().toLocaleDateString("sv-SE",{weekday:"long",day:"numeric",month:"long"}),b.jsx(qb,{size:14,className:"ml-1 text-slate-400"})]})})]}),b.jsx("div",{className:"md:col-span-3 bg-slate-50/50 dark:bg-slate-950 flex flex-col overflow-y-auto",children:b.jsxs("div",{className:"p-4 space-y-8",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3 text-slate-800 dark:text-slate-100",children:[b.jsx("div",{className:"text-[#6F00FF]",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z"}),b.jsx("path",{d:"M15 3v6h6"})]})}),b.jsx("h2",{className:"font-bold text-lg",children:"Notes"})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg shadow-sm overflow-hidden min-h-[200px] flex flex-col",children:[b.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-slate-100 dark:border-slate-800 text-slate-400",children:[b.jsx("button",{className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",children:b.jsx(Wp,{size:14})}),b.jsx("button",{className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",children:b.jsx(fb,{size:14})}),b.jsx("button",{className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",children:b.jsx(Ub,{size:14})}),b.jsx("div",{className:"w-px h-4 bg-slate-200 dark:bg-slate-700 mx-1"}),b.jsx("button",{className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",children:b.jsx(wb,{size:14})}),b.jsx("button",{className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",children:b.jsx(yb,{size:14})})]}),b.jsxs("div",{className:"p-3 text-sm text-slate-700 dark:text-slate-300 space-y-3 outline-none flex-1",children:[b.jsx("h3",{className:"font-bold text-lg",children:" Welcome to the Demo for timebox.so!"}),b.jsx("p",{children:" This would be your space for daily notes. But for now.. let's get you started with this demo:"}),b.jsxs("div",{className:"mt-4",children:[b.jsx("h4",{className:"font-bold flex items-center gap-2 mb-2",children:" Main Focus"}),b.jsx("ul",{className:"space-y-1",children:["Create some new to-dos","Drag and re-order some to-dos","Drop a to-do in the timebox scheduler","Check off a to-do to complete it!"].map((G,K)=>b.jsxs("li",{className:"flex items-start gap-2 opacity-50 line-through decoration-slate-400",children:[b.jsx("div",{className:"mt-1 min-w-[14px] h-[14px] bg-emerald-500 rounded flex items-center justify-center",children:b.jsx(kr,{size:10,className:"text-white"})}),b.jsx("span",{children:G})]},K))})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("h4",{className:"font-bold flex items-center gap-2 mb-2",children:" Extras"}),b.jsxs("ul",{className:"space-y-2",children:[b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx("div",{className:"mt-1 min-w-[14px] h-[14px] border border-slate-300 dark:border-slate-600 rounded"}),b.jsx("span",{children:"Tag a to-do with the # symbol (like #work)"})]}),b.jsxs("li",{className:"flex items-start gap-2",children:[b.jsx("div",{className:"mt-1 min-w-[14px] h-[14px] border border-slate-300 dark:border-slate-600 rounded"}),b.jsx("span",{children:"Drag a to-do into the to-do later list"})]})]})]})]})]})]}),b.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-indigo-50 dark:from-violet-900/10 dark:to-indigo-900/10 rounded-xl p-4 border border-violet-100 dark:border-violet-900/20",children:[b.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white mb-2 flex items-center gap-2",children:[b.jsx("span",{className:"text-xl",children:""})," What else does Ascend offer?"]}),b.jsxs("ul",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-400",children:[b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${en?"bg-green-500 border-green-500":"bg-white dark:bg-slate-800"}`,children:en&&b.jsx(kr,{size:10,className:"text-white"})}),"Google Calendar Sync"]}),b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 border rounded bg-white dark:bg-slate-800"})," Planners for every day of the year"]}),b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 border rounded bg-white dark:bg-slate-800"})," Everything saved to the cloud instantly"]}),b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 border rounded bg-white dark:bg-slate-800"})," Accountability and deep work tracking!"]})]}),!a&&b.jsx("button",{onClick:i,className:"inline-block mt-4 text-[#6F00FF] font-bold hover:underline",children:"Sign in to start timeboxing!"})]})]})})]})]})},DS=({onGetStarted:l})=>b.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 transition-colors",children:[b.jsx("div",{className:"w-24 h-24 rounded-2xl flex items-center justify-center shadow-2xl shadow-violet-600/30 mb-8 transform rotate-3 hover:rotate-6 transition-transform overflow-hidden",children:b.jsx("img",{src:"/logo.svg",alt:"Ascend",className:"w-full h-full object-cover"})}),b.jsxs("h1",{className:"text-6xl font-extrabold mb-6 tracking-tight text-center",children:["Ascend",b.jsx("span",{className:"text-[#6F00FF]",children:"."})]}),b.jsxs("p",{className:"text-2xl text-slate-500 dark:text-slate-400 mb-12 max-w-xl text-center leading-relaxed",children:["The all-in-one timeboxing workspace for ",b.jsx("span",{className:"text-slate-800 dark:text-slate-200 font-semibold",children:"deep work"}),"."]}),b.jsxs("button",{onClick:l,className:"group flex items-center gap-3 px-8 py-4 bg-[#6F00FF] text-white rounded-full font-bold text-xl hover:bg-violet-700 hover:shadow-xl hover:shadow-violet-600/20 transition-all transform hover:-translate-y-1",children:["Get Started",b.jsx(Fp,{size:24,className:"group-hover:translate-x-1 transition-transform"})]}),b.jsxs("div",{className:"mt-16 text-sm text-slate-400 flex gap-6",children:[b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx(kr,{size:14})," Timeboxing"]}),b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx(kr,{size:14})," Task Management"]}),b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx(kr,{size:14})," Calendar Sync"]})]})]}),US=({onSuccess:l})=>{const[a,i]=oe.useState(!1),[s,c]=oe.useState(""),[d,h]=oe.useState(""),[g,m]=oe.useState(!1),[v,p]=oe.useState(null),_=async T=>{T.preventDefault(),m(!0),p(null);try{a?(await yS(s,d),p("Konto skapat! Du kan nu logga in."),i(!1)):(await pS(s,d),l())}catch(O){p(O.message||"Ett fel uppstod")}finally{m(!1)}},S=async()=>{m(!0);try{await bS()}catch(T){p(T.message||"Google-inloggning misslyckades"),m(!1)}};return b.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 transition-colors p-4",children:b.jsxs("div",{className:"w-full max-w-md",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center shadow-2xl shadow-violet-600/30 mx-auto mb-4 overflow-hidden",children:b.jsx("img",{src:"/logo.svg",alt:"Ascend",className:"w-full h-full object-cover"})}),b.jsx("h1",{className:"text-3xl font-bold",children:a?"Skapa konto":"Logga in"}),b.jsx("p",{className:"text-slate-500 mt-2",children:a?"Skapa ett konto fr att brja":"Vlkommen tillbaka!"})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 shadow-xl border border-slate-200 dark:border-slate-800",children:[v&&b.jsx("div",{className:`p-3 rounded-lg mb-4 text-sm ${v.includes("skapat")?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-400"}`,children:v}),b.jsxs("form",{onSubmit:_,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),b.jsx("input",{type:"email",value:s,onChange:T=>c(T.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none",placeholder:"din@email.com",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-1",children:"Lsenord"}),b.jsx("input",{type:"password",value:d,onChange:T=>h(T.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none",placeholder:"",required:!0,minLength:6})]}),b.jsx("button",{type:"submit",disabled:g,className:"w-full py-3 bg-[#6F00FF] hover:bg-violet-700 text-white font-semibold rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:g?b.jsx(Al,{size:20,className:"animate-spin"}):a?"Skapa konto":"Logga in"})]}),b.jsxs("div",{className:"relative my-6",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),b.jsx("div",{className:"relative flex justify-center text-sm",children:b.jsx("span",{className:"px-2 bg-white dark:bg-slate-900 text-slate-500",children:"eller"})})]}),b.jsxs("button",{onClick:S,disabled:g,className:"w-full py-3 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 font-medium rounded-lg transition-colors flex items-center justify-center gap-3",children:[b.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[b.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),b.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),b.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),b.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Fortstt med Google"]}),b.jsxs("p",{className:"text-center text-sm text-slate-500 mt-6",children:[a?"Har du redan ett konto?":"Inget konto?"," ",b.jsx("button",{onClick:()=>{i(!a),p(null)},className:"text-[#6F00FF] hover:underline font-medium",children:a?"Logga in":"Skapa konto"})]})]})]})})},zS=()=>{const[l,a]=oe.useState(!1),[i,s]=oe.useState(null),[c,d]=oe.useState("landing"),[h,g]=oe.useState(!0);oe.useEffect(()=>{(async()=>{var S,T,O;try{const N=await wS();N&&(s({id:N.id,name:((S=N.user_metadata)==null?void 0:S.full_name)||((T=N.email)==null?void 0:T.split("@")[0])||"User",avatar:(((O=N.user_metadata)==null?void 0:O.full_name)||N.email||"U").substring(0,2).toUpperCase(),email:N.email||""}),d("app"))}catch(N){console.error("Session check error:",N)}finally{g(!1)}})();const{data:{subscription:_}}=SS((S,T)=>{var O,N,U;S==="SIGNED_IN"&&(T!=null&&T.user)?(s({id:T.user.id,name:((O=T.user.user_metadata)==null?void 0:O.full_name)||((N=T.user.email)==null?void 0:N.split("@")[0])||"User",avatar:(((U=T.user.user_metadata)==null?void 0:U.full_name)||T.user.email||"U").substring(0,2).toUpperCase(),email:T.user.email||""}),d("app")):S==="SIGNED_OUT"&&(s(null),d("landing"))});return()=>_.unsubscribe()},[]),oe.useEffect(()=>{l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[l]);const m=()=>a(!l),v=async()=>{try{await _S(),s(null),d("landing")}catch(p){console.error("Logout error:",p)}};return h?b.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-50 dark:bg-slate-950",children:b.jsx(Al,{size:48,className:"animate-spin text-violet-600"})}):b.jsxs(fv.Provider,{value:{isDark:l,toggleTheme:m},children:[c==="landing"&&b.jsx(DS,{onGetStarted:()=>d("auth")}),c==="auth"&&b.jsx(US,{onSuccess:()=>{}}),c==="app"&&i&&b.jsx(NS,{user:i,onLogin:()=>d("auth"),onLogout:v,onBack:()=>d("landing")})]})},gv=document.getElementById("root");if(!gv)throw new Error("Could not find root element to mount to");const MS=$p.createRoot(gv);MS.render(b.jsx($0.StrictMode,{children:b.jsx(zS,{})}));
