function z_(s,t){for(var a=0;a<t.length;a++){const r=t[a];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in s)){const c=Object.getOwnPropertyDescriptor(r,o);c&&Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();function Xf(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function io(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var a=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(s).forEach(function(r){var o=Object.getOwnPropertyDescriptor(s,r);Object.defineProperty(a,r,o.get?o:{enumerable:!0,get:function(){return s[r]}})}),a}var Th={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function L_(){if(gy)return Ml;gy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:u,ref:o!==void 0?o:null,props:c}}return Ml.Fragment=t,Ml.jsx=a,Ml.jsxs=a,Ml}var py;function B_(){return py||(py=1,Th.exports=L_()),Th.exports}var h=B_(),Eh={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function V_(){if(yy)return Se;yy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function _(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,T={};function U(O,ee,ie){this.props=O,this.context=ee,this.refs=T,this.updater=ie||E}U.prototype.isReactComponent={},U.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function V(){}V.prototype=U.prototype;function M(O,ee,ie){this.props=O,this.context=ee,this.refs=T,this.updater=ie||E}var K=M.prototype=new V;K.constructor=M,k(K,U.prototype),K.isPureReactComponent=!0;var te=Array.isArray;function ne(){}var J={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function ae(O,ee,ie){var de=ie.ref;return{$$typeof:s,type:O,key:ee,ref:de!==void 0?de:null,props:ie}}function ge(O,ee){return ae(O.type,ee,O.props)}function ke(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function Fe(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return ee[ie]})}var ht=/\/+/g;function bt(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?Fe(""+O.key):ee.toString(36)}function et(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ne,ne):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,ee,ie,de,ue){var Ae=typeof O;(Ae==="undefined"||Ae==="boolean")&&(O=null);var $e=!1;if(O===null)$e=!0;else switch(Ae){case"bigint":case"string":case"number":$e=!0;break;case"object":switch(O.$$typeof){case s:case t:$e=!0;break;case y:return $e=O._init,q($e(O._payload),ee,ie,de,ue)}}if($e)return ue=ue(O),$e=de===""?"."+bt(O,0):de,te(ue)?(ie="",$e!=null&&(ie=$e.replace(ht,"$&/")+"/"),q(ue,ee,ie,"",function(ts){return ts})):ue!=null&&(ke(ue)&&(ue=ge(ue,ie+(ue.key==null||O&&O.key===ue.key?"":(""+ue.key).replace(ht,"$&/")+"/")+$e)),ee.push(ue)),1;$e=0;var Ot=de===""?".":de+":";if(te(O))for(var it=0;it<O.length;it++)de=O[it],Ae=Ot+bt(de,it),$e+=q(de,ee,ie,Ae,ue);else if(it=_(O),typeof it=="function")for(O=it.call(O),it=0;!(de=O.next()).done;)de=de.value,Ae=Ot+bt(de,it++),$e+=q(de,ee,ie,Ae,ue);else if(Ae==="object"){if(typeof O.then=="function")return q(et(O),ee,ie,de,ue);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return $e}function G(O,ee,ie){if(O==null)return O;var de=[],ue=0;return q(O,de,"","",function(Ae){return ee.call(ie,Ae,ue++)}),de}function ce(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var Ce=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ne={map:G,forEach:function(O,ee,ie){G(O,function(){ee.apply(this,arguments)},ie)},count:function(O){var ee=0;return G(O,function(){ee++}),ee},toArray:function(O){return G(O,function(ee){return ee})||[]},only:function(O){if(!ke(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Se.Activity=b,Se.Children=Ne,Se.Component=U,Se.Fragment=a,Se.Profiler=o,Se.PureComponent=M,Se.StrictMode=r,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Se.__COMPILER_RUNTIME={__proto__:null,c:function(O){return J.H.useMemoCache(O)}},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(O,ee,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var de=k({},O.props),ue=O.key;if(ee!=null)for(Ae in ee.key!==void 0&&(ue=""+ee.key),ee)!W.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(de[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)de.children=ie;else if(1<Ae){for(var $e=Array(Ae),Ot=0;Ot<Ae;Ot++)$e[Ot]=arguments[Ot+2];de.children=$e}return ae(O.type,ue,de)},Se.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Se.createElement=function(O,ee,ie){var de,ue={},Ae=null;if(ee!=null)for(de in ee.key!==void 0&&(Ae=""+ee.key),ee)W.call(ee,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(ue[de]=ee[de]);var $e=arguments.length-2;if($e===1)ue.children=ie;else if(1<$e){for(var Ot=Array($e),it=0;it<$e;it++)Ot[it]=arguments[it+2];ue.children=Ot}if(O&&O.defaultProps)for(de in $e=O.defaultProps,$e)ue[de]===void 0&&(ue[de]=$e[de]);return ae(O,Ae,ue)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:m,render:O}},Se.isValidElement=ke,Se.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:ce}},Se.memo=function(O,ee){return{$$typeof:p,type:O,compare:ee===void 0?null:ee}},Se.startTransition=function(O){var ee=J.T,ie={};J.T=ie;try{var de=O(),ue=J.S;ue!==null&&ue(ie,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ne,Ce)}catch(Ae){Ce(Ae)}finally{ee!==null&&ie.types!==null&&(ee.types=ie.types),J.T=ee}},Se.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Se.use=function(O){return J.H.use(O)},Se.useActionState=function(O,ee,ie){return J.H.useActionState(O,ee,ie)},Se.useCallback=function(O,ee){return J.H.useCallback(O,ee)},Se.useContext=function(O){return J.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,ee){return J.H.useDeferredValue(O,ee)},Se.useEffect=function(O,ee){return J.H.useEffect(O,ee)},Se.useEffectEvent=function(O){return J.H.useEffectEvent(O)},Se.useId=function(){return J.H.useId()},Se.useImperativeHandle=function(O,ee,ie){return J.H.useImperativeHandle(O,ee,ie)},Se.useInsertionEffect=function(O,ee){return J.H.useInsertionEffect(O,ee)},Se.useLayoutEffect=function(O,ee){return J.H.useLayoutEffect(O,ee)},Se.useMemo=function(O,ee){return J.H.useMemo(O,ee)},Se.useOptimistic=function(O,ee){return J.H.useOptimistic(O,ee)},Se.useReducer=function(O,ee,ie){return J.H.useReducer(O,ee,ie)},Se.useRef=function(O){return J.H.useRef(O)},Se.useState=function(O){return J.H.useState(O)},Se.useSyncExternalStore=function(O,ee,ie){return J.H.useSyncExternalStore(O,ee,ie)},Se.useTransition=function(){return J.H.useTransition()},Se.version="19.2.3",Se}var vy;function Jf(){return vy||(vy=1,Eh.exports=V_()),Eh.exports}var B=Jf();const Zf=Xf(B);var jh={exports:{}},Ul={},kh={exports:{}},Ah={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function $_(){return by||(by=1,(function(s){function t(q,G){var ce=q.length;q.push(G);e:for(;0<ce;){var Ce=ce-1>>>1,Ne=q[Ce];if(0<o(Ne,G))q[Ce]=G,q[ce]=Ne,ce=Ce;else break e}}function a(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var G=q[0],ce=q.pop();if(ce!==G){q[0]=ce;e:for(var Ce=0,Ne=q.length,O=Ne>>>1;Ce<O;){var ee=2*(Ce+1)-1,ie=q[ee],de=ee+1,ue=q[de];if(0>o(ie,ce))de<Ne&&0>o(ue,ie)?(q[Ce]=ue,q[de]=ce,Ce=de):(q[Ce]=ie,q[ee]=ce,Ce=ee);else if(de<Ne&&0>o(ue,ce))q[Ce]=ue,q[de]=ce,Ce=de;else break e}}return G}function o(q,G){var ce=q.sortIndex-G.sortIndex;return ce!==0?ce:q.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();s.unstable_now=function(){return u.now()-m}}var g=[],p=[],y=1,b=null,w=3,_=!1,E=!1,k=!1,T=!1,U=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function K(q){for(var G=a(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=q)r(p),G.sortIndex=G.expirationTime,t(g,G);else break;G=a(p)}}function te(q){if(k=!1,K(q),!E)if(a(g)!==null)E=!0,ne||(ne=!0,Fe());else{var G=a(p);G!==null&&et(te,G.startTime-q)}}var ne=!1,J=-1,W=5,ae=-1;function ge(){return T?!0:!(s.unstable_now()-ae<W)}function ke(){if(T=!1,ne){var q=s.unstable_now();ae=q;var G=!0;try{e:{E=!1,k&&(k=!1,V(J),J=-1),_=!0;var ce=w;try{t:{for(K(q),b=a(g);b!==null&&!(b.expirationTime>q&&ge());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,w=b.priorityLevel;var Ne=Ce(b.expirationTime<=q);if(q=s.unstable_now(),typeof Ne=="function"){b.callback=Ne,K(q),G=!0;break t}b===a(g)&&r(g),K(q)}else r(g);b=a(g)}if(b!==null)G=!0;else{var O=a(p);O!==null&&et(te,O.startTime-q),G=!1}}break e}finally{b=null,w=ce,_=!1}G=void 0}}finally{G?Fe():ne=!1}}}var Fe;if(typeof M=="function")Fe=function(){M(ke)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,bt=ht.port2;ht.port1.onmessage=ke,Fe=function(){bt.postMessage(null)}}else Fe=function(){U(ke,0)};function et(q,G){J=U(function(){q(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(q){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var ce=w;w=G;try{return q()}finally{w=ce}},s.unstable_requestPaint=function(){T=!0},s.unstable_runWithPriority=function(q,G){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ce=w;w=q;try{return G()}finally{w=ce}},s.unstable_scheduleCallback=function(q,G,ce){var Ce=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ce+ce:Ce):ce=Ce,q){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ce+Ne,q={id:y++,callback:G,priorityLevel:q,startTime:ce,expirationTime:Ne,sortIndex:-1},ce>Ce?(q.sortIndex=ce,t(p,q),a(g)===null&&q===a(p)&&(k?(V(J),J=-1):k=!0,et(te,ce-Ce))):(q.sortIndex=Ne,t(g,q),E||_||(E=!0,ne||(ne=!0,Fe()))),q},s.unstable_shouldYield=ge,s.unstable_wrapCallback=function(q){var G=w;return function(){var ce=w;w=G;try{return q.apply(this,arguments)}finally{w=ce}}}})(Ah)),Ah}var xy;function P_(){return xy||(xy=1,kh.exports=$_()),kh.exports}var Ch={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function H_(){if(wy)return Yt;wy=1;var s=Jf();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yt.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(g,p,null,y)},Yt.flushSync=function(g){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,g)return g()}finally{u.T=p,r.p=y,r.d.f()}},Yt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Yt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Yt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:_}):y==="script"&&r.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Yt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Yt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin);r.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Yt.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Yt.requestFormReset=function(g){r.d.r(g)},Yt.unstable_batchedUpdates=function(g,p){return g(p)},Yt.useFormState=function(g,p,y){return u.H.useFormState(g,p,y)},Yt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Yt.version="19.2.3",Yt}var Sy;function I_(){if(Sy)return Ch.exports;Sy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ch.exports=H_(),Ch.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function F_(){if(_y)return Ul;_y=1;var s=P_(),t=Jf(),a=I_();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function u(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(r(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var i=e,l=n;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return g(d),e;if(f===l)return g(d),n;f=f.sibling}throw Error(r(188))}if(i.return!==l.return)i=d,l=f;else{for(var v=!1,S=d.child;S;){if(S===i){v=!0,i=d,l=f;break}if(S===l){v=!0,l=d,i=f;break}S=S.sibling}if(!v){for(S=f.child;S;){if(S===i){v=!0,i=f,l=d;break}if(S===l){v=!0,l=f,i=d;break}S=S.sibling}if(!v)throw Error(r(189))}}if(i.alternate!==l)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),M=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function Fe(e){return e===null||typeof e!="object"?null:(e=ke&&e[ke]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Symbol.for("react.client.reference");function bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ht?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case U:return"Profiler";case T:return"StrictMode";case te:return"Suspense";case ne:return"SuspenseList";case ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case M:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:bt(e.type)||"Memo";case W:n=e._payload,e=e._init;try{return bt(e(n))}catch{}}return null}var et=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ce=[],Ne=-1;function O(e){return{current:e}}function ee(e){0>Ne||(e.current=Ce[Ne],Ce[Ne]=null,Ne--)}function ie(e,n){Ne++,Ce[Ne]=e.current,e.current=n}var de=O(null),ue=O(null),Ae=O(null),$e=O(null);function Ot(e,n){switch(ie(Ae,n),ie(ue,e),ie(de,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Bp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Bp(n),e=Vp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(de),ie(de,e)}function it(){ee(de),ee(ue),ee(Ae)}function ts(e){e.memoizedState!==null&&ie($e,e);var n=de.current,i=Vp(n,e.type);n!==i&&(ie(ue,e),ie(de,i))}function qe(e){ue.current===e&&(ee(de),ee(ue)),$e.current===e&&(ee($e),Nl._currentValue=ce)}var hn,Or;function hs(e){if(hn===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);hn=n&&n[1]||"",Or=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hn+e+Or}var ns=!1;function fs(e,n){if(!e||ns)return"";ns=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var I=F}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(F){I=F}e.call(Z.prototype)}}else{try{throw Error()}catch(F){I=F}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&I&&typeof F.stack=="string")return[F.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],S=f[1];if(v&&S){var C=v.split(`
`),P=S.split(`
`);for(d=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;d<P.length&&!P[d].includes("DetermineComponentFrameRoot");)d++;if(l===C.length||d===P.length)for(l=C.length-1,d=P.length-1;1<=l&&0<=d&&C[l]!==P[d];)d--;for(;1<=l&&0<=d;l--,d--)if(C[l]!==P[d]){if(l!==1||d!==1)do if(l--,d--,0>d||C[l]!==P[d]){var Y=`
`+C[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=d);break}}}finally{ns=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?hs(i):""}function ja(e,n){switch(e.tag){case 26:case 27:case 5:return hs(e.type);case 16:return hs("Lazy");case 13:return e.child!==n&&n!==null?hs("Suspense Fallback"):hs("Suspense");case 19:return hs("SuspenseList");case 0:case 15:return fs(e.type,!1);case 11:return fs(e.type.render,!1);case 1:return fs(e.type,!0);case 31:return hs("Activity");default:return""}}function ms(e){try{var n="",i=null;do n+=ja(e,i),i=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var mi=Object.prototype.hasOwnProperty,Dr=s.unstable_scheduleCallback,Is=s.unstable_cancelCallback,_t=s.unstable_shouldYield,gi=s.unstable_requestPaint,Zt=s.unstable_now,fo=s.unstable_getCurrentPriorityLevel,mo=s.unstable_ImmediatePriority,Rr=s.unstable_UserBlockingPriority,pi=s.unstable_NormalPriority,Eu=s.unstable_LowPriority,Qt=s.unstable_IdlePriority,ft=s.log,Fs=s.unstable_setDisableYieldValue,ct=null,tt=null;function Qe(e){if(typeof ft=="function"&&Fs(e),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(ct,e)}catch{}}var Mt=Math.clz32?Math.clz32:Mr,go=Math.log,gs=Math.LN2;function Mr(e){return e>>>=0,e===0?32:31-(go(e)/gs|0)|0}var Mn=256,yi=262144,ps=4194304;function Un(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ka(e,n,i){var l=e.pendingLanes;if(l===0)return 0;var d=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?d=Un(l):(v&=S,v!==0?d=Un(v):i||(i=S&~e,i!==0&&(d=Un(i))))):(S=l&~f,S!==0?d=Un(S):v!==0?d=Un(v):i||(i=l&~e,i!==0&&(d=Un(i)))),d===0?0:n!==0&&n!==d&&(n&f)===0&&(f=d&-d,i=n&-n,f>=i||f===32&&(i&4194048)!==0)?n:d}function qs(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zn(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function po(){var e=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),e}function vi(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Ln(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bi(e,n,i,l,d,f){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var S=e.entanglements,C=e.expirationTimes,P=e.hiddenUpdates;for(i=v&~i;0<i;){var Y=31-Mt(i),Z=1<<Y;S[Y]=0,C[Y]=-1;var I=P[Y];if(I!==null)for(P[Y]=null,Y=0;Y<I.length;Y++){var F=I[Y];F!==null&&(F.lane&=-536870913)}i&=~Z}l!==0&&xi(e,l,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function xi(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Mt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|i&261930}function Aa(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-Mt(i),d=1<<l;d&n|e[l]&n&&(e[l]|=n),i&=~d}}function Ur(e,n){var i=n&-n;return i=(i&42)!==0?1:Ca(i),(i&(e.suspendedLanes|n))!==0?0:i}function Ca(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zr(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:oy(e.type))}function wi(e,n){var i=G.p;try{return G.p=e,n()}finally{G.p=i}}var Vn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Vn,Lt="__reactProps$"+Vn,Wt="__reactContainer$"+Vn,Si="__reactEvents$"+Vn,Lr="__reactListeners$"+Vn,yo="__reactHandles$"+Vn,_i="__reactResources$"+Vn,Gs="__reactMarker$"+Vn;function vo(e){delete e[xt],delete e[Lt],delete e[Si],delete e[Lr],delete e[yo]}function Na(e){var n=e[xt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Wt]||i[xt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Gp(e);e!==null;){if(i=e[xt])return i;e=Gp(e)}return n}e=i,i=e.parentNode}return null}function Oa(e){if(e=e[xt]||e[Wt]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Da(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Gt(e){var n=e[_i];return n||(n=e[_i]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[Gs]=!0}var bo=new Set,Ra={};function nn(e,n){Ks(e,n),Ks(e+"Capture",n)}function Ks(e,n){for(Ra[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Br={},Vr={};function Ti(e){return mi.call(Vr,e)?!0:mi.call(Br,e)?!1:ju.test(e)?Vr[e]=!0:(Br[e]=!0,!1)}function Ma(e,n,i){if(Ti(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function $n(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Pn(e,n,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+l)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ku(e,n,i){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(v){i=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $r(e){if(!e._valueTracker){var n=xo(e)?"checked":"value";e._valueTracker=ku(e,n,""+e[n])}}function Hn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=xo(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wo=/[\n"\\]/g;function Bt(e){return e.replace(wo,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Pr(e,n,i,l,d,f,v,S){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ut(n)):e.value!==""+Ut(n)&&(e.value=""+Ut(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Ua(e,v,Ut(n)):i!=null?Ua(e,v,Ut(i)):l!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Ut(S):e.removeAttribute("name")}function So(e,n,i,l,d,f,v,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$r(e);return}i=i!=null?""+Ut(i):"",n=n!=null?""+Ut(n):i,S||n===e.value||(e.value=n),e.defaultValue=n}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),$r(e)}function Ua(e,n,i){n==="number"&&ys(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ss(e,n,i,l){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Ut(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Hr(e,n,i){if(n!=null&&(n=""+Ut(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Ut(i):""}function Ir(e,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(r(92));if(et(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=Ut(n),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l),$r(e)}function vs(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fr(e,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,i):typeof i!="number"||i===0||Au.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Ei(e,n,i){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var d in n)l=n[d],n.hasOwnProperty(d)&&i[d]!==l&&Fr(e,d,l)}else for(var f in n)n.hasOwnProperty(f)&&Fr(e,f,n[f])}function qr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(e){return nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function In(){}var ji=null;function Kr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xs=null,Kt=null;function ki(e){var n=Oa(e);if(n&&(e=n.stateNode)){var i=e[Lt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Pr(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Bt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var d=l[Lt]||null;if(!d)throw Error(r(90));Pr(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===e.form&&Hn(l)}break e;case"textarea":Hr(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&ss(e,!!i.multiple,n,!1)}}}var Ai=!1;function _o(e,n,i){if(Ai)return e(n,i);Ai=!0;try{var l=e(n);return l}finally{if(Ai=!1,(Xs!==null||Kt!==null)&&(rc(),Xs&&(n=Xs,e=Kt,Kt=Xs=null,ki(n),e)))for(n=0;n<e.length;n++)ki(e[n])}}function Js(e,n){var i=e.stateNode;if(i===null)return null;var l=i[Lt]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ci=!1;if(Fn)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{Ci=!1}var qn=null,Yr=null,Ni=null;function Xr(){if(Ni)return Ni;var e,n=Yr,i=n.length,l,d="value"in qn?qn.value:qn.textContent,f=d.length;for(e=0;e<i&&n[e]===d[e];e++);var v=i-e;for(l=1;l<=v&&n[i-l]===d[f-l];l++);return Ni=d.slice(e,1<l?1-l:void 0)}function x(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function j(){return!0}function N(){return!1}function A(e){function n(i,l,d,f,v){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(i=e[S],this[S]=i?i(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?j:N,this.isPropagationStopped=N,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=j)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=j)},persist:function(){},isPersistent:j}),n}var R={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z=A(R),H=b({},R,{view:0,detail:0}),he=A(H),se,we,Le,Q=b({},H,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Le&&(Le&&e.type==="mousemove"?(se=e.screenX-Le.screenX,we=e.screenY-Le.screenY):we=se=0,Le=e),se)},movementY:function(e){return"movementY"in e?e.movementY:we}}),re=A(Q),Be=b({},Q,{dataTransfer:0}),mt=A(Be),fn=b({},H,{relatedTarget:0}),bs=A(fn),xe=b({},R,{animationName:0,elapsedTime:0,pseudoElement:0}),gt=A(xe),as=b({},R,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jr=A(as),za=b({},R,{data:0}),To=A(za),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gw(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=qw[e])?!!n[e]:!1}function Cu(){return Gw}var Kw=b({},H,{key:function(e){if(e.key){var n=xs[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=x(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cu,charCode:function(e){return e.type==="keypress"?x(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?x(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yw=A(Kw),Xw=b({},Q,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I0=A(Xw),Jw=b({},H,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cu}),Zw=A(Jw),Qw=b({},R,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ww=A(Qw),eS=b({},Q,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tS=A(eS),nS=b({},R,{newState:0,oldState:0}),sS=A(nS),aS=[9,13,27,32],Nu=Fn&&"CompositionEvent"in window,Zr=null;Fn&&"documentMode"in document&&(Zr=document.documentMode);var iS=Fn&&"TextEvent"in window&&!Zr,F0=Fn&&(!Nu||Zr&&8<Zr&&11>=Zr),q0=" ",G0=!1;function K0(e,n){switch(e){case"keyup":return aS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oi=!1;function rS(e,n){switch(e){case"compositionend":return Y0(n);case"keypress":return n.which!==32?null:(G0=!0,q0);case"textInput":return e=n.data,e===q0&&G0?null:e;default:return null}}function lS(e,n){if(Oi)return e==="compositionend"||!Nu&&K0(e,n)?(e=Xr(),Ni=Yr=qn=null,Oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return F0&&n.locale!=="ko"?null:n.data;default:return null}}var oS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X0(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!oS[e.type]:n==="textarea"}function J0(e,n,i,l){Xs?Kt?Kt.push(l):Kt=[l]:Xs=l,n=fc(n,"onChange"),0<n.length&&(i=new z("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var Qr=null,Wr=null;function cS(e){Dp(e,0)}function Eo(e){var n=Da(e);if(Hn(n))return e}function Z0(e,n){if(e==="change")return n}var Q0=!1;if(Fn){var Ou;if(Fn){var Du="oninput"in document;if(!Du){var W0=document.createElement("div");W0.setAttribute("oninput","return;"),Du=typeof W0.oninput=="function"}Ou=Du}else Ou=!1;Q0=Ou&&(!document.documentMode||9<document.documentMode)}function em(){Qr&&(Qr.detachEvent("onpropertychange",tm),Wr=Qr=null)}function tm(e){if(e.propertyName==="value"&&Eo(Wr)){var n=[];J0(n,Wr,e,Kr(e)),_o(cS,n)}}function uS(e,n,i){e==="focusin"?(em(),Qr=n,Wr=i,Qr.attachEvent("onpropertychange",tm)):e==="focusout"&&em()}function dS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eo(Wr)}function hS(e,n){if(e==="click")return Eo(n)}function fS(e,n){if(e==="input"||e==="change")return Eo(n)}function mS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:mS;function el(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!mi.call(n,d)||!mn(e[d],n[d]))return!1}return!0}function nm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sm(e,n){var i=nm(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=nm(i)}}function am(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?am(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function im(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ys(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=ys(e.document)}return n}function Ru(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var gS=Fn&&"documentMode"in document&&11>=document.documentMode,Di=null,Mu=null,tl=null,Uu=!1;function rm(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Uu||Di==null||Di!==ys(l)||(l=Di,"selectionStart"in l&&Ru(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=fc(Mu,"onSelect"),0<l.length&&(n=new z("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=Di)))}function La(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ri={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},zu={},lm={};Fn&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function Ba(e){if(zu[e])return zu[e];if(!Ri[e])return e;var n=Ri[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in lm)return zu[e]=n[i];return e}var om=Ba("animationend"),cm=Ba("animationiteration"),um=Ba("animationstart"),pS=Ba("transitionrun"),yS=Ba("transitionstart"),vS=Ba("transitioncancel"),dm=Ba("transitionend"),hm=new Map,Lu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lu.push("scrollEnd");function Gn(e,n){hm.set(e,n),nn(n,[e])}var jo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_n=[],Mi=0,Bu=0;function ko(){for(var e=Mi,n=Bu=Mi=0;n<e;){var i=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var d=_n[n];_n[n++]=null;var f=_n[n];if(_n[n++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&fm(i,d,f)}}function Ao(e,n,i,l){_n[Mi++]=e,_n[Mi++]=n,_n[Mi++]=i,_n[Mi++]=l,Bu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Vu(e,n,i,l){return Ao(e,n,i,l),Co(e)}function Va(e,n){return Ao(e,null,null,n),Co(e)}function fm(e,n,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var d=!1,f=e.return;f!==null;)f.childLanes|=i,l=f.alternate,l!==null&&(l.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&n!==null&&(d=31-Mt(i),e=f.hiddenUpdates,l=e[d],l===null?e[d]=[n]:l.push(n),n.lane=i|536870912),f):null}function Co(e){if(50<_l)throw _l=0,Yd=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ui={};function bS(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,i,l){return new bS(e,n,i,l)}function $u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ws(e,n){var i=e.alternate;return i===null?(i=gn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function mm(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function No(e,n,i,l,d,f){var v=0;if(l=e,typeof e=="function")$u(e)&&(v=1);else if(typeof e=="string")v=T_(e,i,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ae:return e=gn(31,i,n,d),e.elementType=ae,e.lanes=f,e;case k:return $a(i.children,d,f,n);case T:v=8,d|=24;break;case U:return e=gn(12,i,n,d|2),e.elementType=U,e.lanes=f,e;case te:return e=gn(13,i,n,d),e.elementType=te,e.lanes=f,e;case ne:return e=gn(19,i,n,d),e.elementType=ne,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:v=10;break e;case V:v=9;break e;case K:v=11;break e;case J:v=14;break e;case W:v=16,l=null;break e}v=29,i=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=gn(v,i,n,d),n.elementType=e,n.type=l,n.lanes=f,n}function $a(e,n,i,l){return e=gn(7,e,l,n),e.lanes=i,e}function Pu(e,n,i){return e=gn(6,e,null,n),e.lanes=i,e}function gm(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Hu(e,n,i){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var pm=new WeakMap;function Tn(e,n){if(typeof e=="object"&&e!==null){var i=pm.get(e);return i!==void 0?i:(n={value:e,source:n,stack:ms(n)},pm.set(e,n),n)}return{value:e,source:n,stack:ms(n)}}var zi=[],Li=0,Oo=null,nl=0,En=[],jn=0,Qs=null,is=1,rs="";function Ss(e,n){zi[Li++]=nl,zi[Li++]=Oo,Oo=e,nl=n}function ym(e,n,i){En[jn++]=is,En[jn++]=rs,En[jn++]=Qs,Qs=e;var l=is;e=rs;var d=32-Mt(l)-1;l&=~(1<<d),i+=1;var f=32-Mt(n)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,is=1<<32-Mt(n)+d|i<<d|l,rs=f+e}else is=1<<f|i<<d|l,rs=e}function Iu(e){e.return!==null&&(Ss(e,1),ym(e,1,0))}function Fu(e){for(;e===Oo;)Oo=zi[--Li],zi[Li]=null,nl=zi[--Li],zi[Li]=null;for(;e===Qs;)Qs=En[--jn],En[jn]=null,rs=En[--jn],En[jn]=null,is=En[--jn],En[jn]=null}function vm(e,n){En[jn++]=is,En[jn++]=rs,En[jn++]=Qs,is=n.id,rs=n.overflow,Qs=e}var Vt=null,st=null,Ve=!1,Ws=null,kn=!1,qu=Error(r(519));function ea(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(Tn(n,e)),qu}function bm(e){var n=e.stateNode,i=e.type,l=e.memoizedProps;switch(n[xt]=e,n[Lt]=l,i){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(i=0;i<El.length;i++)De(El[i],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),So(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),Ir(n,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||zp(n.textContent,i)?(l.popover!=null&&(De("beforetoggle",n),De("toggle",n)),l.onScroll!=null&&De("scroll",n),l.onScrollEnd!=null&&De("scrollend",n),l.onClick!=null&&(n.onclick=In),n=!0):n=!1,n||ea(e,!0)}function xm(e){for(Vt=e.return;Vt;)switch(Vt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Vt=Vt.return}}function Bi(e){if(e!==Vt)return!1;if(!Ve)return xm(e),Ve=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||ch(e.type,e.memoizedProps)),i=!i),i&&st&&ea(e),xm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));st=qp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));st=qp(e)}else n===27?(n=st,ma(e.type)?(e=mh,mh=null,st=e):st=n):st=Vt?Cn(e.stateNode.nextSibling):null;return!0}function Pa(){st=Vt=null,Ve=!1}function Gu(){var e=Ws;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),Ws=null),e}function sl(e){Ws===null?Ws=[e]:Ws.push(e)}var Ku=O(null),Ha=null,_s=null;function ta(e,n,i){ie(Ku,n._currentValue),n._currentValue=i}function Ts(e){e._currentValue=Ku.current,ee(Ku)}function Yu(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function Xu(e,n,i,l){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=d;for(var C=0;C<n.length;C++)if(S.context===n[C]){f.lanes|=i,S=f.alternate,S!==null&&(S.lanes|=i),Yu(f.return,i,e),l||(v=null);break e}f=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(r(341));v.lanes|=i,f=v.alternate,f!==null&&(f.lanes|=i),Yu(v,i,e),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===e){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Vi(e,n,i,l){e=null;for(var d=n,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var S=d.type;mn(d.pendingProps.value,v.value)||(e!==null?e.push(S):e=[S])}}else if(d===$e.current){if(v=d.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Nl):e=[Nl])}d=d.return}e!==null&&Xu(n,e,i,l),n.flags|=262144}function Do(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ia(e){Ha=e,_s=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $t(e){return wm(Ha,e)}function Ro(e,n){return Ha===null&&Ia(e),wm(e,n)}function wm(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},_s===null){if(e===null)throw Error(r(308));_s=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else _s=_s.next=n;return i}var xS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},wS=s.unstable_scheduleCallback,SS=s.unstable_NormalPriority,Tt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ju(){return{controller:new xS,data:new Map,refCount:0}}function al(e){e.refCount--,e.refCount===0&&wS(SS,function(){e.controller.abort()})}var il=null,Zu=0,$i=0,Pi=null;function _S(e,n){if(il===null){var i=il=[];Zu=0,$i=eh(),Pi={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Zu++,n.then(Sm,Sm),n}function Sm(){if(--Zu===0&&il!==null){Pi!==null&&(Pi.status="fulfilled");var e=il;il=null,$i=0,Pi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function TS(e,n){var i=[],l={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var d=0;d<i.length;d++)(0,i[d])(n)},function(d){for(l.status="rejected",l.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),l}var _m=q.S;q.S=function(e,n){rp=Zt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&_S(e,n),_m!==null&&_m(e,n)};var Fa=O(null);function Qu(){var e=Fa.current;return e!==null?e:Ze.pooledCache}function Mo(e,n){n===null?ie(Fa,Fa.current):ie(Fa,n.pool)}function Tm(){var e=Qu();return e===null?null:{parent:Tt._currentValue,pool:e}}var Hi=Error(r(460)),Wu=Error(r(474)),Uo=Error(r(542)),zo={then:function(){}};function Em(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jm(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(In,In),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Am(e),e;default:if(typeof n.status=="string")n.then(In,In);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=l}},function(l){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Am(e),e}throw Ga=n,Hi}}function qa(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ga=i,Hi):i}}var Ga=null;function km(){if(Ga===null)throw Error(r(459));var e=Ga;return Ga=null,e}function Am(e){if(e===Hi||e===Uo)throw Error(r(483))}var Ii=null,rl=0;function Lo(e){var n=rl;return rl+=1,Ii===null&&(Ii=[]),jm(Ii,e,n)}function ll(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Bo(e,n){throw n.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cm(e){function n(L,D){if(e){var $=L.deletions;$===null?(L.deletions=[D],L.flags|=16):$.push(D)}}function i(L,D){if(!e)return null;for(;D!==null;)n(L,D),D=D.sibling;return null}function l(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function d(L,D){return L=ws(L,D),L.index=0,L.sibling=null,L}function f(L,D,$){return L.index=$,e?($=L.alternate,$!==null?($=$.index,$<D?(L.flags|=67108866,D):$):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function v(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function S(L,D,$,X){return D===null||D.tag!==6?(D=Pu($,L.mode,X),D.return=L,D):(D=d(D,$),D.return=L,D)}function C(L,D,$,X){var pe=$.type;return pe===k?Y(L,D,$.props.children,X,$.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===W&&qa(pe)===D.type)?(D=d(D,$.props),ll(D,$),D.return=L,D):(D=No($.type,$.key,$.props,null,L.mode,X),ll(D,$),D.return=L,D)}function P(L,D,$,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==$.containerInfo||D.stateNode.implementation!==$.implementation?(D=Hu($,L.mode,X),D.return=L,D):(D=d(D,$.children||[]),D.return=L,D)}function Y(L,D,$,X,pe){return D===null||D.tag!==7?(D=$a($,L.mode,X,pe),D.return=L,D):(D=d(D,$),D.return=L,D)}function Z(L,D,$){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Pu(""+D,L.mode,$),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return $=No(D.type,D.key,D.props,null,L.mode,$),ll($,D),$.return=L,$;case E:return D=Hu(D,L.mode,$),D.return=L,D;case W:return D=qa(D),Z(L,D,$)}if(et(D)||Fe(D))return D=$a(D,L.mode,$,null),D.return=L,D;if(typeof D.then=="function")return Z(L,Lo(D),$);if(D.$$typeof===M)return Z(L,Ro(L,D),$);Bo(L,D)}return null}function I(L,D,$,X){var pe=D!==null?D.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return pe!==null?null:S(L,D,""+$,X);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return $.key===pe?C(L,D,$,X):null;case E:return $.key===pe?P(L,D,$,X):null;case W:return $=qa($),I(L,D,$,X)}if(et($)||Fe($))return pe!==null?null:Y(L,D,$,X,null);if(typeof $.then=="function")return I(L,D,Lo($),X);if($.$$typeof===M)return I(L,D,Ro(L,$),X);Bo(L,$)}return null}function F(L,D,$,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get($)||null,S(D,L,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return L=L.get(X.key===null?$:X.key)||null,C(D,L,X,pe);case E:return L=L.get(X.key===null?$:X.key)||null,P(D,L,X,pe);case W:return X=qa(X),F(L,D,$,X,pe)}if(et(X)||Fe(X))return L=L.get($)||null,Y(D,L,X,pe,null);if(typeof X.then=="function")return F(L,D,$,Lo(X),pe);if(X.$$typeof===M)return F(L,D,$,Ro(D,X),pe);Bo(D,X)}return null}function oe(L,D,$,X){for(var pe=null,Pe=null,fe=D,Ee=D=0,Me=null;fe!==null&&Ee<$.length;Ee++){fe.index>Ee?(Me=fe,fe=null):Me=fe.sibling;var He=I(L,fe,$[Ee],X);if(He===null){fe===null&&(fe=Me);break}e&&fe&&He.alternate===null&&n(L,fe),D=f(He,D,Ee),Pe===null?pe=He:Pe.sibling=He,Pe=He,fe=Me}if(Ee===$.length)return i(L,fe),Ve&&Ss(L,Ee),pe;if(fe===null){for(;Ee<$.length;Ee++)fe=Z(L,$[Ee],X),fe!==null&&(D=f(fe,D,Ee),Pe===null?pe=fe:Pe.sibling=fe,Pe=fe);return Ve&&Ss(L,Ee),pe}for(fe=l(fe);Ee<$.length;Ee++)Me=F(fe,L,Ee,$[Ee],X),Me!==null&&(e&&Me.alternate!==null&&fe.delete(Me.key===null?Ee:Me.key),D=f(Me,D,Ee),Pe===null?pe=Me:Pe.sibling=Me,Pe=Me);return e&&fe.forEach(function(ba){return n(L,ba)}),Ve&&Ss(L,Ee),pe}function ye(L,D,$,X){if($==null)throw Error(r(151));for(var pe=null,Pe=null,fe=D,Ee=D=0,Me=null,He=$.next();fe!==null&&!He.done;Ee++,He=$.next()){fe.index>Ee?(Me=fe,fe=null):Me=fe.sibling;var ba=I(L,fe,He.value,X);if(ba===null){fe===null&&(fe=Me);break}e&&fe&&ba.alternate===null&&n(L,fe),D=f(ba,D,Ee),Pe===null?pe=ba:Pe.sibling=ba,Pe=ba,fe=Me}if(He.done)return i(L,fe),Ve&&Ss(L,Ee),pe;if(fe===null){for(;!He.done;Ee++,He=$.next())He=Z(L,He.value,X),He!==null&&(D=f(He,D,Ee),Pe===null?pe=He:Pe.sibling=He,Pe=He);return Ve&&Ss(L,Ee),pe}for(fe=l(fe);!He.done;Ee++,He=$.next())He=F(fe,L,Ee,He.value,X),He!==null&&(e&&He.alternate!==null&&fe.delete(He.key===null?Ee:He.key),D=f(He,D,Ee),Pe===null?pe=He:Pe.sibling=He,Pe=He);return e&&fe.forEach(function(U_){return n(L,U_)}),Ve&&Ss(L,Ee),pe}function Je(L,D,$,X){if(typeof $=="object"&&$!==null&&$.type===k&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case _:e:{for(var pe=$.key;D!==null;){if(D.key===pe){if(pe=$.type,pe===k){if(D.tag===7){i(L,D.sibling),X=d(D,$.props.children),X.return=L,L=X;break e}}else if(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===W&&qa(pe)===D.type){i(L,D.sibling),X=d(D,$.props),ll(X,$),X.return=L,L=X;break e}i(L,D);break}else n(L,D);D=D.sibling}$.type===k?(X=$a($.props.children,L.mode,X,$.key),X.return=L,L=X):(X=No($.type,$.key,$.props,null,L.mode,X),ll(X,$),X.return=L,L=X)}return v(L);case E:e:{for(pe=$.key;D!==null;){if(D.key===pe)if(D.tag===4&&D.stateNode.containerInfo===$.containerInfo&&D.stateNode.implementation===$.implementation){i(L,D.sibling),X=d(D,$.children||[]),X.return=L,L=X;break e}else{i(L,D);break}else n(L,D);D=D.sibling}X=Hu($,L.mode,X),X.return=L,L=X}return v(L);case W:return $=qa($),Je(L,D,$,X)}if(et($))return oe(L,D,$,X);if(Fe($)){if(pe=Fe($),typeof pe!="function")throw Error(r(150));return $=pe.call($),ye(L,D,$,X)}if(typeof $.then=="function")return Je(L,D,Lo($),X);if($.$$typeof===M)return Je(L,D,Ro(L,$),X);Bo(L,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,D!==null&&D.tag===6?(i(L,D.sibling),X=d(D,$),X.return=L,L=X):(i(L,D),X=Pu($,L.mode,X),X.return=L,L=X),v(L)):i(L,D)}return function(L,D,$,X){try{rl=0;var pe=Je(L,D,$,X);return Ii=null,pe}catch(fe){if(fe===Hi||fe===Uo)throw fe;var Pe=gn(29,fe,null,L.mode);return Pe.lanes=X,Pe.return=L,Pe}finally{}}}var Ka=Cm(!0),Nm=Cm(!1),na=!1;function ed(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ie&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,n=Co(e),fm(e,null,i),n}return Ao(e,l,n,i),Co(e)}function ol(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,Aa(e,i)}}function nd(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,i=i.next}while(i!==null);f===null?d=f=n:f=f.next=n}else d=f=n;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var sd=!1;function cl(){if(sd){var e=Pi;if(e!==null)throw e}}function ul(e,n,i,l){sd=!1;var d=e.updateQueue;na=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var C=S,P=C.next;C.next=null,v===null?f=P:v.next=P,v=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==v&&(S===null?Y.firstBaseUpdate=P:S.next=P,Y.lastBaseUpdate=C))}if(f!==null){var Z=d.baseState;v=0,Y=P=C=null,S=f;do{var I=S.lane&-536870913,F=I!==S.lane;if(F?(Re&I)===I:(l&I)===I){I!==0&&I===$i&&(sd=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var oe=e,ye=S;I=n;var Je=i;switch(ye.tag){case 1:if(oe=ye.payload,typeof oe=="function"){Z=oe.call(Je,Z,I);break e}Z=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ye.payload,I=typeof oe=="function"?oe.call(Je,Z,I):oe,I==null)break e;Z=b({},Z,I);break e;case 2:na=!0}}I=S.callback,I!==null&&(e.flags|=64,F&&(e.flags|=8192),F=d.callbacks,F===null?d.callbacks=[I]:F.push(I))}else F={lane:I,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(P=Y=F,C=Z):Y=Y.next=F,v|=I;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;F=S,S=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);Y===null&&(C=Z),d.baseState=C,d.firstBaseUpdate=P,d.lastBaseUpdate=Y,f===null&&(d.shared.lanes=0),ca|=v,e.lanes=v,e.memoizedState=Z}}function Om(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Dm(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Om(i[e],n)}var Fi=O(null),Vo=O(0);function Rm(e,n){e=Rs,ie(Vo,e),ie(Fi,n),Rs=e|n.baseLanes}function ad(){ie(Vo,Rs),ie(Fi,Fi.current)}function id(){Rs=Vo.current,ee(Fi),ee(Vo)}var pn=O(null),An=null;function ia(e){var n=e.alternate;ie(wt,wt.current&1),ie(pn,e),An===null&&(n===null||Fi.current!==null||n.memoizedState!==null)&&(An=e)}function rd(e){ie(wt,wt.current),ie(pn,e),An===null&&(An=e)}function Mm(e){e.tag===22?(ie(wt,wt.current),ie(pn,e),An===null&&(An=e)):ra()}function ra(){ie(wt,wt.current),ie(pn,pn.current)}function yn(e){ee(pn),An===e&&(An=null),ee(wt)}var wt=O(0);function $o(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||hh(i)||fh(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Es=0,Te=null,Ye=null,Et=null,Po=!1,qi=!1,Ya=!1,Ho=0,dl=0,Gi=null,ES=0;function pt(){throw Error(r(321))}function ld(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!mn(e[i],n[i]))return!1;return!0}function od(e,n,i,l,d,f){return Es=f,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?yg:_d,Ya=!1,f=i(l,d),Ya=!1,qi&&(f=zm(n,i,l,d)),Um(e),f}function Um(e){q.H=ml;var n=Ye!==null&&Ye.next!==null;if(Es=0,Et=Ye=Te=null,Po=!1,dl=0,Gi=null,n)throw Error(r(300));e===null||jt||(e=e.dependencies,e!==null&&Do(e)&&(jt=!0))}function zm(e,n,i,l){Te=e;var d=0;do{if(qi&&(Gi=null),dl=0,qi=!1,25<=d)throw Error(r(301));if(d+=1,Et=Ye=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=vg,f=n(i,l)}while(qi);return f}function jS(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?hl(n):n,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(Te.flags|=1024),n}function cd(){var e=Ho!==0;return Ho=0,e}function ud(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function dd(e){if(Po){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Po=!1}Es=0,Et=Ye=Te=null,qi=!1,dl=Ho=0,Gi=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Te.memoizedState=Et=e:Et=Et.next=e,Et}function St(){if(Ye===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var n=Et===null?Te.memoizedState:Et.next;if(n!==null)Et=n,Ye=e;else{if(e===null)throw Te.alternate===null?Error(r(467)):Error(r(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Et===null?Te.memoizedState=Et=e:Et=Et.next=e}return Et}function Io(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(e){var n=dl;return dl+=1,Gi===null&&(Gi=[]),e=jm(Gi,e,n),n=Te,(Et===null?n.memoizedState:Et.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?yg:_d),e}function Fo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hl(e);if(e.$$typeof===M)return $t(e)}throw Error(r(438,String(e)))}function hd(e){var n=null,i=Te.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Io(),Te.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),l=0;l<e;l++)i[l]=ge;return n.index++,i}function js(e,n){return typeof n=="function"?n(e):n}function qo(e){var n=St();return fd(n,Ye,e)}function fd(e,n,i){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var d=e.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}n.baseQueue=d=f,l.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{n=d.next;var S=v=null,C=null,P=n,Y=!1;do{var Z=P.lane&-536870913;if(Z!==P.lane?(Re&Z)===Z:(Es&Z)===Z){var I=P.revertLane;if(I===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Z===$i&&(Y=!0);else if((Es&I)===I){P=P.next,I===$i&&(Y=!0);continue}else Z={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(S=C=Z,v=f):C=C.next=Z,Te.lanes|=I,ca|=I;Z=P.action,Ya&&i(f,Z),f=P.hasEagerState?P.eagerState:i(f,Z)}else I={lane:Z,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(S=C=I,v=f):C=C.next=I,Te.lanes|=Z,ca|=Z;P=P.next}while(P!==null&&P!==n);if(C===null?v=f:C.next=S,!mn(f,e.memoizedState)&&(jt=!0,Y&&(i=Pi,i!==null)))throw i;e.memoizedState=f,e.baseState=v,e.baseQueue=C,l.lastRenderedState=f}return d===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function md(e){var n=St(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var l=i.dispatch,d=i.pending,f=n.memoizedState;if(d!==null){i.pending=null;var v=d=d.next;do f=e(f,v.action),v=v.next;while(v!==d);mn(f,n.memoizedState)||(jt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,l]}function Lm(e,n,i){var l=Te,d=St(),f=Ve;if(f){if(i===void 0)throw Error(r(407));i=i()}else i=n();var v=!mn((Ye||d).memoizedState,i);if(v&&(d.memoizedState=i,jt=!0),d=d.queue,yd($m.bind(null,l,d,e),[e]),d.getSnapshot!==n||v||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Ki(9,{destroy:void 0},Vm.bind(null,l,d,i,n),null),Ze===null)throw Error(r(349));f||(Es&127)!==0||Bm(l,n,i)}return i}function Bm(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Te.updateQueue,n===null?(n=Io(),Te.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Vm(e,n,i,l){n.value=i,n.getSnapshot=l,Pm(n)&&Hm(e)}function $m(e,n,i){return i(function(){Pm(n)&&Hm(e)})}function Pm(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!mn(e,i)}catch{return!0}}function Hm(e){var n=Va(e,2);n!==null&&on(n,e,2)}function gd(e){var n=en();if(typeof e=="function"){var i=e;if(e=i(),Ya){Qe(!0);try{i()}finally{Qe(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:e},n}function Im(e,n,i,l){return e.baseState=i,fd(e,Ye,typeof l=="function"?l:js)}function kS(e,n,i,l,d){if(Yo(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};q.T!==null?i(!0):f.isTransition=!1,l(f),i=n.pending,i===null?(f.next=n.pending=f,Fm(n,f)):(f.next=i.next,n.pending=i.next=f)}}function Fm(e,n){var i=n.action,l=n.payload,d=e.state;if(n.isTransition){var f=q.T,v={};q.T=v;try{var S=i(d,l),C=q.S;C!==null&&C(v,S),qm(e,n,S)}catch(P){pd(e,n,P)}finally{f!==null&&v.types!==null&&(f.types=v.types),q.T=f}}else try{f=i(d,l),qm(e,n,f)}catch(P){pd(e,n,P)}}function qm(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Gm(e,n,l)},function(l){return pd(e,n,l)}):Gm(e,n,i)}function Gm(e,n,i){n.status="fulfilled",n.value=i,Km(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Fm(e,i)))}function pd(e,n,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,Km(n),n=n.next;while(n!==l)}e.action=null}function Km(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ym(e,n){return n}function Xm(e,n){if(Ve){var i=Ze.formState;if(i!==null){e:{var l=Te;if(Ve){if(st){t:{for(var d=st,f=kn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Cn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){st=Cn(d.nextSibling),l=d.data==="F!";break e}}ea(l)}l=!1}l&&(n=i[0])}}return i=en(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ym,lastRenderedState:n},i.queue=l,i=mg.bind(null,Te,l),l.dispatch=i,l=gd(!1),f=Sd.bind(null,Te,!1,l.queue),l=en(),d={state:n,dispatch:null,action:e,pending:null},l.queue=d,i=kS.bind(null,Te,d,f,i),d.dispatch=i,l.memoizedState=e,[n,i,!1]}function Jm(e){var n=St();return Zm(n,Ye,e)}function Zm(e,n,i){if(n=fd(e,n,Ym)[0],e=qo(js)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=hl(n)}catch(v){throw v===Hi?Uo:v}else l=n;n=St();var d=n.queue,f=d.dispatch;return i!==n.memoizedState&&(Te.flags|=2048,Ki(9,{destroy:void 0},AS.bind(null,d,i),null)),[l,f,e]}function AS(e,n){e.action=n}function Qm(e){var n=St(),i=Ye;if(i!==null)return Zm(n,i,e);St(),n=n.memoizedState,i=St();var l=i.queue.dispatch;return i.memoizedState=e,[n,l,!1]}function Ki(e,n,i,l){return e={tag:e,create:i,deps:l,inst:n,next:null},n=Te.updateQueue,n===null&&(n=Io(),Te.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e),e}function Wm(){return St().memoizedState}function Go(e,n,i,l){var d=en();Te.flags|=e,d.memoizedState=Ki(1|n,{destroy:void 0},i,l===void 0?null:l)}function Ko(e,n,i,l){var d=St();l=l===void 0?null:l;var f=d.memoizedState.inst;Ye!==null&&l!==null&&ld(l,Ye.memoizedState.deps)?d.memoizedState=Ki(n,f,i,l):(Te.flags|=e,d.memoizedState=Ki(1|n,f,i,l))}function eg(e,n){Go(8390656,8,e,n)}function yd(e,n){Ko(2048,8,e,n)}function CS(e){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=Io(),Te.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function tg(e){var n=St().memoizedState;return CS({ref:n,nextImpl:e}),function(){if((Ie&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function ng(e,n){return Ko(4,2,e,n)}function sg(e,n){return Ko(4,4,e,n)}function ag(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ig(e,n,i){i=i!=null?i.concat([e]):null,Ko(4,4,ag.bind(null,n,e),i)}function vd(){}function rg(e,n){var i=St();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&ld(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function lg(e,n){var i=St();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&ld(n,l[1]))return l[0];if(l=e(),Ya){Qe(!0);try{e()}finally{Qe(!1)}}return i.memoizedState=[l,n],l}function bd(e,n,i){return i===void 0||(Es&1073741824)!==0&&(Re&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=op(),Te.lanes|=e,ca|=e,i)}function og(e,n,i,l){return mn(i,n)?i:Fi.current!==null?(e=bd(e,i,l),mn(e,n)||(jt=!0),e):(Es&42)===0||(Es&1073741824)!==0&&(Re&261930)===0?(jt=!0,e.memoizedState=i):(e=op(),Te.lanes|=e,ca|=e,n)}function cg(e,n,i,l,d){var f=G.p;G.p=f!==0&&8>f?f:8;var v=q.T,S={};q.T=S,Sd(e,!1,n,i);try{var C=d(),P=q.S;if(P!==null&&P(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=TS(C,l);fl(e,n,Y,xn(e))}else fl(e,n,l,xn(e))}catch(Z){fl(e,n,{then:function(){},status:"rejected",reason:Z},xn())}finally{G.p=f,v!==null&&S.types!==null&&(v.types=S.types),q.T=v}}function NS(){}function xd(e,n,i,l){if(e.tag!==5)throw Error(r(476));var d=ug(e).queue;cg(e,d,n,ce,i===null?NS:function(){return dg(e),i(l)})}function ug(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:ce},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function dg(e){var n=ug(e);n.next===null&&(n=e.alternate.memoizedState),fl(e,n.next.queue,{},xn())}function wd(){return $t(Nl)}function hg(){return St().memoizedState}function fg(){return St().memoizedState}function OS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=xn();e=sa(i);var l=aa(n,e,i);l!==null&&(on(l,n,i),ol(l,n,i)),n={cache:Ju()},e.payload=n;return}n=n.return}}function DS(e,n,i){var l=xn();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Yo(e)?gg(n,i):(i=Vu(e,n,i,l),i!==null&&(on(i,e,l),pg(i,n,l)))}function mg(e,n,i){var l=xn();fl(e,n,i,l)}function fl(e,n,i,l){var d={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))gg(n,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,S=f(v,i);if(d.hasEagerState=!0,d.eagerState=S,mn(S,v))return Ao(e,n,d,0),Ze===null&&ko(),!1}catch{}finally{}if(i=Vu(e,n,d,l),i!==null)return on(i,e,l),pg(i,n,l),!0}return!1}function Sd(e,n,i,l){if(l={lane:2,revertLane:eh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yo(e)){if(n)throw Error(r(479))}else n=Vu(e,i,l,2),n!==null&&on(n,e,2)}function Yo(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function gg(e,n){qi=Po=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function pg(e,n,i){if((i&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,Aa(e,i)}}var ml={readContext:$t,use:Fo,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};ml.useEffectEvent=pt;var yg={readContext:$t,use:Fo,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:$t,useEffect:eg,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Go(4194308,4,ag.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Go(4194308,4,e,n)},useInsertionEffect:function(e,n){Go(4,2,e,n)},useMemo:function(e,n){var i=en();n=n===void 0?null:n;var l=e();if(Ya){Qe(!0);try{e()}finally{Qe(!1)}}return i.memoizedState=[l,n],l},useReducer:function(e,n,i){var l=en();if(i!==void 0){var d=i(n);if(Ya){Qe(!0);try{i(n)}finally{Qe(!1)}}}else d=n;return l.memoizedState=l.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},l.queue=e,e=e.dispatch=DS.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=gd(e);var n=e.queue,i=mg.bind(null,Te,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:vd,useDeferredValue:function(e,n){var i=en();return bd(i,e,n)},useTransition:function(){var e=gd(!1);return e=cg.bind(null,Te,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var l=Te,d=en();if(Ve){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),Ze===null)throw Error(r(349));(Re&127)!==0||Bm(l,n,i)}d.memoizedState=i;var f={value:i,getSnapshot:n};return d.queue=f,eg($m.bind(null,l,f,e),[e]),l.flags|=2048,Ki(9,{destroy:void 0},Vm.bind(null,l,f,i,n),null),i},useId:function(){var e=en(),n=Ze.identifierPrefix;if(Ve){var i=rs,l=is;i=(l&~(1<<32-Mt(l)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Ho++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=ES++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wd,useFormState:Xm,useActionState:Xm,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Sd.bind(null,Te,!0,i),i.dispatch=n,[e,n]},useMemoCache:hd,useCacheRefresh:function(){return en().memoizedState=OS.bind(null,Te)},useEffectEvent:function(e){var n=en(),i={impl:e};return n.memoizedState=i,function(){if((Ie&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},_d={readContext:$t,use:Fo,useCallback:rg,useContext:$t,useEffect:yd,useImperativeHandle:ig,useInsertionEffect:ng,useLayoutEffect:sg,useMemo:lg,useReducer:qo,useRef:Wm,useState:function(){return qo(js)},useDebugValue:vd,useDeferredValue:function(e,n){var i=St();return og(i,Ye.memoizedState,e,n)},useTransition:function(){var e=qo(js)[0],n=St().memoizedState;return[typeof e=="boolean"?e:hl(e),n]},useSyncExternalStore:Lm,useId:hg,useHostTransitionStatus:wd,useFormState:Jm,useActionState:Jm,useOptimistic:function(e,n){var i=St();return Im(i,Ye,e,n)},useMemoCache:hd,useCacheRefresh:fg};_d.useEffectEvent=tg;var vg={readContext:$t,use:Fo,useCallback:rg,useContext:$t,useEffect:yd,useImperativeHandle:ig,useInsertionEffect:ng,useLayoutEffect:sg,useMemo:lg,useReducer:md,useRef:Wm,useState:function(){return md(js)},useDebugValue:vd,useDeferredValue:function(e,n){var i=St();return Ye===null?bd(i,e,n):og(i,Ye.memoizedState,e,n)},useTransition:function(){var e=md(js)[0],n=St().memoizedState;return[typeof e=="boolean"?e:hl(e),n]},useSyncExternalStore:Lm,useId:hg,useHostTransitionStatus:wd,useFormState:Qm,useActionState:Qm,useOptimistic:function(e,n){var i=St();return Ye!==null?Im(i,Ye,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:hd,useCacheRefresh:fg};vg.useEffectEvent=tg;function Td(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:b({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ed={enqueueSetState:function(e,n,i){e=e._reactInternals;var l=xn(),d=sa(l);d.payload=n,i!=null&&(d.callback=i),n=aa(e,d,l),n!==null&&(on(n,e,l),ol(n,e,l))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=xn(),d=sa(l);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=aa(e,d,l),n!==null&&(on(n,e,l),ol(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=xn(),l=sa(i);l.tag=2,n!=null&&(l.callback=n),n=aa(e,l,i),n!==null&&(on(n,e,i),ol(n,e,i))}};function bg(e,n,i,l,d,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!el(i,l)||!el(d,f):!0}function xg(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&Ed.enqueueReplaceState(n,n.state,null)}function Xa(e,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(e=e.defaultProps){i===n&&(i=b({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}function wg(e){jo(e)}function Sg(e){console.error(e)}function _g(e){jo(e)}function Xo(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Tg(e,n,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function jd(e,n,i){return i=sa(i),i.tag=3,i.payload={element:null},i.callback=function(){Xo(e,n)},i}function Eg(e){return e=sa(e),e.tag=3,e}function jg(e,n,i,l){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;e.payload=function(){return d(f)},e.callback=function(){Tg(n,i,l)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Tg(n,i,l),typeof d!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function RS(e,n,i,l,d){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&Vi(n,i,d,!0),i=pn.current,i!==null){switch(i.tag){case 31:case 13:return An===null?lc():i.alternate===null&&yt===0&&(yt=3),i.flags&=-257,i.flags|=65536,i.lanes=d,l===zo?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),Zd(e,l,d)),!1;case 22:return i.flags|=65536,l===zo?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),Zd(e,l,d)),!1}throw Error(r(435,i.tag))}return Zd(e,l,d),lc(),!1}if(Ve)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,l!==qu&&(e=Error(r(422),{cause:l}),sl(Tn(e,i)))):(l!==qu&&(n=Error(r(423),{cause:l}),sl(Tn(n,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,l=Tn(l,i),d=jd(e.stateNode,l,d),nd(e,d),yt!==4&&(yt=2)),!1;var f=Error(r(520),{cause:l});if(f=Tn(f,i),Sl===null?Sl=[f]:Sl.push(f),yt!==4&&(yt=2),n===null)return!0;l=Tn(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=jd(i.stateNode,l,e),nd(i,e),!1;case 1:if(n=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ua===null||!ua.has(f))))return i.flags|=65536,d&=-d,i.lanes|=d,d=Eg(d),jg(d,e,i,l),nd(i,d),!1}i=i.return}while(i!==null);return!1}var kd=Error(r(461)),jt=!1;function Pt(e,n,i,l){n.child=e===null?Nm(n,null,i,l):Ka(n,e.child,i,l)}function kg(e,n,i,l,d){i=i.render;var f=n.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Ia(n),l=od(e,n,i,v,f,d),S=cd(),e!==null&&!jt?(ud(e,n,d),ks(e,n,d)):(Ve&&S&&Iu(n),n.flags|=1,Pt(e,n,l,d),n.child)}function Ag(e,n,i,l,d){if(e===null){var f=i.type;return typeof f=="function"&&!$u(f)&&f.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=f,Cg(e,n,f,l,d)):(e=No(i.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Ud(e,d)){var v=f.memoizedProps;if(i=i.compare,i=i!==null?i:el,i(v,l)&&e.ref===n.ref)return ks(e,n,d)}return n.flags|=1,e=ws(f,l),e.ref=n.ref,e.return=n,n.child=e}function Cg(e,n,i,l,d){if(e!==null){var f=e.memoizedProps;if(el(f,l)&&e.ref===n.ref)if(jt=!1,n.pendingProps=l=f,Ud(e,d))(e.flags&131072)!==0&&(jt=!0);else return n.lanes=e.lanes,ks(e,n,d)}return Ad(e,n,i,l,d)}function Ng(e,n,i,l){var d=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,e!==null){for(l=n.child=e.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,n.child=null;return Og(e,n,f,i,l)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mo(n,f!==null?f.cachePool:null),f!==null?Rm(n,f):ad(),Mm(n);else return l=n.lanes=536870912,Og(e,n,f!==null?f.baseLanes|i:i,i,l)}else f!==null?(Mo(n,f.cachePool),Rm(n,f),ra(),n.memoizedState=null):(e!==null&&Mo(n,null),ad(),ra());return Pt(e,n,d,i),n.child}function gl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Og(e,n,i,l,d){var f=Qu();return f=f===null?null:{parent:Tt._currentValue,pool:f},n.memoizedState={baseLanes:i,cachePool:f},e!==null&&Mo(n,null),ad(),Mm(n),e!==null&&Vi(e,n,l,!0),n.childLanes=d,null}function Jo(e,n){return n=Qo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Dg(e,n,i){return Ka(n,e.child,null,i),e=Jo(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function MS(e,n,i){var l=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ve){if(l.mode==="hidden")return e=Jo(n,l),n.lanes=536870912,gl(null,e);if(rd(n),(e=st)?(e=Fp(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qs!==null?{id:is,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},i=gm(e),i.return=n,n.child=i,Vt=n,st=null)):e=null,e===null)throw ea(n);return n.lanes=536870912,null}return Jo(n,l)}var f=e.memoizedState;if(f!==null){var v=f.dehydrated;if(rd(n),d)if(n.flags&256)n.flags&=-257,n=Dg(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(jt||Vi(e,n,i,!1),d=(i&e.childLanes)!==0,jt||d){if(l=Ze,l!==null&&(v=Ur(l,i),v!==0&&v!==f.retryLane))throw f.retryLane=v,Va(e,v),on(l,e,v),kd;lc(),n=Dg(e,n,i)}else e=f.treeContext,st=Cn(v.nextSibling),Vt=n,Ve=!0,Ws=null,kn=!1,e!==null&&vm(n,e),n=Jo(n,l),n.flags|=4096;return n}return e=ws(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Zo(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Ad(e,n,i,l,d){return Ia(n),i=od(e,n,i,l,void 0,d),l=cd(),e!==null&&!jt?(ud(e,n,d),ks(e,n,d)):(Ve&&l&&Iu(n),n.flags|=1,Pt(e,n,i,d),n.child)}function Rg(e,n,i,l,d,f){return Ia(n),n.updateQueue=null,i=zm(n,l,i,d),Um(e),l=cd(),e!==null&&!jt?(ud(e,n,f),ks(e,n,f)):(Ve&&l&&Iu(n),n.flags|=1,Pt(e,n,i,f),n.child)}function Mg(e,n,i,l,d){if(Ia(n),n.stateNode===null){var f=Ui,v=i.contextType;typeof v=="object"&&v!==null&&(f=$t(v)),f=new i(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ed,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ed(n),v=i.contextType,f.context=typeof v=="object"&&v!==null?$t(v):Ui,f.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Td(n,i,v,l),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Ed.enqueueReplaceState(f,f.state,null),ul(n,l,f,d),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var S=n.memoizedProps,C=Xa(i,S);f.props=C;var P=f.context,Y=i.contextType;v=Ui,typeof Y=="object"&&Y!==null&&(v=$t(Y));var Z=i.getDerivedStateFromProps;Y=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||P!==v)&&xg(n,f,l,v),na=!1;var I=n.memoizedState;f.state=I,ul(n,l,f,d),cl(),P=n.memoizedState,S||I!==P||na?(typeof Z=="function"&&(Td(n,i,Z,l),P=n.memoizedState),(C=na||bg(n,i,C,l,I,P,v))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=v,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,td(e,n),v=n.memoizedProps,Y=Xa(i,v),f.props=Y,Z=n.pendingProps,I=f.context,P=i.contextType,C=Ui,typeof P=="object"&&P!==null&&(C=$t(P)),S=i.getDerivedStateFromProps,(P=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||I!==C)&&xg(n,f,l,C),na=!1,I=n.memoizedState,f.state=I,ul(n,l,f,d),cl();var F=n.memoizedState;v!==Z||I!==F||na||e!==null&&e.dependencies!==null&&Do(e.dependencies)?(typeof S=="function"&&(Td(n,i,S,l),F=n.memoizedState),(Y=na||bg(n,i,Y,l,I,F,C)||e!==null&&e.dependencies!==null&&Do(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=C,l=Y):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zo(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ka(n,e.child,null,d),n.child=Ka(n,null,i,d)):Pt(e,n,i,d),n.memoizedState=f.state,e=n.child):e=ks(e,n,d),e}function Ug(e,n,i,l){return Pa(),n.flags|=256,Pt(e,n,i,l),n.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(e){return{baseLanes:e,cachePool:Tm()}}function Od(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=bn),e}function zg(e,n,i){var l=n.pendingProps,d=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(wt.current&2)!==0),v&&(d=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ve){if(d?ia(n):ra(),(e=st)?(e=Fp(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qs!==null?{id:is,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},i=gm(e),i.return=n,n.child=i,Vt=n,st=null)):e=null,e===null)throw ea(n);return fh(e)?n.lanes=32:n.lanes=536870912,null}var S=l.children;return l=l.fallback,d?(ra(),d=n.mode,S=Qo({mode:"hidden",children:S},d),l=$a(l,d,i,null),S.return=n,l.return=n,S.sibling=l,n.child=S,l=n.child,l.memoizedState=Nd(i),l.childLanes=Od(e,v,i),n.memoizedState=Cd,gl(null,l)):(ia(n),Dd(n,S))}var C=e.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(f)n.flags&256?(ia(n),n.flags&=-257,n=Rd(e,n,i)):n.memoizedState!==null?(ra(),n.child=e.child,n.flags|=128,n=null):(ra(),S=l.fallback,d=n.mode,l=Qo({mode:"visible",children:l.children},d),S=$a(S,d,i,null),S.flags|=2,l.return=n,S.return=n,l.sibling=S,n.child=l,Ka(n,e.child,null,i),l=n.child,l.memoizedState=Nd(i),l.childLanes=Od(e,v,i),n.memoizedState=Cd,n=gl(null,l));else if(ia(n),fh(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(r(419)),l.stack="",l.digest=v,sl({value:l,source:null,stack:null}),n=Rd(e,n,i)}else if(jt||Vi(e,n,i,!1),v=(i&e.childLanes)!==0,jt||v){if(v=Ze,v!==null&&(l=Ur(v,i),l!==0&&l!==C.retryLane))throw C.retryLane=l,Va(e,l),on(v,e,l),kd;hh(S)||lc(),n=Rd(e,n,i)}else hh(S)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,st=Cn(S.nextSibling),Vt=n,Ve=!0,Ws=null,kn=!1,e!==null&&vm(n,e),n=Dd(n,l.children),n.flags|=4096);return n}return d?(ra(),S=l.fallback,d=n.mode,C=e.child,P=C.sibling,l=ws(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?S=ws(P,S):(S=$a(S,d,i,null),S.flags|=2),S.return=n,l.return=n,l.sibling=S,n.child=l,gl(null,l),l=n.child,S=e.child.memoizedState,S===null?S=Nd(i):(d=S.cachePool,d!==null?(C=Tt._currentValue,d=d.parent!==C?{parent:C,pool:C}:d):d=Tm(),S={baseLanes:S.baseLanes|i,cachePool:d}),l.memoizedState=S,l.childLanes=Od(e,v,i),n.memoizedState=Cd,gl(e.child,l)):(ia(n),i=e.child,e=i.sibling,i=ws(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=i,n.memoizedState=null,i)}function Dd(e,n){return n=Qo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qo(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Rd(e,n,i){return Ka(n,e.child,null,i),e=Dd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Lg(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Yu(e.return,n,i)}function Md(e,n,i,l,d,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d,treeForkCount:f}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=i,v.tailMode=d,v.treeForkCount=f)}function Bg(e,n,i){var l=n.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var v=wt.current,S=(v&2)!==0;if(S?(v=v&1|2,n.flags|=128):v&=1,ie(wt,v),Pt(e,n,l,i),l=Ve?nl:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lg(e,i,n);else if(e.tag===19)Lg(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&$o(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),Md(n,!1,d,i,f,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&$o(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Md(n,!0,i,null,f,l);break;case"together":Md(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ks(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),ca|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Vi(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,i=ws(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=ws(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Ud(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Do(e)))}function US(e,n,i){switch(n.tag){case 3:Ot(n,n.stateNode.containerInfo),ta(n,Tt,e.memoizedState.cache),Pa();break;case 27:case 5:ts(n);break;case 4:Ot(n,n.stateNode.containerInfo);break;case 10:ta(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rd(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ia(n),n.flags|=128,null):(i&n.child.childLanes)!==0?zg(e,n,i):(ia(n),e=ks(e,n,i),e!==null?e.sibling:null);ia(n);break;case 19:var d=(e.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(Vi(e,n,i,!1),l=(i&n.childLanes)!==0),d){if(l)return Bg(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ie(wt,wt.current),l)break;return null;case 22:return n.lanes=0,Ng(e,n,i,n.pendingProps);case 24:ta(n,Tt,e.memoizedState.cache)}return ks(e,n,i)}function Vg(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)jt=!0;else{if(!Ud(e,i)&&(n.flags&128)===0)return jt=!1,US(e,n,i);jt=(e.flags&131072)!==0}else jt=!1,Ve&&(n.flags&1048576)!==0&&ym(n,nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=qa(n.elementType),n.type=e,typeof e=="function")$u(e)?(l=Xa(e,l),n.tag=1,n=Mg(null,n,e,l,i)):(n.tag=0,n=Ad(null,n,e,l,i));else{if(e!=null){var d=e.$$typeof;if(d===K){n.tag=11,n=kg(null,n,e,l,i);break e}else if(d===J){n.tag=14,n=Ag(null,n,e,l,i);break e}}throw n=bt(e)||e,Error(r(306,n,""))}}return n;case 0:return Ad(e,n,n.type,n.pendingProps,i);case 1:return l=n.type,d=Xa(l,n.pendingProps),Mg(e,n,l,d,i);case 3:e:{if(Ot(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;d=f.element,td(e,n),ul(n,l,null,i);var v=n.memoizedState;if(l=v.cache,ta(n,Tt,l),l!==f.cache&&Xu(n,[Tt],i,!0),cl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ug(e,n,l,i);break e}else if(l!==d){d=Tn(Error(r(424)),n),sl(d),n=Ug(e,n,l,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=Cn(e.firstChild),Vt=n,Ve=!0,Ws=null,kn=!0,i=Nm(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Pa(),l===d){n=ks(e,n,i);break e}Pt(e,n,l,i)}n=n.child}return n;case 26:return Zo(e,n),e===null?(i=Jp(n.type,null,n.pendingProps,null))?n.memoizedState=i:Ve||(i=n.type,e=n.pendingProps,l=mc(Ae.current).createElement(i),l[xt]=n,l[Lt]=e,Ht(l,i,e),_e(l),n.stateNode=l):n.memoizedState=Jp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ts(n),e===null&&Ve&&(l=n.stateNode=Kp(n.type,n.pendingProps,Ae.current),Vt=n,kn=!0,d=st,ma(n.type)?(mh=d,st=Cn(l.firstChild)):st=d),Pt(e,n,n.pendingProps.children,i),Zo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ve&&((d=l=st)&&(l=d_(l,n.type,n.pendingProps,kn),l!==null?(n.stateNode=l,Vt=n,st=Cn(l.firstChild),kn=!1,d=!0):d=!1),d||ea(n)),ts(n),d=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,l=f.children,ch(d,f)?l=null:v!==null&&ch(d,v)&&(n.flags|=32),n.memoizedState!==null&&(d=od(e,n,jS,null,null,i),Nl._currentValue=d),Zo(e,n),Pt(e,n,l,i),n.child;case 6:return e===null&&Ve&&((e=i=st)&&(i=h_(i,n.pendingProps,kn),i!==null?(n.stateNode=i,Vt=n,st=null,e=!0):e=!1),e||ea(n)),null;case 13:return zg(e,n,i);case 4:return Ot(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ka(n,null,l,i):Pt(e,n,l,i),n.child;case 11:return kg(e,n,n.type,n.pendingProps,i);case 7:return Pt(e,n,n.pendingProps,i),n.child;case 8:return Pt(e,n,n.pendingProps.children,i),n.child;case 12:return Pt(e,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,ta(n,n.type,l.value),Pt(e,n,l.children,i),n.child;case 9:return d=n.type._context,l=n.pendingProps.children,Ia(n),d=$t(d),l=l(d),n.flags|=1,Pt(e,n,l,i),n.child;case 14:return Ag(e,n,n.type,n.pendingProps,i);case 15:return Cg(e,n,n.type,n.pendingProps,i);case 19:return Bg(e,n,i);case 31:return MS(e,n,i);case 22:return Ng(e,n,i,n.pendingProps);case 24:return Ia(n),l=$t(Tt),e===null?(d=Qu(),d===null&&(d=Ze,f=Ju(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=i),d=f),n.memoizedState={parent:l,cache:d},ed(n),ta(n,Tt,d)):((e.lanes&i)!==0&&(td(e,n),ul(n,null,null,i),cl()),d=e.memoizedState,f=n.memoizedState,d.parent!==l?(d={parent:l,cache:l},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),ta(n,Tt,l)):(l=f.cache,ta(n,Tt,l),l!==d.cache&&Xu(n,[Tt],i,!0))),Pt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function As(e){e.flags|=4}function zd(e,n,i,l,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(hp())e.flags|=8192;else throw Ga=zo,Wu}else e.flags&=-16777217}function $g(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ty(n))if(hp())e.flags|=8192;else throw Ga=zo,Wu}function Wo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?po():536870912,e.lanes|=n,Zi|=n)}function pl(e,n){if(!Ve)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function at(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function zS(e,n,i){var l=n.pendingProps;switch(Fu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(n),null;case 1:return at(n),null;case 3:return i=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ts(Tt),it(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Bi(n)?As(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gu())),at(n),null;case 26:var d=n.type,f=n.memoizedState;return e===null?(As(n),f!==null?(at(n),$g(n,f)):(at(n),zd(n,d,null,l,i))):f?f!==e.memoizedState?(As(n),at(n),$g(n,f)):(at(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&As(n),at(n),zd(n,d,e,l,i)),null;case 27:if(qe(n),i=Ae.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&As(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return at(n),null}e=de.current,Bi(n)?bm(n):(e=Kp(d,l,i),n.stateNode=e,As(n))}return at(n),null;case 5:if(qe(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&As(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return at(n),null}if(f=de.current,Bi(n))bm(n);else{var v=mc(Ae.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}f[xt]=n,f[Lt]=l;e:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=f;e:switch(Ht(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&As(n)}}return at(n),zd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&As(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=Ae.current,Bi(n)){if(e=n.stateNode,i=n.memoizedProps,l=null,d=Vt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}e[xt]=n,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||zp(e.nodeValue,i)),e||ea(n,!0)}else e=mc(e).createTextNode(l),e[xt]=n,n.stateNode=e}return at(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(l=Bi(n),i!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[xt]=n}else Pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),e=!1}else i=Gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return at(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Bi(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[xt]=n}else Pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),d=!1}else d=Gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=i,n):(i=l!==null,e=e!==null&&e.memoizedState!==null,i&&(l=n.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),Wo(n,n.updateQueue),at(n),null);case 4:return it(),e===null&&ah(n.stateNode.containerInfo),at(n),null;case 10:return Ts(n.type),at(n),null;case 19:if(ee(wt),l=n.memoizedState,l===null)return at(n),null;if(d=(n.flags&128)!==0,f=l.rendering,f===null)if(d)pl(l,!1);else{if(yt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=$o(e),f!==null){for(n.flags|=128,pl(l,!1),e=f.updateQueue,n.updateQueue=e,Wo(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)mm(i,e),i=i.sibling;return ie(wt,wt.current&1|2),Ve&&Ss(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Zt()>ac&&(n.flags|=128,d=!0,pl(l,!1),n.lanes=4194304)}else{if(!d)if(e=$o(f),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Wo(n,e),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ve)return at(n),null}else 2*Zt()-l.renderingStartTime>ac&&i!==536870912&&(n.flags|=128,d=!0,pl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Zt(),e.sibling=null,i=wt.current,ie(wt,d?i&1|2:i&1),Ve&&Ss(n,l.treeForkCount),e):(at(n),null);case 22:case 23:return yn(n),id(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(at(n),n.subtreeFlags&6&&(n.flags|=8192)):at(n),i=n.updateQueue,i!==null&&Wo(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),e!==null&&ee(Fa),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Ts(Tt),at(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function LS(e,n){switch(Fu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ts(Tt),it(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return qe(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(r(340));Pa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Pa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ee(wt),null;case 4:return it(),null;case 10:return Ts(n.type),null;case 22:case 23:return yn(n),id(),e!==null&&ee(Fa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ts(Tt),null;case 25:return null;default:return null}}function Pg(e,n){switch(Fu(n),n.tag){case 3:Ts(Tt),it();break;case 26:case 27:case 5:qe(n);break;case 4:it();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:ee(wt);break;case 10:Ts(n.type);break;case 22:case 23:yn(n),id(),e!==null&&ee(Fa);break;case 24:Ts(Tt)}}function yl(e,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var d=l.next;i=d;do{if((i.tag&e)===e){l=void 0;var f=i.create,v=i.inst;l=f(),v.destroy=l}i=i.next}while(i!==d)}}catch(S){Ke(n,n.return,S)}}function la(e,n,i){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&e)===e){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=n;var C=i,P=S;try{P()}catch(Y){Ke(d,C,Y)}}}l=l.next}while(l!==f)}}catch(Y){Ke(n,n.return,Y)}}function Hg(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Dm(n,i)}catch(l){Ke(e,e.return,l)}}}function Ig(e,n,i){i.props=Xa(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){Ke(e,n,l)}}function vl(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(d){Ke(e,n,d)}}function ls(e,n){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(d){Ke(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){Ke(e,n,d)}else i.current=null}function Fg(e){var n=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(d){Ke(e,e.return,d)}}function Ld(e,n,i){try{var l=e.stateNode;i_(l,e.type,i,n),l[Lt]=n}catch(d){Ke(e,e.return,d)}}function qg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ma(e.type)||e.tag===4}function Bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ma(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vd(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=In));else if(l!==4&&(l===27&&ma(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Vd(e,n,i),e=e.sibling;e!==null;)Vd(e,n,i),e=e.sibling}function ec(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(l===27&&ma(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ec(e,n,i),e=e.sibling;e!==null;)ec(e,n,i),e=e.sibling}function Gg(e){var n=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Ht(n,l,i),n[xt]=e,n[Lt]=i}catch(f){Ke(e,e.return,f)}}var Cs=!1,kt=!1,$d=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,zt=null;function BS(e,n){if(e=e.containerInfo,lh=wc,e=im(e),Ru(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var v=0,S=-1,C=-1,P=0,Y=0,Z=e,I=null;t:for(;;){for(var F;Z!==i||d!==0&&Z.nodeType!==3||(S=v+d),Z!==f||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(F=Z.firstChild)!==null;)I=Z,Z=F;for(;;){if(Z===e)break t;if(I===i&&++P===d&&(S=v),I===f&&++Y===l&&(C=v),(F=Z.nextSibling)!==null)break;Z=I,I=Z.parentNode}Z=F}i=S===-1||C===-1?null:{start:S,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(oh={focusedElem:e,selectionRange:i},wc=!1,zt=n;zt!==null;)if(n=zt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,zt=e;else for(;zt!==null;){switch(n=zt,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)d=e[i],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=n,d=f.memoizedProps,f=f.memoizedState,l=i.stateNode;try{var oe=Xa(i.type,d);e=l.getSnapshotBeforeUpdate(oe,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Ke(i,i.return,ye)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)dh(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,zt=e;break}zt=n.return}}function Yg(e,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Os(e,i),l&4&&yl(5,i);break;case 1:if(Os(e,i),l&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(v){Ke(i,i.return,v)}else{var d=Xa(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Ke(i,i.return,v)}}l&64&&Hg(i),l&512&&vl(i,i.return);break;case 3:if(Os(e,i),l&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Dm(e,n)}catch(v){Ke(i,i.return,v)}}break;case 27:n===null&&l&4&&Gg(i);case 26:case 5:Os(e,i),n===null&&l&4&&Fg(i),l&512&&vl(i,i.return);break;case 12:Os(e,i);break;case 31:Os(e,i),l&4&&Zg(e,i);break;case 13:Os(e,i),l&4&&Qg(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=KS.bind(null,i),f_(e,i))));break;case 22:if(l=i.memoizedState!==null||Cs,!l){n=n!==null&&n.memoizedState!==null||kt,d=Cs;var f=kt;Cs=l,(kt=n)&&!f?Ds(e,i,(i.subtreeFlags&8772)!==0):Os(e,i),Cs=d,kt=f}break;case 30:break;default:Os(e,i)}}function Xg(e){var n=e.alternate;n!==null&&(e.alternate=null,Xg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&vo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,sn=!1;function Ns(e,n,i){for(i=i.child;i!==null;)Jg(e,n,i),i=i.sibling}function Jg(e,n,i){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(ct,i)}catch{}switch(i.tag){case 26:kt||ls(i,n),Ns(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:kt||ls(i,n);var l=rt,d=sn;ma(i.type)&&(rt=i.stateNode,sn=!1),Ns(e,n,i),kl(i.stateNode),rt=l,sn=d;break;case 5:kt||ls(i,n);case 6:if(l=rt,d=sn,rt=null,Ns(e,n,i),rt=l,sn=d,rt!==null)if(sn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(i.stateNode)}catch(f){Ke(i,n,f)}else try{rt.removeChild(i.stateNode)}catch(f){Ke(i,n,f)}break;case 18:rt!==null&&(sn?(e=rt,Hp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ir(e)):Hp(rt,i.stateNode));break;case 4:l=rt,d=sn,rt=i.stateNode.containerInfo,sn=!0,Ns(e,n,i),rt=l,sn=d;break;case 0:case 11:case 14:case 15:la(2,i,n),kt||la(4,i,n),Ns(e,n,i);break;case 1:kt||(ls(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Ig(i,n,l)),Ns(e,n,i);break;case 21:Ns(e,n,i);break;case 22:kt=(l=kt)||i.memoizedState!==null,Ns(e,n,i),kt=l;break;default:Ns(e,n,i)}}function Zg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ir(e)}catch(i){Ke(n,n.return,i)}}}function Qg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ir(e)}catch(i){Ke(n,n.return,i)}}function VS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Kg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Kg),n;default:throw Error(r(435,e.tag))}}function tc(e,n){var i=VS(e);n.forEach(function(l){if(!i.has(l)){i.add(l);var d=YS.bind(null,e,l);l.then(d,d)}})}function an(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l],f=e,v=n,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(ma(S.type)){rt=S.stateNode,sn=!1;break e}break;case 5:rt=S.stateNode,sn=!1;break e;case 3:case 4:rt=S.stateNode.containerInfo,sn=!0;break e}S=S.return}if(rt===null)throw Error(r(160));Jg(f,v,d),rt=null,sn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wg(n,e),n=n.sibling}var Kn=null;function Wg(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),rn(e),l&4&&(la(3,e,e.return),yl(3,e),la(5,e,e.return));break;case 1:an(n,e),rn(e),l&512&&(kt||i===null||ls(i,i.return)),l&64&&Cs&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var d=Kn;if(an(n,e),rn(e),l&512&&(kt||i===null||ls(i,i.return)),l&4){var f=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Gs]||f[xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Ht(f,l,i),f[xt]=e,_e(f),l=f;break e;case"link":var v=Wp("link","href",d).get(l+(i.href||""));if(v){for(var S=0;S<v.length;S++)if(f=v[S],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(S,1);break t}}f=d.createElement(l),Ht(f,l,i),d.head.appendChild(f);break;case"meta":if(v=Wp("meta","content",d).get(l+(i.content||""))){for(S=0;S<v.length;S++)if(f=v[S],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(S,1);break t}}f=d.createElement(l),Ht(f,l,i),d.head.appendChild(f);break;default:throw Error(r(468,l))}f[xt]=e,_e(f),l=f}e.stateNode=l}else ey(d,e.type,e.stateNode);else e.stateNode=Qp(d,l,e.memoizedProps);else f!==l?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,l===null?ey(d,e.type,e.stateNode):Qp(d,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ld(e,e.memoizedProps,i.memoizedProps)}break;case 27:an(n,e),rn(e),l&512&&(kt||i===null||ls(i,i.return)),i!==null&&l&4&&Ld(e,e.memoizedProps,i.memoizedProps);break;case 5:if(an(n,e),rn(e),l&512&&(kt||i===null||ls(i,i.return)),e.flags&32){d=e.stateNode;try{vs(d,"")}catch(oe){Ke(e,e.return,oe)}}l&4&&e.stateNode!=null&&(d=e.memoizedProps,Ld(e,d,i!==null?i.memoizedProps:d)),l&1024&&($d=!0);break;case 6:if(an(n,e),rn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(oe){Ke(e,e.return,oe)}}break;case 3:if(yc=null,d=Kn,Kn=gc(n.containerInfo),an(n,e),Kn=d,rn(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{ir(n.containerInfo)}catch(oe){Ke(e,e.return,oe)}$d&&($d=!1,ep(e));break;case 4:l=Kn,Kn=gc(e.stateNode.containerInfo),an(n,e),rn(e),Kn=l;break;case 12:an(n,e),rn(e);break;case 31:an(n,e),rn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 13:an(n,e),rn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(sc=Zt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 22:d=e.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,P=Cs,Y=kt;if(Cs=P||d,kt=Y||C,an(n,e),kt=Y,Cs=P,rn(e),l&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(i===null||C||Cs||kt||Ja(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){C=i=n;try{if(f=C.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=C.stateNode;var Z=C.memoizedProps.style,I=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(oe){Ke(C,C.return,oe)}}}else if(n.tag===6){if(i===null){C=n;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(oe){Ke(C,C.return,oe)}}}else if(n.tag===18){if(i===null){C=n;try{var F=C.stateNode;d?Ip(F,!0):Ip(C.stateNode,!1)}catch(oe){Ke(C,C.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,tc(e,i))));break;case 19:an(n,e),rn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 30:break;case 21:break;default:an(n,e),rn(e)}}function rn(e){var n=e.flags;if(n&2){try{for(var i,l=e.return;l!==null;){if(qg(l)){i=l;break}l=l.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var d=i.stateNode,f=Bd(e);ec(e,f,d);break;case 5:var v=i.stateNode;i.flags&32&&(vs(v,""),i.flags&=-33);var S=Bd(e);ec(e,S,v);break;case 3:case 4:var C=i.stateNode.containerInfo,P=Bd(e);Vd(e,P,C);break;default:throw Error(r(161))}}catch(Y){Ke(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ep(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ep(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Os(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yg(e,n.alternate,n),n=n.sibling}function Ja(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:la(4,n,n.return),Ja(n);break;case 1:ls(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Ig(n,n.return,i),Ja(n);break;case 27:kl(n.stateNode);case 26:case 5:ls(n,n.return),Ja(n);break;case 22:n.memoizedState===null&&Ja(n);break;case 30:Ja(n);break;default:Ja(n)}e=e.sibling}}function Ds(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,d=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:Ds(d,f,i),yl(4,f);break;case 1:if(Ds(d,f,i),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(P){Ke(l,l.return,P)}if(l=f,d=l.updateQueue,d!==null){var S=l.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)Om(C[d],S)}catch(P){Ke(l,l.return,P)}}i&&v&64&&Hg(f),vl(f,f.return);break;case 27:Gg(f);case 26:case 5:Ds(d,f,i),i&&l===null&&v&4&&Fg(f),vl(f,f.return);break;case 12:Ds(d,f,i);break;case 31:Ds(d,f,i),i&&v&4&&Zg(d,f);break;case 13:Ds(d,f,i),i&&v&4&&Qg(d,f);break;case 22:f.memoizedState===null&&Ds(d,f,i),vl(f,f.return);break;case 30:break;default:Ds(d,f,i)}n=n.sibling}}function Pd(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&al(i))}function Hd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&al(e))}function Yn(e,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)tp(e,n,i,l),n=n.sibling}function tp(e,n,i,l){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,i,l),d&2048&&yl(9,n);break;case 1:Yn(e,n,i,l);break;case 3:Yn(e,n,i,l),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&al(e)));break;case 12:if(d&2048){Yn(e,n,i,l),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,S=f.onPostCommit;typeof S=="function"&&S(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ke(n,n.return,C)}}else Yn(e,n,i,l);break;case 31:Yn(e,n,i,l);break;case 13:Yn(e,n,i,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,i,l):bl(e,n):f._visibility&2?Yn(e,n,i,l):(f._visibility|=2,Yi(e,n,i,l,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Pd(v,n);break;case 24:Yn(e,n,i,l),d&2048&&Hd(n.alternate,n);break;default:Yn(e,n,i,l)}}function Yi(e,n,i,l,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,v=n,S=i,C=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:Yi(f,v,S,C,d),yl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Yi(f,v,S,C,d):bl(f,v):(Y._visibility|=2,Yi(f,v,S,C,d)),d&&P&2048&&Pd(v.alternate,v);break;case 24:Yi(f,v,S,C,d),d&&P&2048&&Hd(v.alternate,v);break;default:Yi(f,v,S,C,d)}n=n.sibling}}function bl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,l=n,d=l.flags;switch(l.tag){case 22:bl(i,l),d&2048&&Pd(l.alternate,l);break;case 24:bl(i,l),d&2048&&Hd(l.alternate,l);break;default:bl(i,l)}n=n.sibling}}var xl=8192;function Xi(e,n,i){if(e.subtreeFlags&xl)for(e=e.child;e!==null;)np(e,n,i),e=e.sibling}function np(e,n,i){switch(e.tag){case 26:Xi(e,n,i),e.flags&xl&&e.memoizedState!==null&&E_(i,Kn,e.memoizedState,e.memoizedProps);break;case 5:Xi(e,n,i);break;case 3:case 4:var l=Kn;Kn=gc(e.stateNode.containerInfo),Xi(e,n,i),Kn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=xl,xl=16777216,Xi(e,n,i),xl=l):Xi(e,n,i));break;default:Xi(e,n,i)}}function sp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];zt=l,ip(l,e)}sp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ap(e),e=e.sibling}function ap(e){switch(e.tag){case 0:case 11:case 15:wl(e),e.flags&2048&&la(9,e,e.return);break;case 3:wl(e);break;case 12:wl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):wl(e);break;default:wl(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];zt=l,ip(l,e)}sp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:la(8,n,n.return),nc(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function ip(e,n){for(;zt!==null;){var i=zt;switch(i.tag){case 0:case 11:case 15:la(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,zt=l;else e:for(i=e;zt!==null;){l=zt;var d=l.sibling,f=l.return;if(Xg(l),l===i){zt=null;break e}if(d!==null){d.return=f,zt=d;break e}zt=f}}}var $S={getCacheForType:function(e){var n=$t(Tt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return $t(Tt).controller.signal}},PS=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Ze=null,Oe=null,Re=0,Ge=0,vn=null,oa=!1,Ji=!1,Id=!1,Rs=0,yt=0,ca=0,Za=0,Fd=0,bn=0,Zi=0,Sl=null,ln=null,qd=!1,sc=0,rp=0,ac=1/0,ic=null,ua=null,Dt=0,da=null,Qi=null,Ms=0,Gd=0,Kd=null,lp=null,_l=0,Yd=null;function xn(){return(Ie&2)!==0&&Re!==0?Re&-Re:q.T!==null?eh():zr()}function op(){if(bn===0)if((Re&536870912)===0||Ve){var e=yi;yi<<=1,(yi&3932160)===0&&(yi=262144),bn=e}else bn=536870912;return e=pn.current,e!==null&&(e.flags|=32),bn}function on(e,n,i){(e===Ze&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(Wi(e,0),ha(e,Re,bn,!1)),Ln(e,i),((Ie&2)===0||e!==Ze)&&(e===Ze&&((Ie&2)===0&&(Za|=i),yt===4&&ha(e,Re,bn,!1)),os(e))}function cp(e,n,i){if((Ie&6)!==0)throw Error(r(327));var l=!i&&(n&127)===0&&(n&e.expiredLanes)===0||qs(e,n),d=l?FS(e,n):Jd(e,n,!0),f=l;do{if(d===0){Ji&&!l&&ha(e,n,0,!1);break}else{if(i=e.current.alternate,f&&!HS(i)){d=Jd(e,n,!1),f=!1;continue}if(d===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var S=e;d=Sl;var C=S.current.memoizedState.isDehydrated;if(C&&(Wi(S,v).flags|=256),v=Jd(S,v,!1),v!==2){if(Id&&!C){S.errorRecoveryDisabledLanes|=f,Za|=f,d=4;break e}f=ln,ln=d,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){Wi(e,0),ha(e,n,0,!0);break}e:{switch(l=e,f=d,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ha(l,n,bn,!oa);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(d=sc+300-Zt(),10<d)){if(ha(l,n,bn,!oa),ka(l,0,!0)!==0)break e;Ms=n,l.timeoutHandle=$p(up.bind(null,l,i,ln,ic,qd,n,bn,Za,Zi,oa,f,"Throttled",-0,0),d);break e}up(l,i,ln,ic,qd,n,bn,Za,Zi,oa,f,null,-0,0)}}break}while(!0);os(e)}function up(e,n,i,l,d,f,v,S,C,P,Y,Z,I,F){if(e.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:In},np(n,f,Z);var oe=(f&62914560)===f?sc-Zt():(f&4194048)===f?rp-Zt():0;if(oe=j_(Z,oe),oe!==null){Ms=f,e.cancelPendingCommit=oe(vp.bind(null,e,n,f,i,l,d,v,S,C,Y,Z,null,I,F)),ha(e,f,v,!P);return}}vp(e,n,f,i,l,d,v,S,C)}function HS(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var d=i[l],f=d.getSnapshot;d=d.value;try{if(!mn(f(),d))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ha(e,n,i,l){n&=~Fd,n&=~Za,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var d=n;0<d;){var f=31-Mt(d),v=1<<f;l[f]=-1,d&=~v}i!==0&&xi(e,i,n)}function rc(){return(Ie&6)===0?(Tl(0),!1):!0}function Xd(){if(Oe!==null){if(Ge===0)var e=Oe.return;else e=Oe,_s=Ha=null,dd(e),Ii=null,rl=0,e=Oe;for(;e!==null;)Pg(e.alternate,e),e=e.return;Oe=null}}function Wi(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,o_(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Ms=0,Xd(),Ze=e,Oe=i=ws(e.current,null),Re=n,Ge=0,vn=null,oa=!1,Ji=qs(e,n),Id=!1,Zi=bn=Fd=Za=ca=yt=0,ln=Sl=null,qd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var d=31-Mt(l),f=1<<d;n|=e[d],l&=~f}return Rs=n,ko(),i}function dp(e,n){Te=null,q.H=ml,n===Hi||n===Uo?(n=km(),Ge=3):n===Wu?(n=km(),Ge=4):Ge=n===kd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Oe===null&&(yt=1,Xo(e,Tn(n,e.current)))}function hp(){var e=pn.current;return e===null?!0:(Re&4194048)===Re?An===null:(Re&62914560)===Re||(Re&536870912)!==0?e===An:!1}function fp(){var e=q.H;return q.H=ml,e===null?ml:e}function mp(){var e=q.A;return q.A=$S,e}function lc(){yt=4,oa||(Re&4194048)!==Re&&pn.current!==null||(Ji=!0),(ca&134217727)===0&&(Za&134217727)===0||Ze===null||ha(Ze,Re,bn,!1)}function Jd(e,n,i){var l=Ie;Ie|=2;var d=fp(),f=mp();(Ze!==e||Re!==n)&&(ic=null,Wi(e,n)),n=!1;var v=yt;e:do try{if(Ge!==0&&Oe!==null){var S=Oe,C=vn;switch(Ge){case 8:Xd(),v=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var P=Ge;if(Ge=0,vn=null,er(e,S,C,P),i&&Ji){v=0;break e}break;default:P=Ge,Ge=0,vn=null,er(e,S,C,P)}}IS(),v=yt;break}catch(Y){dp(e,Y)}while(!0);return n&&e.shellSuspendCounter++,_s=Ha=null,Ie=l,q.H=d,q.A=f,Oe===null&&(Ze=null,Re=0,ko()),v}function IS(){for(;Oe!==null;)gp(Oe)}function FS(e,n){var i=Ie;Ie|=2;var l=fp(),d=mp();Ze!==e||Re!==n?(ic=null,ac=Zt()+500,Wi(e,n)):Ji=qs(e,n);e:do try{if(Ge!==0&&Oe!==null){n=Oe;var f=vn;t:switch(Ge){case 1:Ge=0,vn=null,er(e,n,f,1);break;case 2:case 9:if(Em(f)){Ge=0,vn=null,pp(n);break}n=function(){Ge!==2&&Ge!==9||Ze!==e||(Ge=7),os(e)},f.then(n,n);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Em(f)?(Ge=0,vn=null,pp(n)):(Ge=0,vn=null,er(e,n,f,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var S=Oe;if(v?ty(v):S.stateNode.complete){Ge=0,vn=null;var C=S.sibling;if(C!==null)Oe=C;else{var P=S.return;P!==null?(Oe=P,oc(P)):Oe=null}break t}}Ge=0,vn=null,er(e,n,f,5);break;case 6:Ge=0,vn=null,er(e,n,f,6);break;case 8:Xd(),yt=6;break e;default:throw Error(r(462))}}qS();break}catch(Y){dp(e,Y)}while(!0);return _s=Ha=null,q.H=l,q.A=d,Ie=i,Oe!==null?0:(Ze=null,Re=0,ko(),yt)}function qS(){for(;Oe!==null&&!_t();)gp(Oe)}function gp(e){var n=Vg(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,n===null?oc(e):Oe=n}function pp(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Rg(i,n,n.pendingProps,n.type,void 0,Re);break;case 11:n=Rg(i,n,n.pendingProps,n.type.render,n.ref,Re);break;case 5:dd(n);default:Pg(i,n),n=Oe=mm(n,Rs),n=Vg(i,n,Rs)}e.memoizedProps=e.pendingProps,n===null?oc(e):Oe=n}function er(e,n,i,l){_s=Ha=null,dd(n),Ii=null,rl=0;var d=n.return;try{if(RS(e,d,n,i,Re)){yt=1,Xo(e,Tn(i,e.current)),Oe=null;return}}catch(f){if(d!==null)throw Oe=d,f;yt=1,Xo(e,Tn(i,e.current)),Oe=null;return}n.flags&32768?(Ve||l===1?e=!0:Ji||(Re&536870912)!==0?e=!1:(oa=e=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yp(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){yp(n,oa);return}e=n.return;var i=zS(n.alternate,n,Rs);if(i!==null){Oe=i;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=e}while(n!==null);yt===0&&(yt=5)}function yp(e,n){do{var i=LS(e.alternate,e);if(i!==null){i.flags&=32767,Oe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=i}while(e!==null);yt=6,Oe=null}function vp(e,n,i,l,d,f,v,S,C){e.cancelPendingCommit=null;do cc();while(Dt!==0);if((Ie&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Bu,bi(e,i,f,v,S,C),e===Ze&&(Oe=Ze=null,Re=0),Qi=n,da=e,Ms=i,Gd=f,Kd=d,lp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,XS(pi,function(){return _p(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,d=G.p,G.p=2,v=Ie,Ie|=4;try{BS(e,n,i)}finally{Ie=v,G.p=d,q.T=l}}Dt=1,bp(),xp(),wp()}}function bp(){if(Dt===1){Dt=0;var e=da,n=Qi,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=q.T,q.T=null;var l=G.p;G.p=2;var d=Ie;Ie|=4;try{Wg(n,e);var f=oh,v=im(e.containerInfo),S=f.focusedElem,C=f.selectionRange;if(v!==S&&S&&S.ownerDocument&&am(S.ownerDocument.documentElement,S)){if(C!==null&&Ru(S)){var P=C.start,Y=C.end;if(Y===void 0&&(Y=P),"selectionStart"in S)S.selectionStart=P,S.selectionEnd=Math.min(Y,S.value.length);else{var Z=S.ownerDocument||document,I=Z&&Z.defaultView||window;if(I.getSelection){var F=I.getSelection(),oe=S.textContent.length,ye=Math.min(C.start,oe),Je=C.end===void 0?ye:Math.min(C.end,oe);!F.extend&&ye>Je&&(v=Je,Je=ye,ye=v);var L=sm(S,ye),D=sm(S,Je);if(L&&D&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var $=Z.createRange();$.setStart(L.node,L.offset),F.removeAllRanges(),ye>Je?(F.addRange($),F.extend(D.node,D.offset)):($.setEnd(D.node,D.offset),F.addRange($))}}}}for(Z=[],F=S;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var X=Z[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}wc=!!lh,oh=lh=null}finally{Ie=d,G.p=l,q.T=i}}e.current=n,Dt=2}}function xp(){if(Dt===2){Dt=0;var e=da,n=Qi,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=q.T,q.T=null;var l=G.p;G.p=2;var d=Ie;Ie|=4;try{Yg(e,n.alternate,n)}finally{Ie=d,G.p=l,q.T=i}}Dt=3}}function wp(){if(Dt===4||Dt===3){Dt=0,gi();var e=da,n=Qi,i=Ms,l=lp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,Qi=da=null,Sp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(ua=null),Bn(i),n=n.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(ct,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,d=G.p,G.p=2,q.T=null;try{for(var f=e.onRecoverableError,v=0;v<l.length;v++){var S=l[v];f(S.value,{componentStack:S.stack})}}finally{q.T=n,G.p=d}}(Ms&3)!==0&&cc(),os(e),d=e.pendingLanes,(i&261930)!==0&&(d&42)!==0?e===Yd?_l++:(_l=0,Yd=e):_l=0,Tl(0)}}function Sp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,al(n)))}function cc(){return bp(),xp(),wp(),_p()}function _p(){if(Dt!==5)return!1;var e=da,n=Gd;Gd=0;var i=Bn(Ms),l=q.T,d=G.p;try{G.p=32>i?32:i,q.T=null,i=Kd,Kd=null;var f=da,v=Ms;if(Dt=0,Qi=da=null,Ms=0,(Ie&6)!==0)throw Error(r(331));var S=Ie;if(Ie|=4,ap(f.current),tp(f,f.current,v,i),Ie=S,Tl(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(ct,f)}catch{}return!0}finally{G.p=d,q.T=l,Sp(e,n)}}function Tp(e,n,i){n=Tn(i,n),n=jd(e.stateNode,n,2),e=aa(e,n,2),e!==null&&(Ln(e,2),os(e))}function Ke(e,n,i){if(e.tag===3)Tp(e,e,i);else for(;n!==null;){if(n.tag===3){Tp(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ua===null||!ua.has(l))){e=Tn(i,e),i=Eg(2),l=aa(n,i,2),l!==null&&(jg(i,l,n,e),Ln(l,2),os(l));break}}n=n.return}}function Zd(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new PS;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(i)||(Id=!0,d.add(i),e=GS.bind(null,e,n,i),n.then(e,e))}function GS(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ze===e&&(Re&i)===i&&(yt===4||yt===3&&(Re&62914560)===Re&&300>Zt()-sc?(Ie&2)===0&&Wi(e,0):Fd|=i,Zi===Re&&(Zi=0)),os(e)}function Ep(e,n){n===0&&(n=po()),e=Va(e,n),e!==null&&(Ln(e,n),os(e))}function KS(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Ep(e,i)}function YS(e,n){var i=0;switch(e.tag){case 31:case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Ep(e,i)}function XS(e,n){return Dr(e,n)}var uc=null,tr=null,Qd=!1,dc=!1,Wd=!1,fa=0;function os(e){e!==tr&&e.next===null&&(tr===null?uc=tr=e:tr=tr.next=e),dc=!0,Qd||(Qd=!0,ZS())}function Tl(e,n){if(!Wd&&dc){Wd=!0;do for(var i=!1,l=uc;l!==null;){if(e!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-Mt(42|e)+1)-1,f&=d&~(v&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Cp(l,f))}else f=Re,f=ka(l,l===Ze?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||qs(l,f)||(i=!0,Cp(l,f));l=l.next}while(i);Wd=!1}}function JS(){jp()}function jp(){dc=Qd=!1;var e=0;fa!==0&&l_()&&(e=fa);for(var n=Zt(),i=null,l=uc;l!==null;){var d=l.next,f=kp(l,n);f===0?(l.next=null,i===null?uc=d:i.next=d,d===null&&(tr=i)):(i=l,(e!==0||(f&3)!==0)&&(dc=!0)),l=d}Dt!==0&&Dt!==5||Tl(e),fa!==0&&(fa=0)}function kp(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Mt(f),S=1<<v,C=d[v];C===-1?((S&i)===0||(S&l)!==0)&&(d[v]=zn(S,n)):C<=n&&(e.expiredLanes|=S),f&=~S}if(n=Ze,i=Re,i=ka(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===n&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Is(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||qs(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(l!==null&&Is(l),Bn(i)){case 2:case 8:i=Rr;break;case 32:i=pi;break;case 268435456:i=Qt;break;default:i=pi}return l=Ap.bind(null,e),i=Dr(i,l),e.callbackPriority=n,e.callbackNode=i,n}return l!==null&&l!==null&&Is(l),e.callbackPriority=2,e.callbackNode=null,2}function Ap(e,n){if(Dt!==0&&Dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(cc()&&e.callbackNode!==i)return null;var l=Re;return l=ka(e,e===Ze?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(cp(e,l,n),kp(e,Zt()),e.callbackNode!=null&&e.callbackNode===i?Ap.bind(null,e):null)}function Cp(e,n){if(cc())return null;cp(e,n,!0)}function ZS(){c_(function(){(Ie&6)!==0?Dr(mo,JS):jp()})}function eh(){if(fa===0){var e=$i;e===0&&(e=Mn,Mn<<=1,(Mn&261888)===0&&(Mn=256)),fa=e}return fa}function Np(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ys(""+e)}function Op(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function QS(e,n,i,l,d){if(n==="submit"&&i&&i.stateNode===d){var f=Np((d[Lt]||null).action),v=l.submitter;v&&(n=(n=v[Lt]||null)?Np(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var S=new z("action","action",null,l,d);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fa!==0){var C=v?Op(d,v):new FormData(d);xd(i,{pending:!0,data:C,method:d.method,action:f},null,C)}}else typeof f=="function"&&(S.preventDefault(),C=v?Op(d,v):new FormData(d),xd(i,{pending:!0,data:C,method:d.method,action:f},f,C))},currentTarget:d}]})}}for(var th=0;th<Lu.length;th++){var nh=Lu[th],WS=nh.toLowerCase(),e_=nh[0].toUpperCase()+nh.slice(1);Gn(WS,"on"+e_)}Gn(om,"onAnimationEnd"),Gn(cm,"onAnimationIteration"),Gn(um,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(pS,"onTransitionRun"),Gn(yS,"onTransitionStart"),Gn(vS,"onTransitionCancel"),Gn(dm,"onTransitionEnd"),Ks("onMouseEnter",["mouseout","mouseover"]),Ks("onMouseLeave",["mouseout","mouseover"]),Ks("onPointerEnter",["pointerout","pointerover"]),Ks("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Dp(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],d=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var S=l[v],C=S.instance,P=S.currentTarget;if(S=S.listener,C!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=P;try{f(d)}catch(Y){jo(Y)}d.currentTarget=null,f=C}else for(v=0;v<l.length;v++){if(S=l[v],C=S.instance,P=S.currentTarget,S=S.listener,C!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=P;try{f(d)}catch(Y){jo(Y)}d.currentTarget=null,f=C}}}}function De(e,n){var i=n[Si];i===void 0&&(i=n[Si]=new Set);var l=e+"__bubble";i.has(l)||(Rp(n,e,2,!1),i.add(l))}function sh(e,n,i){var l=0;n&&(l|=4),Rp(i,e,l,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ah(e){if(!e[hc]){e[hc]=!0,bo.forEach(function(i){i!=="selectionchange"&&(t_.has(i)||sh(i,!1,e),sh(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,sh("selectionchange",!1,n))}}function Rp(e,n,i,l){switch(oy(n)){case 2:var d=C_;break;case 8:d=N_;break;default:d=bh}i=d.bind(null,n,i,e),d=void 0,!Ci||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function ih(e,n,i,l,d){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=Na(S),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=f=v;continue e}S=S.parentNode}}l=l.return}_o(function(){var P=f,Y=Kr(i),Z=[];e:{var I=hm.get(e);if(I!==void 0){var F=z,oe=e;switch(e){case"keypress":if(x(i)===0)break e;case"keydown":case"keyup":F=Yw;break;case"focusin":oe="focus",F=bs;break;case"focusout":oe="blur",F=bs;break;case"beforeblur":case"afterblur":F=bs;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=re;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=mt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Zw;break;case om:case cm:case um:F=gt;break;case dm:F=Ww;break;case"scroll":case"scrollend":F=he;break;case"wheel":F=tS;break;case"copy":case"cut":case"paste":F=Jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=I0;break;case"toggle":case"beforetoggle":F=sS}var ye=(n&4)!==0,Je=!ye&&(e==="scroll"||e==="scrollend"),L=ye?I!==null?I+"Capture":null:I;ye=[];for(var D=P,$;D!==null;){var X=D;if($=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||$===null||L===null||(X=Js(D,L),X!=null&&ye.push(jl(D,X,$))),Je)break;D=D.return}0<ye.length&&(I=new F(I,oe,null,i,Y),Z.push({event:I,listeners:ye}))}}if((n&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",I&&i!==ji&&(oe=i.relatedTarget||i.fromElement)&&(Na(oe)||oe[Wt]))break e;if((F||I)&&(I=Y.window===Y?Y:(I=Y.ownerDocument)?I.defaultView||I.parentWindow:window,F?(oe=i.relatedTarget||i.toElement,F=P,oe=oe?Na(oe):null,oe!==null&&(Je=c(oe),ye=oe.tag,oe!==Je||ye!==5&&ye!==27&&ye!==6)&&(oe=null)):(F=null,oe=P),F!==oe)){if(ye=re,X="onMouseLeave",L="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ye=I0,X="onPointerLeave",L="onPointerEnter",D="pointer"),Je=F==null?I:Da(F),$=oe==null?I:Da(oe),I=new ye(X,D+"leave",F,i,Y),I.target=Je,I.relatedTarget=$,X=null,Na(Y)===P&&(ye=new ye(L,D+"enter",oe,i,Y),ye.target=$,ye.relatedTarget=Je,X=ye),Je=X,F&&oe)t:{for(ye=n_,L=F,D=oe,$=0,X=L;X;X=ye(X))$++;X=0;for(var pe=D;pe;pe=ye(pe))X++;for(;0<$-X;)L=ye(L),$--;for(;0<X-$;)D=ye(D),X--;for(;$--;){if(L===D||D!==null&&L===D.alternate){ye=L;break t}L=ye(L),D=ye(D)}ye=null}else ye=null;F!==null&&Mp(Z,I,F,ye,!1),oe!==null&&Je!==null&&Mp(Z,Je,oe,ye,!0)}}e:{if(I=P?Da(P):window,F=I.nodeName&&I.nodeName.toLowerCase(),F==="select"||F==="input"&&I.type==="file")var Pe=Z0;else if(X0(I))if(Q0)Pe=fS;else{Pe=dS;var fe=uS}else F=I.nodeName,!F||F.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?P&&qr(P.elementType)&&(Pe=Z0):Pe=hS;if(Pe&&(Pe=Pe(e,P))){J0(Z,Pe,i,Y);break e}fe&&fe(e,I,P),e==="focusout"&&P&&I.type==="number"&&P.memoizedProps.value!=null&&Ua(I,"number",I.value)}switch(fe=P?Da(P):window,e){case"focusin":(X0(fe)||fe.contentEditable==="true")&&(Di=fe,Mu=P,tl=null);break;case"focusout":tl=Mu=Di=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,rm(Z,i,Y);break;case"selectionchange":if(gS)break;case"keydown":case"keyup":rm(Z,i,Y)}var Ee;if(Nu)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Oi?K0(e,i)&&(Me="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Me="onCompositionStart");Me&&(F0&&i.locale!=="ko"&&(Oi||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Oi&&(Ee=Xr()):(qn=Y,Yr="value"in qn?qn.value:qn.textContent,Oi=!0)),fe=fc(P,Me),0<fe.length&&(Me=new To(Me,e,null,i,Y),Z.push({event:Me,listeners:fe}),Ee?Me.data=Ee:(Ee=Y0(i),Ee!==null&&(Me.data=Ee)))),(Ee=iS?rS(e,i):lS(e,i))&&(Me=fc(P,"onBeforeInput"),0<Me.length&&(fe=new To("onBeforeInput","beforeinput",null,i,Y),Z.push({event:fe,listeners:Me}),fe.data=Ee)),QS(Z,e,P,i,Y)}Dp(Z,n)})}function jl(e,n,i){return{instance:e,listener:n,currentTarget:i}}function fc(e,n){for(var i=n+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Js(e,i),d!=null&&l.unshift(jl(e,d,f)),d=Js(e,n),d!=null&&l.push(jl(e,d,f))),e.tag===3)return l;e=e.return}return[]}function n_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mp(e,n,i,l,d){for(var f=n._reactName,v=[];i!==null&&i!==l;){var S=i,C=S.alternate,P=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||P===null||(C=P,d?(P=Js(i,f),P!=null&&v.unshift(jl(i,P,C))):d||(P=Js(i,f),P!=null&&v.push(jl(i,P,C)))),i=i.return}v.length!==0&&e.push({event:n,listeners:v})}var s_=/\r\n?/g,a_=/\u0000|\uFFFD/g;function Up(e){return(typeof e=="string"?e:""+e).replace(s_,`
`).replace(a_,"")}function zp(e,n){return n=Up(n),Up(e)===n}function Xe(e,n,i,l,d,f){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||vs(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&vs(e,""+l);break;case"className":$n(e,"class",l);break;case"tabIndex":$n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(e,i,l);break;case"style":Ei(e,l,f);break;case"data":if(n!=="object"){$n(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Ys(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(n!=="input"&&Xe(e,n,"name",d.name,d,null),Xe(e,n,"formEncType",d.formEncType,d,null),Xe(e,n,"formMethod",d.formMethod,d,null),Xe(e,n,"formTarget",d.formTarget,d,null)):(Xe(e,n,"encType",d.encType,d,null),Xe(e,n,"method",d.method,d,null),Xe(e,n,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Ys(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=In);break;case"onScroll":l!=null&&De("scroll",e);break;case"onScrollEnd":l!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(d.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=Ys(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":De("beforetoggle",e),De("toggle",e),Ma(e,"popover",l);break;case"xlinkActuate":Pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ma(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Gr.get(i)||i,Ma(e,i,l))}}function rh(e,n,i,l,d,f){switch(i){case"style":Ei(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(d.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof l=="string"?vs(e,l):(typeof l=="number"||typeof l=="bigint")&&vs(e,""+l);break;case"onScroll":l!=null&&De("scroll",e);break;case"onScrollEnd":l!=null&&De("scrollend",e);break;case"onClick":l!=null&&(e.onclick=In);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),n=i.slice(2,d?i.length-7:void 0),f=e[Lt]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(n,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,l,d);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):Ma(e,i,l)}}}function Ht(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var l=!1,d=!1,f;for(f in i)if(i.hasOwnProperty(f)){var v=i[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xe(e,n,f,v,i,null)}}d&&Xe(e,n,"srcSet",i.srcSet,i,null),l&&Xe(e,n,"src",i.src,i,null);return;case"input":De("invalid",e);var S=f=v=d=null,C=null,P=null;for(l in i)if(i.hasOwnProperty(l)){var Y=i[l];if(Y!=null)switch(l){case"name":d=Y;break;case"type":v=Y;break;case"checked":C=Y;break;case"defaultChecked":P=Y;break;case"value":f=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Xe(e,n,l,Y,i,null)}}So(e,f,S,C,P,v,d,!1);return;case"select":De("invalid",e),l=v=f=null;for(d in i)if(i.hasOwnProperty(d)&&(S=i[d],S!=null))switch(d){case"value":f=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:Xe(e,n,d,S,i,null)}n=f,i=v,e.multiple=!!l,n!=null?ss(e,!!l,n,!1):i!=null&&ss(e,!!l,i,!0);return;case"textarea":De("invalid",e),f=d=l=null;for(v in i)if(i.hasOwnProperty(v)&&(S=i[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":d=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Xe(e,n,v,S,i,null)}Ir(e,l,d,f);return;case"option":for(C in i)if(i.hasOwnProperty(C)&&(l=i[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(e,n,C,l,i,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(l=0;l<El.length;l++)De(El[l],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in i)if(i.hasOwnProperty(P)&&(l=i[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xe(e,n,P,l,i,null)}return;default:if(qr(n)){for(Y in i)i.hasOwnProperty(Y)&&(l=i[Y],l!==void 0&&rh(e,n,Y,l,i,void 0));return}}for(S in i)i.hasOwnProperty(S)&&(l=i[S],l!=null&&Xe(e,n,S,l,i,null))}function i_(e,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,S=null,C=null,P=null,Y=null;for(F in i){var Z=i[F];if(i.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(F)||Xe(e,n,F,null,l,Z)}}for(var I in l){var F=l[I];if(Z=i[I],l.hasOwnProperty(I)&&(F!=null||Z!=null))switch(I){case"type":f=F;break;case"name":d=F;break;case"checked":P=F;break;case"defaultChecked":Y=F;break;case"value":v=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==Z&&Xe(e,n,I,F,l,Z)}}Pr(e,v,S,C,P,Y,f,d);return;case"select":F=v=S=I=null;for(f in i)if(C=i[f],i.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(f)||Xe(e,n,f,null,l,C)}for(d in l)if(f=l[d],C=i[d],l.hasOwnProperty(d)&&(f!=null||C!=null))switch(d){case"value":I=f;break;case"defaultValue":S=f;break;case"multiple":v=f;default:f!==C&&Xe(e,n,d,f,l,C)}n=S,i=v,l=F,I!=null?ss(e,!!i,I,!1):!!l!=!!i&&(n!=null?ss(e,!!i,n,!0):ss(e,!!i,i?[]:"",!1));return;case"textarea":F=I=null;for(S in i)if(d=i[S],i.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Xe(e,n,S,null,l,d)}for(v in l)if(d=l[v],f=i[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":I=d;break;case"defaultValue":F=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==f&&Xe(e,n,v,d,l,f)}Hr(e,I,F);return;case"option":for(var oe in i)if(I=i[oe],i.hasOwnProperty(oe)&&I!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:Xe(e,n,oe,null,l,I)}for(C in l)if(I=l[C],F=i[C],l.hasOwnProperty(C)&&I!==F&&(I!=null||F!=null))switch(C){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Xe(e,n,C,I,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in i)I=i[ye],i.hasOwnProperty(ye)&&I!=null&&!l.hasOwnProperty(ye)&&Xe(e,n,ye,null,l,I);for(P in l)if(I=l[P],F=i[P],l.hasOwnProperty(P)&&I!==F&&(I!=null||F!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,n));break;default:Xe(e,n,P,I,l,F)}return;default:if(qr(n)){for(var Je in i)I=i[Je],i.hasOwnProperty(Je)&&I!==void 0&&!l.hasOwnProperty(Je)&&rh(e,n,Je,void 0,l,I);for(Y in l)I=l[Y],F=i[Y],!l.hasOwnProperty(Y)||I===F||I===void 0&&F===void 0||rh(e,n,Y,I,l,F);return}}for(var L in i)I=i[L],i.hasOwnProperty(L)&&I!=null&&!l.hasOwnProperty(L)&&Xe(e,n,L,null,l,I);for(Z in l)I=l[Z],F=i[Z],!l.hasOwnProperty(Z)||I===F||I==null&&F==null||Xe(e,n,Z,I,l,F)}function Lp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function r_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var d=i[l],f=d.transferSize,v=d.initiatorType,S=d.duration;if(f&&S&&Lp(v)){for(v=0,S=d.responseEnd,l+=1;l<i.length;l++){var C=i[l],P=C.startTime;if(P>S)break;var Y=C.transferSize,Z=C.initiatorType;Y&&Lp(Z)&&(C=C.responseEnd,v+=Y*(C<S?1:(S-P)/(C-P)))}if(--l,n+=8*(f+v)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lh=null,oh=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function Bp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ch(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uh=null;function l_(){var e=window.event;return e&&e.type==="popstate"?e===uh?!1:(uh=e,!0):(uh=null,!1)}var $p=typeof setTimeout=="function"?setTimeout:void 0,o_=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,c_=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(e){return Pp.resolve(null).then(e).catch(u_)}:$p;function u_(e){setTimeout(function(){throw e})}function ma(e){return e==="head"}function Hp(e,n){var i=n,l=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"||i==="/&"){if(l===0){e.removeChild(d),ir(n);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")kl(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,kl(i);for(var f=i.firstChild;f;){var v=f.nextSibling,S=f.nodeName;f[Gs]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=v}}else i==="body"&&kl(e.ownerDocument.body);i=d}while(i);ir(n)}function Ip(e,n){var i=e;e=0;do{var l=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=l}while(i)}function dh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":dh(i),vo(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function d_(e,n,i,l){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Gs])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Cn(e.nextSibling),e===null)break}return null}function h_(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Cn(e.nextSibling),e===null))return null;return e}function Fp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Cn(e.nextSibling),e===null))return null;return e}function hh(e){return e.data==="$?"||e.data==="$~"}function fh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function f_(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Cn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var mh=null;function qp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Cn(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function Gp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Kp(e,n,i){switch(n=mc(i),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function kl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);vo(e)}var Nn=new Map,Yp=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Us=G.d;G.d={f:m_,r:g_,D:p_,C:y_,L:v_,m:b_,X:w_,S:x_,M:S_};function m_(){var e=Us.f(),n=rc();return e||n}function g_(e){var n=Oa(e);n!==null&&n.tag===5&&n.type==="form"?dg(n):Us.r(e)}var nr=typeof document>"u"?null:document;function Xp(e,n,i){var l=nr;if(l&&typeof n=="string"&&n){var d=Bt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),Yp.has(d)||(Yp.add(d),e={rel:e,crossOrigin:i,href:n},l.querySelector(d)===null&&(n=l.createElement("link"),Ht(n,"link",e),_e(n),l.head.appendChild(n)))}}function p_(e){Us.D(e),Xp("dns-prefetch",e,null)}function y_(e,n){Us.C(e,n),Xp("preconnect",e,n)}function v_(e,n,i){Us.L(e,n,i);var l=nr;if(l&&e&&n){var d='link[rel="preload"][as="'+Bt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+Bt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+Bt(i.imageSizes)+'"]')):d+='[href="'+Bt(e)+'"]';var f=d;switch(n){case"style":f=sr(e);break;case"script":f=ar(e)}Nn.has(f)||(e=b({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Nn.set(f,e),l.querySelector(d)!==null||n==="style"&&l.querySelector(Al(f))||n==="script"&&l.querySelector(Cl(f))||(n=l.createElement("link"),Ht(n,"link",e),_e(n),l.head.appendChild(n)))}}function b_(e,n){Us.m(e,n);var i=nr;if(i&&e){var l=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Bt(l)+'"][href="'+Bt(e)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ar(e)}if(!Nn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Nn.set(f,e),i.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Cl(f)))return}l=i.createElement("link"),Ht(l,"link",e),_e(l),i.head.appendChild(l)}}}function x_(e,n,i){Us.S(e,n,i);var l=nr;if(l&&e){var d=Gt(l).hoistableStyles,f=sr(e);n=n||"default";var v=d.get(f);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Al(f)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Nn.get(f))&&gh(e,i);var C=v=l.createElement("link");_e(C),Ht(C,"link",e),C._p=new Promise(function(P,Y){C.onload=P,C.onerror=Y}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,pc(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(f,v)}}}function w_(e,n){Us.X(e,n);var i=nr;if(i&&e){var l=Gt(i).hoistableScripts,d=ar(e),f=l.get(d);f||(f=i.querySelector(Cl(d)),f||(e=b({src:e,async:!0},n),(n=Nn.get(d))&&ph(e,n),f=i.createElement("script"),_e(f),Ht(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function S_(e,n){Us.M(e,n);var i=nr;if(i&&e){var l=Gt(i).hoistableScripts,d=ar(e),f=l.get(d);f||(f=i.querySelector(Cl(d)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Nn.get(d))&&ph(e,n),f=i.createElement("script"),_e(f),Ht(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Jp(e,n,i,l){var d=(d=Ae.current)?gc(d):null;if(!d)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=sr(i.href),i=Gt(d).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=sr(i.href);var f=Gt(d).hoistableStyles,v=f.get(e);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=d.querySelector(Al(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Nn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Nn.set(e,i),f||__(d,e,i,v.state))),n&&l===null)throw Error(r(528,""));return v}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ar(i),i=Gt(d).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function sr(e){return'href="'+Bt(e)+'"'}function Al(e){return'link[rel="stylesheet"]['+e+"]"}function Zp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function __(e,n,i,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ht(n,"link",i),_e(n),e.head.appendChild(n))}function ar(e){return'[src="'+Bt(e)+'"]'}function Cl(e){return"script[async]"+e}function Qp(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Bt(i.href)+'"]');if(l)return n.instance=l,_e(l),l;var d=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),_e(l),Ht(l,"style",d),pc(l,i.precedence,e),n.instance=l;case"stylesheet":d=sr(i.href);var f=e.querySelector(Al(d));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=Zp(i),(d=Nn.get(d))&&gh(l,d),f=(e.ownerDocument||e).createElement("link"),_e(f);var v=f;return v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),Ht(f,"link",l),n.state.loading|=4,pc(f,i.precedence,e),n.instance=f;case"script":return f=ar(i.src),(d=e.querySelector(Cl(f)))?(n.instance=d,_e(d),d):(l=i,(d=Nn.get(f))&&(l=b({},i),ph(l,d)),e=e.ownerDocument||e,d=e.createElement("script"),_e(d),Ht(d,"link",l),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,pc(l,i.precedence,e));return n.instance}function pc(e,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===n)f=S;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function gh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ph(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function Wp(e,n,i){if(yc===null){var l=new Map,d=yc=new Map;d.set(i,l)}else d=yc,l=d.get(i),l||(l=new Map,d.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var f=i[d];if(!(f[Gs]||f[xt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var S=l.get(v);S?S.push(f):l.set(v,[f])}}return l}function ey(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function T_(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ty(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function E_(e,n,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=sr(l.href),f=n.querySelector(Al(d));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=f,_e(f);return}f=n.ownerDocument||n,l=Zp(l),(d=Nn.get(d))&&gh(l,d),f=f.createElement("link"),_e(f);var v=f;v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),Ht(f,"link",l),i.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=vc.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var yh=0;function j_(e,n){return e.stylesheets&&e.count===0&&xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var l=setTimeout(function(){if(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&yh===0&&(yh=62500*r_());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>yh?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bc=null;function xc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bc=new Map,n.forEach(k_,e),bc=null,vc.call(e))}function k_(e,n){if(!(n.state.loading&4)){var i=bc.get(e);if(i)var l=i.get(null);else{i=new Map,bc.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),l=v)}l&&i.set(null,l)}d=n.instance,v=d.getAttribute("data-precedence"),f=i.get(v)||l,f===l&&i.set(null,d),i.set(v,d),this.count++,l=vc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Nl={$$typeof:M,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function A_(e,n,i,l,d,f,v,S,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function ny(e,n,i,l,d,f,v,S,C,P,Y,Z){return e=new A_(e,n,i,v,C,P,Y,Z,S),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Ju(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:i,cache:n},ed(f),e}function sy(e){return e?(e=Ui,e):Ui}function ay(e,n,i,l,d,f){d=sy(d),l.context===null?l.context=d:l.pendingContext=d,l=sa(n),l.payload={element:i},f=f===void 0?null:f,f!==null&&(l.callback=f),i=aa(e,l,n),i!==null&&(on(i,e,n),ol(i,e,n))}function iy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function vh(e,n){iy(e,n),(e=e.alternate)&&iy(e,n)}function ry(e){if(e.tag===13||e.tag===31){var n=Va(e,67108864);n!==null&&on(n,e,67108864),vh(e,67108864)}}function ly(e){if(e.tag===13||e.tag===31){var n=xn();n=Ca(n);var i=Va(e,n);i!==null&&on(i,e,n),vh(e,n)}}var wc=!0;function C_(e,n,i,l){var d=q.T;q.T=null;var f=G.p;try{G.p=2,bh(e,n,i,l)}finally{G.p=f,q.T=d}}function N_(e,n,i,l){var d=q.T;q.T=null;var f=G.p;try{G.p=8,bh(e,n,i,l)}finally{G.p=f,q.T=d}}function bh(e,n,i,l){if(wc){var d=xh(l);if(d===null)ih(e,n,l,Sc,i),cy(e,l);else if(D_(d,e,n,i,l))l.stopPropagation();else if(cy(e,l),n&4&&-1<O_.indexOf(e)){for(;d!==null;){var f=Oa(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Un(f.pendingLanes);if(v!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var C=1<<31-Mt(v);S.entanglements[1]|=C,v&=~C}os(f),(Ie&6)===0&&(ac=Zt()+500,Tl(0))}}break;case 31:case 13:S=Va(f,2),S!==null&&on(S,f,2),rc(),vh(f,2)}if(f=xh(l),f===null&&ih(e,n,l,Sc,i),f===d)break;d=f}d!==null&&l.stopPropagation()}else ih(e,n,l,null,i)}}function xh(e){return e=Kr(e),wh(e)}var Sc=null;function wh(e){if(Sc=null,e=Na(e),e!==null){var n=c(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=u(n),e!==null)return e;e=null}else if(i===31){if(e=m(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function oy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fo()){case mo:return 2;case Rr:return 8;case pi:case Eu:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var Sh=!1,ga=null,pa=null,ya=null,Ol=new Map,Dl=new Map,va=[],O_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cy(e,n){switch(e){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":Ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(n.pointerId)}}function Rl(e,n,i,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},n!==null&&(n=Oa(n),n!==null&&ry(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function D_(e,n,i,l,d){switch(n){case"focusin":return ga=Rl(ga,e,n,i,l,d),!0;case"dragenter":return pa=Rl(pa,e,n,i,l,d),!0;case"mouseover":return ya=Rl(ya,e,n,i,l,d),!0;case"pointerover":var f=d.pointerId;return Ol.set(f,Rl(Ol.get(f)||null,e,n,i,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Dl.set(f,Rl(Dl.get(f)||null,e,n,i,l,d)),!0}return!1}function uy(e){var n=Na(e.target);if(n!==null){var i=c(n);if(i!==null){if(n=i.tag,n===13){if(n=u(i),n!==null){e.blockedOn=n,wi(e.priority,function(){ly(i)});return}}else if(n===31){if(n=m(i),n!==null){e.blockedOn=n,wi(e.priority,function(){ly(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=xh(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);ji=l,i.target.dispatchEvent(l),ji=null}else return n=Oa(i),n!==null&&ry(n),e.blockedOn=i,!1;n.shift()}return!0}function dy(e,n,i){_c(e)&&i.delete(n)}function R_(){Sh=!1,ga!==null&&_c(ga)&&(ga=null),pa!==null&&_c(pa)&&(pa=null),ya!==null&&_c(ya)&&(ya=null),Ol.forEach(dy),Dl.forEach(dy)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Sh||(Sh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,R_)))}var Ec=null;function hy(e){Ec!==e&&(Ec=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var n=0;n<e.length;n+=3){var i=e[n],l=e[n+1],d=e[n+2];if(typeof l!="function"){if(wh(l||i)===null)continue;break}var f=Oa(i);f!==null&&(e.splice(n,3),n-=3,xd(f,{pending:!0,data:d,method:i.method,action:l},l,d))}}))}function ir(e){function n(C){return Tc(C,e)}ga!==null&&Tc(ga,e),pa!==null&&Tc(pa,e),ya!==null&&Tc(ya,e),Ol.forEach(n),Dl.forEach(n);for(var i=0;i<va.length;i++){var l=va[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<va.length&&(i=va[0],i.blockedOn===null);)uy(i),i.blockedOn===null&&va.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var d=i[l],f=i[l+1],v=d[Lt]||null;if(typeof f=="function")v||hy(i);else if(v){var S=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[Lt]||null)S=v.formAction;else if(wh(d)!==null)continue}else S=v.action;typeof S=="function"?i[l+1]=S:(i.splice(l,3),l-=3),hy(i)}}}function fy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function _h(e){this._internalRoot=e}jc.prototype.render=_h.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var i=n.current,l=xn();ay(i,l,e,n,null,null)},jc.prototype.unmount=_h.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ay(e.current,2,null,e,null,null),rc(),n[Wt]=null}};function jc(e){this._internalRoot=e}jc.prototype.unstable_scheduleHydration=function(e){if(e){var n=zr();e={blockedOn:null,target:e,priority:n};for(var i=0;i<va.length&&n!==0&&n<va[i].priority;i++);va.splice(i,0,e),i===0&&uy(e)}};var my=t.version;if(my!=="19.2.3")throw Error(r(527,my,"19.2.3"));G.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var M_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{ct=kc.inject(M_),tt=kc}catch{}}return Ul.createRoot=function(e,n){if(!o(e))throw Error(r(299));var i=!1,l="",d=wg,f=Sg,v=_g;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=ny(e,1,!1,null,null,i,l,null,d,f,v,fy),e[Wt]=n.current,ah(e),new _h(n)},Ul.hydrateRoot=function(e,n,i){if(!o(e))throw Error(r(299));var l=!1,d="",f=wg,v=Sg,S=_g,C=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),n=ny(e,1,!0,n,i??null,l,d,C,f,v,S,fy),n.context=sy(null),i=n.current,l=xn(),l=Ca(l),d=sa(l),d.callback=null,aa(i,d,l),i=l,n.current.lanes=i,Ln(n,i),os(n),e[Wt]=n.current,ah(e),new jc(n)},Ul.version="19.2.3",Ul}var Ty;function q_(){if(Ty)return jh.exports;Ty=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jh.exports=F_(),jh.exports}var G_=q_();const K_=Xf(G_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X_=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,r)=>r?r.toUpperCase():a.toLowerCase()),Ey=s=>{const t=X_(s);return t.charAt(0).toUpperCase()+t.slice(1)},Ob=(...s)=>s.filter((t,a,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===a).join(" ").trim(),J_=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=B.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:u,...m},g)=>B.createElement("svg",{ref:g,...Z_,width:t,height:t,stroke:s,strokeWidth:r?Number(a)*24/Number(t):a,className:Ob("lucide",o),...!c&&!J_(m)&&{"aria-hidden":"true"},...m},[...u.map(([p,y])=>B.createElement(p,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(s,t)=>{const a=B.forwardRef(({className:r,...o},c)=>B.createElement(Q_,{ref:c,iconNode:t,className:Ob(`lucide-${Y_(Ey(s))}`,`lucide-${s}`,r),...o}));return a.displayName=Ey(s),a};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Nh=ze("activity",W_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qc=ze("arrow-right",e2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],jy=ze("calendar-check",t2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Oh=ze("calendar",n2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],a2=ze("chart-column",s2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wn=ze("check",i2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qf=ze("chevron-down",r2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ky=ze("chevron-left",l2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hc=ze("chevron-right",o2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dh=ze("clock",c2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Db=ze("ellipsis-vertical",u2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Qa=ze("flame",d2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],f2=ze("globe",h2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Rb=ze("layout-dashboard",m2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],Ay=ze("list-todo",g2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jl=ze("loader-circle",p2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],v2=ze("log-out",y2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Mb=ze("moon",b2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],w2=ze("move-right",x2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],of=ze("pen-line",S2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],T2=ze("play",_2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fl=ze("plus",E2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],k2=ze("refresh-cw",j2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Ub=ze("repeat",A2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N2=ze("settings",C2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zb=ze("sun",O2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Lb=ze("tag",D2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ql=ze("target",R2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bb=ze("trash-2",M2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Rh=ze("trending-up",U2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],L2=ze("unlink",z2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],V2=ze("user",B2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vs=ze("x",$2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],H2=ze("zap",P2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],F2=ze("zoom-in",I2);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],G2=ze("zoom-out",q2),K2=({onGetStarted:s})=>{const t=()=>{const a=document.getElementById("features");a&&a.scrollIntoView({behavior:"smooth"})};return h.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 transition-colors selection:bg-violet-100 dark:selection:bg-violet-900/30",children:[h.jsxs("div",{className:"relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-[600px] bg-gradient-to-b from-violet-50/50 to-transparent dark:from-violet-950/20 dark:to-transparent pointer-events-none"}),h.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-violet-500/10 rounded-full blur-3xl pointer-events-none"}),h.jsx("div",{className:"absolute top-20 -left-40 w-96 h-96 bg-fuchsia-500/10 rounded-full blur-3xl pointer-events-none"}),h.jsxs("div",{className:"max-w-6xl mx-auto px-6 pt-20 pb-20 relative z-10 flex flex-col items-center text-center",children:[h.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden shadow-2xl shadow-violet-600/30 mb-8 transform rotate-3 hover:rotate-6 transition-transform duration-500 bg-white dark:bg-slate-900 flex items-center justify-center",children:h.jsx("div",{className:"w-full h-full flex items-center justify-center",children:h.jsx("img",{src:"/favicon.svg",alt:"Ascend Logo",className:"w-16 h-16"})})}),h.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold mb-8 tracking-tight max-w-4xl leading-[1.1]",children:["F kontroll p din dag  ",h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#6F00FF] to-fuchsia-600",children:"visuellt."})]}),h.jsx("p",{className:"text-xl md:text-2xl text-slate-500 dark:text-slate-400 mb-10 max-w-2xl leading-relaxed",children:"Timeboxing, uppgifter och kalender i perfekt synk. Byggd fr dig som vill jobba djupt och distraktionsfritt."}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full justify-center",children:[h.jsxs("button",{onClick:s,className:"group w-full sm:w-auto flex items-center justify-center gap-3 px-8 py-4 bg-[#6F00FF] text-white rounded-full font-bold text-lg hover:bg-violet-700 hover:shadow-xl hover:shadow-violet-600/20 transition-all transform hover:-translate-y-1",children:["Starta gratis",h.jsx(Qc,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),h.jsxs("button",{onClick:t,className:"group w-full sm:w-auto flex items-center justify-center gap-3 px-8 py-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-300 rounded-full font-bold text-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all",children:["Se hur det funkar",h.jsx(T2,{size:18,className:"text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-200 transition-colors"})]})]}),h.jsxs("div",{className:"mt-8 flex items-center gap-6 text-sm font-medium text-slate-500 dark:text-slate-400",children:[h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx(wn,{size:16,className:"text-emerald-500"})," Inget kreditkort krvs"]}),h.jsx("span",{className:"hidden sm:block text-slate-300 dark:text-slate-700",children:""}),h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx(wn,{size:16,className:"text-emerald-500"})," Kom igng med Google"]})]})]})]}),h.jsx("div",{id:"features",className:"py-24 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800/50",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ett workspace fr allt"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-2xl mx-auto",children:"Sluta hoppa mellan to-do listor och kalendrar. Ascend samlar allt p ett stlle."})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[h.jsxs("div",{className:"group p-8 rounded-3xl bg-slate-50 dark:bg-slate-800/30 hover:bg-violet-50/50 dark:hover:bg-violet-900/10 transition-colors duration-300 border border-transparent hover:border-violet-100 dark:hover:border-violet-900/30",children:[h.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white dark:bg-slate-800 shadow-sm flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:h.jsx(Rb,{className:"text-[#6F00FF]",size:28})}),h.jsx("h3",{className:"text-xl font-bold mb-3",children:"Planera visuellt"}),h.jsxs("p",{className:"text-slate-500 dark:text-slate-400 leading-relaxed",children:["Dra-och-slpp dina uppgifter direkt i schemat. Se exakt ",h.jsx("em",{className:"not-italic text-slate-700 dark:text-slate-300 font-medium",children:"nr"})," jobbet blir gjort, inte bara ",h.jsx("em",{className:"not-italic text-slate-700 dark:text-slate-300 font-medium",children:"att"})," det ska gras."]})]}),h.jsxs("div",{className:"group p-8 rounded-3xl bg-slate-50 dark:bg-slate-800/30 hover:bg-emerald-50/50 dark:hover:bg-emerald-900/10 transition-colors duration-300 border border-transparent hover:border-emerald-100 dark:hover:border-emerald-900/30",children:[h.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white dark:bg-slate-800 shadow-sm flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:h.jsx(k2,{className:"text-emerald-500",size:28})}),h.jsx("h3",{className:"text-xl font-bold mb-3",children:"Allt i din kalender"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 leading-relaxed",children:"Full tvvgssynk med Google Kalender. Dina tidsblock blir mten, och dina mten blir block. Erstt dubbelarbete med automatik."})]}),h.jsxs("div",{className:"group p-8 rounded-3xl bg-slate-50 dark:bg-slate-800/30 hover:bg-amber-50/50 dark:hover:bg-amber-900/10 transition-colors duration-300 border border-transparent hover:border-amber-100 dark:hover:border-amber-900/30",children:[h.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white dark:bg-slate-800 shadow-sm flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:h.jsx(ql,{className:"text-amber-500",size:28})}),h.jsx("h3",{className:"text-xl font-bold mb-3",children:"Bygg rutiner fr deep work"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 leading-relaxed",children:"Anvnd fokuslgen och en ren design fr att stnga ute distraktioner och hitta ditt flow varje dag."})]})]})]})}),h.jsxs("div",{className:"py-20 border-t border-slate-100 dark:border-slate-800 text-center px-6",children:[h.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Redo att ta kontroll?"}),h.jsx("button",{onClick:s,className:"inline-flex items-center justify-center gap-2 px-8 py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-full font-bold text-lg hover:opacity-90 transition-opacity",children:"Kom igng nu"})]})]})},Wf=B.createContext({});function e0(s){const t=B.useRef(null);return t.current===null&&(t.current=s()),t.current}const t0=typeof window<"u",Vb=t0?B.useLayoutEffect:B.useEffect,mu=B.createContext(null);function n0(s,t){s.indexOf(t)===-1&&s.push(t)}function s0(s,t){const a=s.indexOf(t);a>-1&&s.splice(a,1)}const $s=(s,t,a)=>a>t?t:a<s?s:a;let a0=()=>{};const Ps={},$b=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function Pb(s){return typeof s=="object"&&s!==null}const Hb=s=>/^0[^.\s]+$/u.test(s);function i0(s){let t;return()=>(t===void 0&&(t=s()),t)}const Rn=s=>s,Y2=(s,t)=>a=>t(s(a)),ro=(...s)=>s.reduce(Y2),Zl=(s,t,a)=>{const r=t-s;return r===0?1:(a-s)/r};class r0{constructor(){this.subscriptions=[]}add(t){return n0(this.subscriptions,t),()=>s0(this.subscriptions,t)}notify(t,a,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,a,r);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(t,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const us=s=>s*1e3,Dn=s=>s/1e3;function Ib(s,t){return t?s*(1e3/t):0}const Fb=(s,t,a)=>(((1-3*a+3*t)*s+(3*a-6*t))*s+3*t)*s,X2=1e-7,J2=12;function Z2(s,t,a,r,o){let c,u,m=0;do u=t+(a-t)/2,c=Fb(u,r,o)-s,c>0?a=u:t=u;while(Math.abs(c)>X2&&++m<J2);return u}function lo(s,t,a,r){if(s===t&&a===r)return Rn;const o=c=>Z2(c,0,1,s,a);return c=>c===0||c===1?c:Fb(o(c),t,r)}const qb=s=>t=>t<=.5?s(2*t)/2:(2-s(2*(1-t)))/2,Gb=s=>t=>1-s(1-t),Kb=lo(.33,1.53,.69,.99),l0=Gb(Kb),Yb=qb(l0),Xb=s=>(s*=2)<1?.5*l0(s):.5*(2-Math.pow(2,-10*(s-1))),o0=s=>1-Math.sin(Math.acos(s)),Jb=Gb(o0),Zb=qb(o0),Q2=lo(.42,0,1,1),W2=lo(0,0,.58,1),Qb=lo(.42,0,.58,1),eT=s=>Array.isArray(s)&&typeof s[0]!="number",Wb=s=>Array.isArray(s)&&typeof s[0]=="number",tT={linear:Rn,easeIn:Q2,easeInOut:Qb,easeOut:W2,circIn:o0,circInOut:Zb,circOut:Jb,backIn:l0,backInOut:Yb,backOut:Kb,anticipate:Xb},nT=s=>typeof s=="string",Cy=s=>{if(Wb(s)){a0(s.length===4);const[t,a,r,o]=s;return lo(t,a,r,o)}else if(nT(s))return tT[s];return s},Ac=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function sT(s,t){let a=new Set,r=new Set,o=!1,c=!1;const u=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function g(y){u.has(y)&&(p.schedule(y),s()),y(m)}const p={schedule:(y,b=!1,w=!1)=>{const E=w&&o?a:r;return b&&u.add(y),E.has(y)||E.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(m=y,o){c=!0;return}o=!0,[a,r]=[r,a],a.forEach(g),a.clear(),o=!1,c&&(c=!1,p.process(y))}};return p}const aT=40;function ex(s,t){let a=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>a=!0,u=Ac.reduce((M,K)=>(M[K]=sT(c),M),{}),{setup:m,read:g,resolveKeyframes:p,preUpdate:y,update:b,preRender:w,render:_,postRender:E}=u,k=()=>{const M=Ps.useManualTiming?o.timestamp:performance.now();a=!1,Ps.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(M-o.timestamp,aT),1)),o.timestamp=M,o.isProcessing=!0,m.process(o),g.process(o),p.process(o),y.process(o),b.process(o),w.process(o),_.process(o),E.process(o),o.isProcessing=!1,a&&t&&(r=!1,s(k))},T=()=>{a=!0,r=!0,o.isProcessing||s(k)};return{schedule:Ac.reduce((M,K)=>{const te=u[K];return M[K]=(ne,J=!1,W=!1)=>(a||T(),te.schedule(ne,J,W)),M},{}),cancel:M=>{for(let K=0;K<Ac.length;K++)u[Ac[K]].cancel(M)},state:o,steps:u}}const{schedule:ot,cancel:_a,state:qt,steps:Mh}=ex(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0);let Ic;function iT(){Ic=void 0}const dn={now:()=>(Ic===void 0&&dn.set(qt.isProcessing||Ps.useManualTiming?qt.timestamp:performance.now()),Ic),set:s=>{Ic=s,queueMicrotask(iT)}},tx=s=>t=>typeof t=="string"&&t.startsWith(s),nx=tx("--"),rT=tx("var(--"),c0=s=>rT(s)?lT.test(s.split("/*")[0].trim()):!1,lT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jr={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Ql={...jr,transform:s=>$s(0,1,s)},Cc={...jr,default:1},Gl=s=>Math.round(s*1e5)/1e5,u0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oT(s){return s==null}const cT=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,d0=(s,t)=>a=>!!(typeof a=="string"&&cT.test(a)&&a.startsWith(s)||t&&!oT(a)&&Object.prototype.hasOwnProperty.call(a,t)),sx=(s,t,a)=>r=>{if(typeof r!="string")return r;const[o,c,u,m]=r.match(u0);return{[s]:parseFloat(o),[t]:parseFloat(c),[a]:parseFloat(u),alpha:m!==void 0?parseFloat(m):1}},uT=s=>$s(0,255,s),Uh={...jr,transform:s=>Math.round(uT(s))},ci={test:d0("rgb","red"),parse:sx("red","green","blue"),transform:({red:s,green:t,blue:a,alpha:r=1})=>"rgba("+Uh.transform(s)+", "+Uh.transform(t)+", "+Uh.transform(a)+", "+Gl(Ql.transform(r))+")"};function dT(s){let t="",a="",r="",o="";return s.length>5?(t=s.substring(1,3),a=s.substring(3,5),r=s.substring(5,7),o=s.substring(7,9)):(t=s.substring(1,2),a=s.substring(2,3),r=s.substring(3,4),o=s.substring(4,5),t+=t,a+=a,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const cf={test:d0("#"),parse:dT,transform:ci.transform},oo=s=>({test:t=>typeof t=="string"&&t.endsWith(s)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${s}`}),xa=oo("deg"),ds=oo("%"),be=oo("px"),hT=oo("vh"),fT=oo("vw"),Ny={...ds,parse:s=>ds.parse(s)/100,transform:s=>ds.transform(s*100)},hr={test:d0("hsl","hue"),parse:sx("hue","saturation","lightness"),transform:({hue:s,saturation:t,lightness:a,alpha:r=1})=>"hsla("+Math.round(s)+", "+ds.transform(Gl(t))+", "+ds.transform(Gl(a))+", "+Gl(Ql.transform(r))+")"},Nt={test:s=>ci.test(s)||cf.test(s)||hr.test(s),parse:s=>ci.test(s)?ci.parse(s):hr.test(s)?hr.parse(s):cf.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?ci.transform(s):hr.transform(s),getAnimatableNone:s=>{const t=Nt.parse(s);return t.alpha=0,Nt.transform(t)}},mT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gT(s){var t,a;return isNaN(s)&&typeof s=="string"&&(((t=s.match(u0))==null?void 0:t.length)||0)+(((a=s.match(mT))==null?void 0:a.length)||0)>0}const ax="number",ix="color",pT="var",yT="var(",Oy="${}",vT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wl(s){const t=s.toString(),a=[],r={color:[],number:[],var:[]},o=[];let c=0;const m=t.replace(vT,g=>(Nt.test(g)?(r.color.push(c),o.push(ix),a.push(Nt.parse(g))):g.startsWith(yT)?(r.var.push(c),o.push(pT),a.push(g)):(r.number.push(c),o.push(ax),a.push(parseFloat(g))),++c,Oy)).split(Oy);return{values:a,split:m,indexes:r,types:o}}function rx(s){return Wl(s).values}function lx(s){const{split:t,types:a}=Wl(s),r=t.length;return o=>{let c="";for(let u=0;u<r;u++)if(c+=t[u],o[u]!==void 0){const m=a[u];m===ax?c+=Gl(o[u]):m===ix?c+=Nt.transform(o[u]):c+=o[u]}return c}}const bT=s=>typeof s=="number"?0:Nt.test(s)?Nt.getAnimatableNone(s):s;function xT(s){const t=rx(s);return lx(s)(t.map(bT))}const Ta={test:gT,parse:rx,createTransformer:lx,getAnimatableNone:xT};function zh(s,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?s+(t-s)*6*a:a<1/2?t:a<2/3?s+(t-s)*(2/3-a)*6:s}function wT({hue:s,saturation:t,lightness:a,alpha:r}){s/=360,t/=100,a/=100;let o=0,c=0,u=0;if(!t)o=c=u=a;else{const m=a<.5?a*(1+t):a+t-a*t,g=2*a-m;o=zh(g,m,s+1/3),c=zh(g,m,s),u=zh(g,m,s-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:r}}function Wc(s,t){return a=>a>0?t:s}const dt=(s,t,a)=>s+(t-s)*a,Lh=(s,t,a)=>{const r=s*s,o=a*(t*t-r)+r;return o<0?0:Math.sqrt(o)},ST=[cf,ci,hr],_T=s=>ST.find(t=>t.test(s));function Dy(s){const t=_T(s);if(!t)return!1;let a=t.parse(s);return t===hr&&(a=wT(a)),a}const Ry=(s,t)=>{const a=Dy(s),r=Dy(t);if(!a||!r)return Wc(s,t);const o={...a};return c=>(o.red=Lh(a.red,r.red,c),o.green=Lh(a.green,r.green,c),o.blue=Lh(a.blue,r.blue,c),o.alpha=dt(a.alpha,r.alpha,c),ci.transform(o))},uf=new Set(["none","hidden"]);function TT(s,t){return uf.has(s)?a=>a<=0?s:t:a=>a>=1?t:s}function ET(s,t){return a=>dt(s,t,a)}function h0(s){return typeof s=="number"?ET:typeof s=="string"?c0(s)?Wc:Nt.test(s)?Ry:AT:Array.isArray(s)?ox:typeof s=="object"?Nt.test(s)?Ry:jT:Wc}function ox(s,t){const a=[...s],r=a.length,o=s.map((c,u)=>h0(c)(c,t[u]));return c=>{for(let u=0;u<r;u++)a[u]=o[u](c);return a}}function jT(s,t){const a={...s,...t},r={};for(const o in a)s[o]!==void 0&&t[o]!==void 0&&(r[o]=h0(s[o])(s[o],t[o]));return o=>{for(const c in r)a[c]=r[c](o);return a}}function kT(s,t){const a=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const c=t.types[o],u=s.indexes[c][r[c]],m=s.values[u]??0;a[o]=m,r[c]++}return a}const AT=(s,t)=>{const a=Ta.createTransformer(t),r=Wl(s),o=Wl(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?uf.has(s)&&!o.values.length||uf.has(t)&&!r.values.length?TT(s,t):ro(ox(kT(r,o),o.values),a):Wc(s,t)};function cx(s,t,a){return typeof s=="number"&&typeof t=="number"&&typeof a=="number"?dt(s,t,a):h0(s)(s,t)}const CT=s=>{const t=({timestamp:a})=>s(a);return{start:(a=!0)=>ot.update(t,a),stop:()=>_a(t),now:()=>qt.isProcessing?qt.timestamp:dn.now()}},ux=(s,t,a=10)=>{let r="";const o=Math.max(Math.round(t/a),2);for(let c=0;c<o;c++)r+=Math.round(s(c/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},eu=2e4;function f0(s){let t=0;const a=50;let r=s.next(t);for(;!r.done&&t<eu;)t+=a,r=s.next(t);return t>=eu?1/0:t}function NT(s,t=100,a){const r=a({...s,keyframes:[0,t]}),o=Math.min(f0(r),eu);return{type:"keyframes",ease:c=>r.next(o*c).value/t,duration:Dn(o)}}const OT=5;function dx(s,t,a){const r=Math.max(t-OT,0);return Ib(a-s(r),t-r)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bh=.001;function DT({duration:s=vt.duration,bounce:t=vt.bounce,velocity:a=vt.velocity,mass:r=vt.mass}){let o,c,u=1-t;u=$s(vt.minDamping,vt.maxDamping,u),s=$s(vt.minDuration,vt.maxDuration,Dn(s)),u<1?(o=p=>{const y=p*u,b=y*s,w=y-a,_=df(p,u),E=Math.exp(-b);return Bh-w/_*E},c=p=>{const b=p*u*s,w=b*a+a,_=Math.pow(u,2)*Math.pow(p,2)*s,E=Math.exp(-b),k=df(Math.pow(p,2),u);return(-o(p)+Bh>0?-1:1)*((w-_)*E)/k}):(o=p=>{const y=Math.exp(-p*s),b=(p-a)*s+1;return-Bh+y*b},c=p=>{const y=Math.exp(-p*s),b=(a-p)*(s*s);return y*b});const m=5/s,g=MT(o,c,m);if(s=us(s),isNaN(g))return{stiffness:vt.stiffness,damping:vt.damping,duration:s};{const p=Math.pow(g,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:s}}}const RT=12;function MT(s,t,a){let r=a;for(let o=1;o<RT;o++)r=r-s(r)/t(r);return r}function df(s,t){return s*Math.sqrt(1-t*t)}const UT=["duration","bounce"],zT=["stiffness","damping","mass"];function My(s,t){return t.some(a=>s[a]!==void 0)}function LT(s){let t={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...s};if(!My(s,zT)&&My(s,UT))if(s.visualDuration){const a=s.visualDuration,r=2*Math.PI/(a*1.2),o=r*r,c=2*$s(.05,1,1-(s.bounce||0))*Math.sqrt(o);t={...t,mass:vt.mass,stiffness:o,damping:c}}else{const a=DT(s);t={...t,...a,mass:vt.mass},t.isResolvedFromDuration=!0}return t}function tu(s=vt.visualDuration,t=vt.bounce){const a=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:t}:s;let{restSpeed:r,restDelta:o}=a;const c=a.keyframes[0],u=a.keyframes[a.keyframes.length-1],m={done:!1,value:c},{stiffness:g,damping:p,mass:y,duration:b,velocity:w,isResolvedFromDuration:_}=LT({...a,velocity:-Dn(a.velocity||0)}),E=w||0,k=p/(2*Math.sqrt(g*y)),T=u-c,U=Dn(Math.sqrt(g/y)),V=Math.abs(T)<5;r||(r=V?vt.restSpeed.granular:vt.restSpeed.default),o||(o=V?vt.restDelta.granular:vt.restDelta.default);let M;if(k<1){const te=df(U,k);M=ne=>{const J=Math.exp(-k*U*ne);return u-J*((E+k*U*T)/te*Math.sin(te*ne)+T*Math.cos(te*ne))}}else if(k===1)M=te=>u-Math.exp(-U*te)*(T+(E+U*T)*te);else{const te=U*Math.sqrt(k*k-1);M=ne=>{const J=Math.exp(-k*U*ne),W=Math.min(te*ne,300);return u-J*((E+k*U*T)*Math.sinh(W)+te*T*Math.cosh(W))/te}}const K={calculatedDuration:_&&b||null,next:te=>{const ne=M(te);if(_)m.done=te>=b;else{let J=te===0?E:0;k<1&&(J=te===0?us(E):dx(M,te,ne));const W=Math.abs(J)<=r,ae=Math.abs(u-ne)<=o;m.done=W&&ae}return m.value=m.done?u:ne,m},toString:()=>{const te=Math.min(f0(K),eu),ne=ux(J=>K.next(te*J).value,te,30);return te+"ms "+ne},toTransition:()=>{}};return K}tu.applyToOptions=s=>{const t=NT(s,100,tu);return s.ease=t.ease,s.duration=us(t.duration),s.type="keyframes",s};function hf({keyframes:s,velocity:t=0,power:a=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:m,max:g,restDelta:p=.5,restSpeed:y}){const b=s[0],w={done:!1,value:b},_=W=>m!==void 0&&W<m||g!==void 0&&W>g,E=W=>m===void 0?g:g===void 0||Math.abs(m-W)<Math.abs(g-W)?m:g;let k=a*t;const T=b+k,U=u===void 0?T:u(T);U!==T&&(k=U-b);const V=W=>-k*Math.exp(-W/r),M=W=>U+V(W),K=W=>{const ae=V(W),ge=M(W);w.done=Math.abs(ae)<=p,w.value=w.done?U:ge};let te,ne;const J=W=>{_(w.value)&&(te=W,ne=tu({keyframes:[w.value,E(w.value)],velocity:dx(M,W,w.value),damping:o,stiffness:c,restDelta:p,restSpeed:y}))};return J(0),{calculatedDuration:null,next:W=>{let ae=!1;return!ne&&te===void 0&&(ae=!0,K(W),J(W)),te!==void 0&&W>=te?ne.next(W-te):(!ae&&K(W),w)}}}function BT(s,t,a){const r=[],o=a||Ps.mix||cx,c=s.length-1;for(let u=0;u<c;u++){let m=o(s[u],s[u+1]);if(t){const g=Array.isArray(t)?t[u]||Rn:t;m=ro(g,m)}r.push(m)}return r}function VT(s,t,{clamp:a=!0,ease:r,mixer:o}={}){const c=s.length;if(a0(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const u=s[0]===s[1];s[0]>s[c-1]&&(s=[...s].reverse(),t=[...t].reverse());const m=BT(t,r,o),g=m.length,p=y=>{if(u&&y<s[0])return t[0];let b=0;if(g>1)for(;b<s.length-2&&!(y<s[b+1]);b++);const w=Zl(s[b],s[b+1],y);return m[b](w)};return a?y=>p($s(s[0],s[c-1],y)):p}function $T(s,t){const a=s[s.length-1];for(let r=1;r<=t;r++){const o=Zl(0,t,r);s.push(dt(a,1,o))}}function PT(s){const t=[0];return $T(t,s.length-1),t}function HT(s,t){return s.map(a=>a*t)}function IT(s,t){return s.map(()=>t||Qb).splice(0,s.length-1)}function Kl({duration:s=300,keyframes:t,times:a,ease:r="easeInOut"}){const o=eT(r)?r.map(Cy):Cy(r),c={done:!1,value:t[0]},u=HT(a&&a.length===t.length?a:PT(t),s),m=VT(u,t,{ease:Array.isArray(o)?o:IT(t,o)});return{calculatedDuration:s,next:g=>(c.value=m(g),c.done=g>=s,c)}}const FT=s=>s!==null;function m0(s,{repeat:t,repeatType:a="loop"},r,o=1){const c=s.filter(FT),m=o<0||t&&a!=="loop"&&t%2===1?0:c.length-1;return!m||r===void 0?c[m]:r}const qT={decay:hf,inertia:hf,tween:Kl,keyframes:Kl,spring:tu};function hx(s){typeof s.type=="string"&&(s.type=qT[s.type])}class g0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const GT=s=>s/100;class p0 extends g0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:a}=this.options;a&&a.updatedAt!==dn.now()&&this.tick(dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hx(t);const{type:a=Kl,repeat:r=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=t;let{keyframes:m}=t;const g=a||Kl;g!==Kl&&typeof m[0]!="number"&&(this.mixKeyframes=ro(GT,cx(m[0],m[1])),m=[0,100]);const p=g({...t,keyframes:m});c==="mirror"&&(this.mirroredGenerator=g({...t,keyframes:[...m].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=f0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:r,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:m,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:b,repeatType:w,repeatDelay:_,type:E,onUpdate:k,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?U<0:U>o;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let M=this.currentTime,K=r;if(b){const W=Math.min(this.currentTime,o)/m;let ae=Math.floor(W),ge=W%1;!ge&&W>=1&&(ge=1),ge===1&&ae--,ae=Math.min(ae,b+1),!!(ae%2)&&(w==="reverse"?(ge=1-ge,_&&(ge-=_/m)):w==="mirror"&&(K=u)),M=$s(0,1,ge)*m}const te=V?{done:!1,value:y[0]}:K.next(M);c&&(te.value=c(te.value));let{done:ne}=te;!V&&g!==null&&(ne=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const J=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return J&&E!==hf&&(te.value=m0(y,this.options,T,this.speed)),k&&k(te.value),J&&this.finish(),te}then(t,a){return this.finished.then(t,a)}get duration(){return Dn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Dn(t)}get time(){return Dn(this.currentTime)}set time(t){var a;t=us(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(a=this.driver)==null||a.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(dn.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=Dn(this.currentTime))}play(){var o,c;if(this.isStopped)return;const{driver:t=CT,startTime:a}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),(c=(o=this.options).onPlay)==null||c.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,a;this.notifyFinished(),this.teardown(),this.state="finished",(a=(t=this.options).onComplete)==null||a.call(t)}cancel(){var t,a;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(a=(t=this.options).onCancel)==null||a.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var a;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(a=this.driver)==null||a.stop(),t.observe(this)}}function KT(s){for(let t=1;t<s.length;t++)s[t]??(s[t]=s[t-1])}const ui=s=>s*180/Math.PI,ff=s=>{const t=ui(Math.atan2(s[1],s[0]));return mf(t)},YT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:ff,rotateZ:ff,skewX:s=>ui(Math.atan(s[1])),skewY:s=>ui(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},mf=s=>(s=s%360,s<0&&(s+=360),s),Uy=ff,zy=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),Ly=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),XT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zy,scaleY:Ly,scale:s=>(zy(s)+Ly(s))/2,rotateX:s=>mf(ui(Math.atan2(s[6],s[5]))),rotateY:s=>mf(ui(Math.atan2(-s[2],s[0]))),rotateZ:Uy,rotate:Uy,skewX:s=>ui(Math.atan(s[4])),skewY:s=>ui(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function gf(s){return s.includes("scale")?1:0}function pf(s,t){if(!s||s==="none")return gf(t);const a=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(a)r=XT,o=a;else{const m=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=YT,o=m}if(!o)return gf(t);const c=r[t],u=o[1].split(",").map(ZT);return typeof c=="function"?c(u):u[c]}const JT=(s,t)=>{const{transform:a="none"}=getComputedStyle(s);return pf(a,t)};function ZT(s){return parseFloat(s.trim())}const kr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ar=new Set(kr),By=s=>s===jr||s===be,QT=new Set(["x","y","z"]),WT=kr.filter(s=>!QT.has(s));function eE(s){const t=[];return WT.forEach(a=>{const r=s.getValue(a);r!==void 0&&(t.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),t}const hi={width:({x:s},{paddingLeft:t="0",paddingRight:a="0"})=>s.max-s.min-parseFloat(t)-parseFloat(a),height:({y:s},{paddingTop:t="0",paddingBottom:a="0"})=>s.max-s.min-parseFloat(t)-parseFloat(a),top:(s,{top:t})=>parseFloat(t),left:(s,{left:t})=>parseFloat(t),bottom:({y:s},{top:t})=>parseFloat(t)+(s.max-s.min),right:({x:s},{left:t})=>parseFloat(t)+(s.max-s.min),x:(s,{transform:t})=>pf(t,"x"),y:(s,{transform:t})=>pf(t,"y")};hi.translateX=hi.x;hi.translateY=hi.y;const fi=new Set;let yf=!1,vf=!1,bf=!1;function fx(){if(vf){const s=Array.from(fi).filter(r=>r.needsMeasurement),t=new Set(s.map(r=>r.element)),a=new Map;t.forEach(r=>{const o=eE(r);o.length&&(a.set(r,o),r.render())}),s.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=a.get(r);o&&o.forEach(([c,u])=>{var m;(m=r.getValue(c))==null||m.set(u)})}),s.forEach(r=>r.measureEndState()),s.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vf=!1,yf=!1,fi.forEach(s=>s.complete(bf)),fi.clear()}function mx(){fi.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(vf=!0)})}function tE(){bf=!0,mx(),fx(),bf=!1}class y0{constructor(t,a,r,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=r,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(fi.add(this),yf||(yf=!0,ot.read(mx),ot.resolveKeyframes(fx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:r,motionValue:o}=this;if(t[0]===null){const c=o==null?void 0:o.get(),u=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&a){const m=r.readValue(a,u);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=u),o&&c===void 0&&o.set(t[0])}KT(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fi.delete(this)}cancel(){this.state==="scheduled"&&(fi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nE=s=>s.startsWith("--");function sE(s,t,a){nE(t)?s.style.setProperty(t,a):s.style[t]=a}const aE=i0(()=>window.ScrollTimeline!==void 0),iE={};function rE(s,t){const a=i0(s);return()=>iE[t]??a()}const gx=rE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vl=([s,t,a,r])=>`cubic-bezier(${s}, ${t}, ${a}, ${r})`,Vy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vl([0,.65,.55,1]),circOut:Vl([.55,0,1,.45]),backIn:Vl([.31,.01,.66,-.59]),backOut:Vl([.33,1.53,.69,.99])};function px(s,t){if(s)return typeof s=="function"?gx()?ux(s,t):"ease-out":Wb(s)?Vl(s):Array.isArray(s)?s.map(a=>px(a,t)||Vy.easeOut):Vy[s]}function lE(s,t,a,{delay:r=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:m="easeOut",times:g}={},p=void 0){const y={[t]:a};g&&(y.offset=g);const b=px(m,o);Array.isArray(b)&&(y.easing=b);const w={delay:r,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),s.animate(y,w)}function yx(s){return typeof s=="function"&&"applyToOptions"in s}function oE({type:s,...t}){return yx(s)&&gx()?s.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class cE extends g0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:a,name:r,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:m,onComplete:g}=t;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=t,a0(typeof t.type!="string");const p=oE(t);this.animation=lE(a,r,o,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const y=m0(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(y):sE(a,r,y),this.animation.cancel()}g==null||g(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,a;(a=(t=this.animation).finish)==null||a.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,a;this.isPseudoElement||(a=(t=this.animation).commitStyles)==null||a.call(t)}get duration(){var a,r;const t=((r=(a=this.animation.effect)==null?void 0:a.getComputedTiming)==null?void 0:r.call(a).duration)||0;return Dn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Dn(t)}get time(){return Dn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=us(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&aE()?(this.animation.timeline=t,Rn):a(this)}}const vx={anticipate:Xb,backInOut:Yb,circInOut:Zb};function uE(s){return s in vx}function dE(s){typeof s.ease=="string"&&uE(s.ease)&&(s.ease=vx[s.ease])}const $y=10;class hE extends cE{constructor(t){dE(t),hx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:r,onComplete:o,element:c,...u}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const m=new p0({...u,autoplay:!1}),g=us(this.finishedTime??this.time);a.setWithVelocity(m.sample(g-$y).value,m.sample(g).value,$y),m.stop()}}const Py=(s,t)=>t==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Ta.test(s)||s==="0")&&!s.startsWith("url("));function fE(s){const t=s[0];if(s.length===1)return!0;for(let a=0;a<s.length;a++)if(s[a]!==t)return!0}function mE(s,t,a,r){const o=s[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const c=s[s.length-1],u=Py(o,t),m=Py(c,t);return!u||!m?!1:fE(s)||(a==="spring"||yx(a))&&r}function xf(s){s.duration=0,s.type="keyframes"}const gE=new Set(["opacity","clipPath","filter","transform"]),pE=i0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yE(s){var y;const{motionValue:t,name:a,repeatDelay:r,repeatType:o,damping:c,type:u}=s;if(!(((y=t==null?void 0:t.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:p}=t.owner.getProps();return pE()&&a&&gE.has(a)&&(a!=="transform"||!p)&&!g&&!r&&o!=="mirror"&&c!==0&&u!=="inertia"}const vE=40;class bE extends g0{constructor({autoplay:t=!0,delay:a=0,type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:m,name:g,motionValue:p,element:y,...b}){var E;super(),this.stop=()=>{var k,T;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=dn.now();const w={autoplay:t,delay:a,type:r,repeat:o,repeatDelay:c,repeatType:u,name:g,motionValue:p,element:y,...b},_=(y==null?void 0:y.KeyframeResolver)||y0;this.keyframeResolver=new _(m,(k,T,U)=>this.onKeyframesResolved(k,T,w,!U),g,p,y),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(t,a,r,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:m,delay:g,isHandoff:p,onUpdate:y}=r;this.resolvedAt=dn.now(),mE(t,c,u,m)||((Ps.instantAnimations||!g)&&(y==null||y(m0(t,r,a))),t[0]=t[t.length-1],xf(r),r.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>vE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:t},_=!p&&yE(w)?new hE({...w,element:w.motionValue.owner.current}):new p0(w);_.finished.then(()=>this.notifyFinished()).catch(Rn),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),tE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const xE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wE(s){const t=xE.exec(s);if(!t)return[,];const[,a,r,o]=t;return[`--${a??r}`,o]}function bx(s,t,a=1){const[r,o]=wE(s);if(!r)return;const c=window.getComputedStyle(t).getPropertyValue(r);if(c){const u=c.trim();return $b(u)?parseFloat(u):u}return c0(o)?bx(o,t,a+1):o}function v0(s,t){return(s==null?void 0:s[t])??(s==null?void 0:s.default)??s}const xx=new Set(["width","height","top","left","right","bottom",...kr]),SE={test:s=>s==="auto",parse:s=>s},wx=s=>t=>t.test(s),Sx=[jr,be,ds,xa,fT,hT,SE],Hy=s=>Sx.find(wx(s));function _E(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||Hb(s):!0}const TE=new Set(["brightness","contrast","saturate","opacity"]);function EE(s){const[t,a]=s.slice(0,-1).split("(");if(t==="drop-shadow")return s;const[r]=a.match(u0)||[];if(!r)return s;const o=a.replace(r,"");let c=TE.has(t)?1:0;return r!==a&&(c*=100),t+"("+c+o+")"}const jE=/\b([a-z-]*)\(.*?\)/gu,wf={...Ta,getAnimatableNone:s=>{const t=s.match(jE);return t?t.map(EE).join(" "):s}},Iy={...jr,transform:Math.round},kE={rotate:xa,rotateX:xa,rotateY:xa,rotateZ:xa,scale:Cc,scaleX:Cc,scaleY:Cc,scaleZ:Cc,skew:xa,skewX:xa,skewY:xa,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Ql,originX:Ny,originY:Ny,originZ:be},b0={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be,...kE,zIndex:Iy,fillOpacity:Ql,strokeOpacity:Ql,numOctaves:Iy},AE={...b0,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:wf,WebkitFilter:wf},_x=s=>AE[s];function Tx(s,t){let a=_x(s);return a!==wf&&(a=Ta),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const CE=new Set(["auto","none","0"]);function NE(s,t,a){let r=0,o;for(;r<s.length&&!o;){const c=s[r];typeof c=="string"&&!CE.has(c)&&Wl(c).values.length&&(o=s[r]),r++}if(o&&a)for(const c of t)s[c]=Tx(a,o)}class OE extends y0{constructor(t,a,r,o,c){super(t,a,r,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let p=t[g];if(typeof p=="string"&&(p=p.trim(),c0(p))){const y=bx(p,a.current);y!==void 0&&(t[g]=y),g===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!xx.has(r)||t.length!==2)return;const[o,c]=t,u=Hy(o),m=Hy(c);if(u!==m)if(By(u)&&By(m))for(let g=0;g<t.length;g++){const p=t[g];typeof p=="string"&&(t[g]=parseFloat(p))}else hi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||_E(t[o]))&&r.push(o);r.length&&NE(t,r,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const o=a[a.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var m;const{element:t,name:a,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(a);o&&o.jump(this.measuredOrigin,!1);const c=r.length-1,u=r[c];r[c]=hi[a](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([g,p])=>{t.getValue(g).set(p)}),this.resolveNoneKeyframes()}}function DE(s,t,a){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let r=document;const o=(a==null?void 0:a[s])??r.querySelectorAll(s);return o?Array.from(o):[]}return Array.from(s)}const Ex=(s,t)=>t&&typeof s=="number"?t.transform(s):s;function jx(s){return Pb(s)&&"offsetHeight"in s}const Fy=30,RE=s=>!isNaN(parseFloat(s));class ME{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var c;const o=dn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=dn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=RE(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new r0);const r=this.events[t].add(a);return t==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Fy)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,Fy);return Ib(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,a;(t=this.dependents)==null||t.clear(),(a=this.events.destroy)==null||a.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xr(s,t){return new ME(s,t)}const{schedule:x0}=ex(queueMicrotask,!1),Zn={x:!1,y:!1};function kx(){return Zn.x||Zn.y}function UE(s){return s==="x"||s==="y"?Zn[s]?null:(Zn[s]=!0,()=>{Zn[s]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}function Ax(s,t){const a=DE(s),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[a,o,()=>r.abort()]}function qy(s){return!(s.pointerType==="touch"||kx())}function zE(s,t,a={}){const[r,o,c]=Ax(s,a),u=m=>{if(!qy(m))return;const{target:g}=m,p=t(g,m);if(typeof p!="function"||!g)return;const y=b=>{qy(b)&&(p(b),g.removeEventListener("pointerleave",y))};g.addEventListener("pointerleave",y,o)};return r.forEach(m=>{m.addEventListener("pointerenter",u,o)}),c}const Cx=(s,t)=>t?s===t?!0:Cx(s,t.parentElement):!1,w0=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,LE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BE(s){return LE.has(s.tagName)||s.tabIndex!==-1}const Fc=new WeakSet;function Gy(s){return t=>{t.key==="Enter"&&s(t)}}function Vh(s,t){s.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const VE=(s,t)=>{const a=s.currentTarget;if(!a)return;const r=Gy(()=>{if(Fc.has(a))return;Vh(a,"down");const o=Gy(()=>{Vh(a,"up")}),c=()=>Vh(a,"cancel");a.addEventListener("keyup",o,t),a.addEventListener("blur",c,t)});a.addEventListener("keydown",r,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),t)};function Ky(s){return w0(s)&&!kx()}function $E(s,t,a={}){const[r,o,c]=Ax(s,a),u=m=>{const g=m.currentTarget;if(!Ky(m))return;Fc.add(g);const p=t(g,m),y=(_,E)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),Fc.has(g)&&Fc.delete(g),Ky(_)&&typeof p=="function"&&p(_,{success:E})},b=_=>{y(_,g===window||g===document||a.useGlobalTarget||Cx(g,_.target))},w=_=>{y(_,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",w,o)};return r.forEach(m=>{(a.useGlobalTarget?window:m).addEventListener("pointerdown",u,o),jx(m)&&(m.addEventListener("focus",p=>VE(p,o)),!BE(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),c}function Nx(s){return Pb(s)&&"ownerSVGElement"in s}function PE(s){return Nx(s)&&s.tagName==="svg"}const Jt=s=>!!(s&&s.getVelocity),HE=[...Sx,Nt,Ta],IE=s=>HE.find(wx(s)),S0=B.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function Yy(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function FE(...s){return t=>{let a=!1;const r=s.map(o=>{const c=Yy(o,t);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():Yy(s[o],null)}}}}function qE(...s){return B.useCallback(FE(...s),s)}class GE extends B.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const r=a.offsetParent,o=jx(r)&&r.offsetWidth||0,c=this.props.sizeRef.current;c.height=a.offsetHeight||0,c.width=a.offsetWidth||0,c.top=a.offsetTop,c.left=a.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function KE({children:s,isPresent:t,anchorX:a,root:r}){const o=B.useId(),c=B.useRef(null),u=B.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=B.useContext(S0),g=qE(c,s==null?void 0:s.ref);return B.useInsertionEffect(()=>{const{width:p,height:y,top:b,left:w,right:_}=u.current;if(t||!c.current||!p||!y)return;const E=a==="left"?`left: ${w}`:`right: ${_}`;c.current.dataset.motionPopId=o;const k=document.createElement("style");m&&(k.nonce=m);const T=r??document.head;return T.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${E}px !important;
            top: ${b}px !important;
          }
        `),()=>{T.contains(k)&&T.removeChild(k)}},[t]),h.jsx(GE,{isPresent:t,childRef:c,sizeRef:u,children:B.cloneElement(s,{ref:g})})}const YE=({children:s,initial:t,isPresent:a,onExitComplete:r,custom:o,presenceAffectsLayout:c,mode:u,anchorX:m,root:g})=>{const p=e0(XE),y=B.useId();let b=!0,w=B.useMemo(()=>(b=!1,{id:y,initial:t,isPresent:a,custom:o,onExitComplete:_=>{p.set(_,!0);for(const E of p.values())if(!E)return;r&&r()},register:_=>(p.set(_,!1),()=>p.delete(_))}),[a,p,r]);return c&&b&&(w={...w}),B.useMemo(()=>{p.forEach((_,E)=>p.set(E,!1))},[a]),B.useEffect(()=>{!a&&!p.size&&r&&r()},[a]),u==="popLayout"&&(s=h.jsx(KE,{isPresent:a,anchorX:m,root:g,children:s})),h.jsx(mu.Provider,{value:w,children:s})};function XE(){return new Map}function Ox(s=!0){const t=B.useContext(mu);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:o}=t,c=B.useId();B.useEffect(()=>{if(s)return o(c)},[s]);const u=B.useCallback(()=>s&&r&&r(c),[c,r,s]);return!a&&r?[!1,u]:[!0]}const Nc=s=>s.key||"";function Xy(s){const t=[];return B.Children.forEach(s,a=>{B.isValidElement(a)&&t.push(a)}),t}const $l=({children:s,custom:t,initial:a=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:m="left",root:g})=>{const[p,y]=Ox(u),b=B.useMemo(()=>Xy(s),[s]),w=u&&!p?[]:b.map(Nc),_=B.useRef(!0),E=B.useRef(b),k=e0(()=>new Map),[T,U]=B.useState(b),[V,M]=B.useState(b);Vb(()=>{_.current=!1,E.current=b;for(let ne=0;ne<V.length;ne++){const J=Nc(V[ne]);w.includes(J)?k.delete(J):k.get(J)!==!0&&k.set(J,!1)}},[V,w.length,w.join("-")]);const K=[];if(b!==T){let ne=[...b];for(let J=0;J<V.length;J++){const W=V[J],ae=Nc(W);w.includes(ae)||(ne.splice(J,0,W),K.push(W))}return c==="wait"&&K.length&&(ne=K),M(Xy(ne)),U(b),null}const{forceRender:te}=B.useContext(Wf);return h.jsx(h.Fragment,{children:V.map(ne=>{const J=Nc(ne),W=u&&!p?!1:b===V||w.includes(J),ae=()=>{if(k.has(J))k.set(J,!0);else return;let ge=!0;k.forEach(ke=>{ke||(ge=!1)}),ge&&(te==null||te(),M(E.current),u&&(y==null||y()),r&&r())};return h.jsx(YE,{isPresent:W,initial:!_.current||a?void 0:!1,custom:t,presenceAffectsLayout:o,mode:c,root:g,onExitComplete:W?void 0:ae,anchorX:m,children:ne},J)})})},Dx=B.createContext({strict:!1}),Jy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wr={};for(const s in Jy)wr[s]={isEnabled:t=>Jy[s].some(a=>!!t[a])};function JE(s){for(const t in s)wr[t]={...wr[t],...s[t]}}const ZE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nu(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||ZE.has(s)}let Rx=s=>!nu(s);function QE(s){typeof s=="function"&&(Rx=t=>t.startsWith("on")?!nu(t):s(t))}try{QE(require("@emotion/is-prop-valid").default)}catch{}function WE(s,t,a){const r={};for(const o in s)o==="values"&&typeof s.values=="object"||(Rx(o)||a===!0&&nu(o)||!t&&!nu(o)||s.draggable&&o.startsWith("onDrag"))&&(r[o]=s[o]);return r}const gu=B.createContext({});function pu(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function eo(s){return typeof s=="string"||Array.isArray(s)}const _0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],T0=["initial",..._0];function yu(s){return pu(s.animate)||T0.some(t=>eo(s[t]))}function Mx(s){return!!(yu(s)||s.variants)}function ej(s,t){if(yu(s)){const{initial:a,animate:r}=s;return{initial:a===!1||eo(a)?a:void 0,animate:eo(r)?r:void 0}}return s.inherit!==!1?t:{}}function tj(s){const{initial:t,animate:a}=ej(s,B.useContext(gu));return B.useMemo(()=>({initial:t,animate:a}),[Zy(t),Zy(a)])}function Zy(s){return Array.isArray(s)?s.join(" "):s}function Qy(s,t){return t.max===t.min?0:s/(t.max-t.min)*100}const zl={correct:(s,t)=>{if(!t.target)return s;if(typeof s=="string")if(be.test(s))s=parseFloat(s);else return s;const a=Qy(s,t.target.x),r=Qy(s,t.target.y);return`${a}% ${r}%`}},nj={correct:(s,{treeScale:t,projectionDelta:a})=>{const r=s,o=Ta.parse(s);if(o.length>5)return r;const c=Ta.createTransformer(s),u=typeof o[0]!="number"?1:0,m=a.x.scale*t.x,g=a.y.scale*t.y;o[0+u]/=m,o[1+u]/=g;const p=dt(m,g,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),c(o)}},Sf={borderRadius:{...zl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zl,borderTopRightRadius:zl,borderBottomLeftRadius:zl,borderBottomRightRadius:zl,boxShadow:nj};function Ux(s,{layout:t,layoutId:a}){return Ar.has(s)||s.startsWith("origin")||(t||a!==void 0)&&(!!Sf[s]||s==="opacity")}const sj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aj=kr.length;function ij(s,t,a){let r="",o=!0;for(let c=0;c<aj;c++){const u=kr[c],m=s[u];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(u.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||a){const p=Ex(m,b0[u]);if(!g){o=!1;const y=sj[u]||u;r+=`${y}(${p}) `}a&&(t[u]=p)}}return r=r.trim(),a?r=a(t,o?"":r):o&&(r="none"),r}function E0(s,t,a){const{style:r,vars:o,transformOrigin:c}=s;let u=!1,m=!1;for(const g in t){const p=t[g];if(Ar.has(g)){u=!0;continue}else if(nx(g)){o[g]=p;continue}else{const y=Ex(p,b0[g]);g.startsWith("origin")?(m=!0,c[g]=y):r[g]=y}}if(t.transform||(u||a?r.transform=ij(t,s.transform,a):r.transform&&(r.transform="none")),m){const{originX:g="50%",originY:p="50%",originZ:y=0}=c;r.transformOrigin=`${g} ${p} ${y}`}}const j0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zx(s,t,a){for(const r in t)!Jt(t[r])&&!Ux(r,a)&&(s[r]=t[r])}function rj({transformTemplate:s},t){return B.useMemo(()=>{const a=j0();return E0(a,t,s),Object.assign({},a.vars,a.style)},[t])}function lj(s,t){const a=s.style||{},r={};return zx(r,a,s),Object.assign(r,rj(s,t)),r}function oj(s,t){const a={},r=lj(s,t);return s.drag&&s.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(a.tabIndex=0),a.style=r,a}const cj={offset:"stroke-dashoffset",array:"stroke-dasharray"},uj={offset:"strokeDashoffset",array:"strokeDasharray"};function dj(s,t,a=1,r=0,o=!0){s.pathLength=1;const c=o?cj:uj;s[c.offset]=be.transform(-r);const u=be.transform(t),m=be.transform(a);s[c.array]=`${u} ${m}`}function Lx(s,{attrX:t,attrY:a,attrScale:r,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...m},g,p,y){if(E0(s,m,p),g){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:b,style:w}=s;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),a!==void 0&&(b.y=a),r!==void 0&&(b.scale=r),o!==void 0&&dj(b,o,c,u,!1)}const Bx=()=>({...j0(),attrs:{}}),Vx=s=>typeof s=="string"&&s.toLowerCase()==="svg";function hj(s,t,a,r){const o=B.useMemo(()=>{const c=Bx();return Lx(c,t,Vx(r),s.transformTemplate,s.style),{...c.attrs,style:{...c.style}}},[t]);if(s.style){const c={};zx(c,s.style,s),o.style={...c,...o.style}}return o}const fj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function k0(s){return typeof s!="string"||s.includes("-")?!1:!!(fj.indexOf(s)>-1||/[A-Z]/u.test(s))}function mj(s,t,a,{latestValues:r},o,c=!1){const m=(k0(s)?hj:oj)(t,r,o,s),g=WE(t,typeof s=="string",c),p=s!==B.Fragment?{...g,...m,ref:a}:{},{children:y}=t,b=B.useMemo(()=>Jt(y)?y.get():y,[y]);return B.createElement(s,{...p,children:b})}function Wy(s){const t=[{},{}];return s==null||s.values.forEach((a,r)=>{t[0][r]=a.get(),t[1][r]=a.getVelocity()}),t}function A0(s,t,a,r){if(typeof t=="function"){const[o,c]=Wy(r);t=t(a!==void 0?a:s.custom,o,c)}if(typeof t=="string"&&(t=s.variants&&s.variants[t]),typeof t=="function"){const[o,c]=Wy(r);t=t(a!==void 0?a:s.custom,o,c)}return t}function qc(s){return Jt(s)?s.get():s}function gj({scrapeMotionValuesFromProps:s,createRenderState:t},a,r,o){return{latestValues:pj(a,r,o,s),renderState:t()}}function pj(s,t,a,r){const o={},c=r(s,{});for(const w in c)o[w]=qc(c[w]);let{initial:u,animate:m}=s;const g=yu(s),p=Mx(s);t&&p&&!g&&s.inherit!==!1&&(u===void 0&&(u=t.initial),m===void 0&&(m=t.animate));let y=a?a.initial===!1:!1;y=y||u===!1;const b=y?m:u;if(b&&typeof b!="boolean"&&!pu(b)){const w=Array.isArray(b)?b:[b];for(let _=0;_<w.length;_++){const E=A0(s,w[_]);if(E){const{transitionEnd:k,transition:T,...U}=E;for(const V in U){let M=U[V];if(Array.isArray(M)){const K=y?M.length-1:0;M=M[K]}M!==null&&(o[V]=M)}for(const V in k)o[V]=k[V]}}}return o}const $x=s=>(t,a)=>{const r=B.useContext(gu),o=B.useContext(mu),c=()=>gj(s,t,r,o);return a?c():e0(c)};function C0(s,t,a){var c;const{style:r}=s,o={};for(const u in r)(Jt(r[u])||t.style&&Jt(t.style[u])||Ux(u,s)||((c=a==null?void 0:a.getValue(u))==null?void 0:c.liveStyle)!==void 0)&&(o[u]=r[u]);return o}const yj=$x({scrapeMotionValuesFromProps:C0,createRenderState:j0});function Px(s,t,a){const r=C0(s,t,a);for(const o in s)if(Jt(s[o])||Jt(t[o])){const c=kr.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[c]=s[o]}return r}const vj=$x({scrapeMotionValuesFromProps:Px,createRenderState:Bx}),bj=Symbol.for("motionComponentSymbol");function fr(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function xj(s,t,a){return B.useCallback(r=>{r&&s.onMount&&s.onMount(r),t&&(r?t.mount(r):t.unmount()),a&&(typeof a=="function"?a(r):fr(a)&&(a.current=r))},[t])}const N0=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wj="framerAppearId",Hx="data-"+N0(wj),Ix=B.createContext({});function Sj(s,t,a,r,o){var k,T;const{visualElement:c}=B.useContext(gu),u=B.useContext(Dx),m=B.useContext(mu),g=B.useContext(S0).reducedMotion,p=B.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(s,{visualState:t,parent:c,props:a,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const y=p.current,b=B.useContext(Ix);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&_j(p.current,a,o,b);const w=B.useRef(!1);B.useInsertionEffect(()=>{y&&w.current&&y.update(a,m)});const _=a[Hx],E=B.useRef(!!_&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,_))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,_)));return Vb(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),E.current&&y.animationState&&y.animationState.animateChanges())}),B.useEffect(()=>{y&&(!E.current&&y.animationState&&y.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)==null||U.call(window,_)}),E.current=!1),y.enteringChildren=void 0)}),y}function _j(s,t,a,r){const{layoutId:o,layout:c,drag:u,dragConstraints:m,layoutScroll:g,layoutRoot:p,layoutCrossfade:y}=t;s.projection=new a(s.latestValues,t["data-framer-portal-id"]?void 0:Fx(s.parent)),s.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||m&&fr(m),visualElement:s,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:g,layoutRoot:p})}function Fx(s){if(s)return s.options.allowProjection!==!1?s.projection:Fx(s.parent)}function $h(s,{forwardMotionProps:t=!1}={},a,r){a&&JE(a);const o=k0(s)?vj:yj;function c(m,g){let p;const y={...B.useContext(S0),...m,layoutId:Tj(m)},{isStatic:b}=y,w=tj(m),_=o(m,b);if(!b&&t0){Ej();const E=jj(y);p=E.MeasureLayout,w.visualElement=Sj(s,_,y,r,E.ProjectionNode)}return h.jsxs(gu.Provider,{value:w,children:[p&&w.visualElement?h.jsx(p,{visualElement:w.visualElement,...y}):null,mj(s,m,xj(_,w.visualElement,g),_,b,t)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const u=B.forwardRef(c);return u[bj]=s,u}function Tj({layoutId:s}){const t=B.useContext(Wf).id;return t&&s!==void 0?t+"-"+s:s}function Ej(s,t){B.useContext(Dx).strict}function jj(s){const{drag:t,layout:a}=wr;if(!t&&!a)return{};const r={...t,...a};return{MeasureLayout:t!=null&&t.isEnabled(s)||a!=null&&a.isEnabled(s)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function kj(s,t){if(typeof Proxy>"u")return $h;const a=new Map,r=(c,u)=>$h(c,u,s,t),o=(c,u)=>r(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?r:(a.has(u)||a.set(u,$h(u,void 0,s,t)),a.get(u))})}function qx({top:s,left:t,right:a,bottom:r}){return{x:{min:t,max:a},y:{min:s,max:r}}}function Aj({x:s,y:t}){return{top:t.min,right:s.max,bottom:t.max,left:s.min}}function Cj(s,t){if(!t)return s;const a=t({x:s.left,y:s.top}),r=t({x:s.right,y:s.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function Ph(s){return s===void 0||s===1}function _f({scale:s,scaleX:t,scaleY:a}){return!Ph(s)||!Ph(t)||!Ph(a)}function si(s){return _f(s)||Gx(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function Gx(s){return ev(s.x)||ev(s.y)}function ev(s){return s&&s!=="0%"}function su(s,t,a){const r=s-a,o=t*r;return a+o}function tv(s,t,a,r,o){return o!==void 0&&(s=su(s,o,r)),su(s,a,r)+t}function Tf(s,t=0,a=1,r,o){s.min=tv(s.min,t,a,r,o),s.max=tv(s.max,t,a,r,o)}function Kx(s,{x:t,y:a}){Tf(s.x,t.translate,t.scale,t.originPoint),Tf(s.y,a.translate,a.scale,a.originPoint)}const nv=.999999999999,sv=1.0000000000001;function Nj(s,t,a,r=!1){const o=a.length;if(!o)return;t.x=t.y=1;let c,u;for(let m=0;m<o;m++){c=a[m],u=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&gr(s,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,Kx(s,u)),r&&si(c.latestValues)&&gr(s,c.latestValues))}t.x<sv&&t.x>nv&&(t.x=1),t.y<sv&&t.y>nv&&(t.y=1)}function mr(s,t){s.min=s.min+t,s.max=s.max+t}function av(s,t,a,r,o=.5){const c=dt(s.min,s.max,o);Tf(s,t,a,c,r)}function gr(s,t){av(s.x,t.x,t.scaleX,t.scale,t.originX),av(s.y,t.y,t.scaleY,t.scale,t.originY)}function Yx(s,t){return qx(Cj(s.getBoundingClientRect(),t))}function Oj(s,t,a){const r=Yx(s,a),{scroll:o}=t;return o&&(mr(r.x,o.offset.x),mr(r.y,o.offset.y)),r}const iv=()=>({translate:0,scale:1,origin:0,originPoint:0}),pr=()=>({x:iv(),y:iv()}),rv=()=>({min:0,max:0}),Rt=()=>({x:rv(),y:rv()}),Ef={current:null},Xx={current:!1};function Dj(){if(Xx.current=!0,!!t0)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ef.current=s.matches;s.addEventListener("change",t),t()}else Ef.current=!1}const Rj=new WeakMap;function Mj(s,t,a){for(const r in t){const o=t[r],c=a[r];if(Jt(o))s.addValue(r,o);else if(Jt(c))s.addValue(r,xr(o,{owner:s}));else if(c!==o)if(s.hasValue(r)){const u=s.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=s.getStaticValue(r);s.addValue(r,xr(u!==void 0?u:o,{owner:s}))}}for(const r in a)t[r]===void 0&&s.removeValue(r);return t}const lv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Uj{scrapeMotionValuesFromProps(t,a,r){return{}}constructor({parent:t,props:a,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=y0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=dn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ot.render(this.render,!1,!0))};const{latestValues:g,renderState:p}=u;this.latestValues=g,this.baseTarget={...g},this.initialValues=a.initial?{...g}:{},this.renderState=p,this.parent=t,this.props=a,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=yu(a),this.isVariantNode=Mx(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(a,{},this);for(const w in b){const _=b[w];g[w]!==void 0&&Jt(_)&&_.set(g[w])}}mount(t){var a;this.current=t,Rj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),Xx.current||Dj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ef.current,(a=this.parent)==null||a.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),_a(this.notifyUpdate),_a(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const a in this.events)this.events[a].clear();for(const a in this.features){const r=this.features[a];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ar.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=a.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{o(),c&&c(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wr){const a=wr[t];if(!a)continue;const{isEnabled:r,Feature:o}=a;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<lv.length;r++){const o=lv[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=t[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=Mj(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const r=this.values.get(t);a!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&a!==void 0&&(r=xr(a===null?void 0:a,{owner:this}),this.addValue(t,r)),r}readValue(t,a){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&($b(r)||Hb(r))?r=parseFloat(r):!IE(r)&&Ta.test(a)&&(r=Tx(t,a)),this.setBaseTarget(t,Jt(r)?r.get():r)),Jt(r)?r.get():r}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){var c;const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const u=A0(this.props,a,(c=this.presenceContext)==null?void 0:c.custom);u&&(r=u[t])}if(a&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Jt(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new r0),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){x0.render(this.render)}}class Jx extends Uj{constructor(){super(...arguments),this.KeyframeResolver=OE}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:r}){delete a[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Jt(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function Zx(s,{style:t,vars:a},r,o){const c=s.style;let u;for(u in t)c[u]=t[u];o==null||o.applyProjectionStyles(c,r);for(u in a)c.setProperty(u,a[u])}function zj(s){return window.getComputedStyle(s)}class Lj extends Jx{constructor(){super(...arguments),this.type="html",this.renderInstance=Zx}readValueFromInstance(t,a){var r;if(Ar.has(a))return(r=this.projection)!=null&&r.isProjecting?gf(a):JT(t,a);{const o=zj(t),c=(nx(a)?o.getPropertyValue(a):o[a])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(t,{transformPagePoint:a}){return Yx(t,a)}build(t,a,r){E0(t,a,r.transformTemplate)}scrapeMotionValuesFromProps(t,a,r){return C0(t,a,r)}}const Qx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bj(s,t,a,r){Zx(s,t,void 0,r);for(const o in t.attrs)s.setAttribute(Qx.has(o)?o:N0(o),t.attrs[o])}class Vj extends Jx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(Ar.has(a)){const r=_x(a);return r&&r.default||0}return a=Qx.has(a)?a:N0(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,r){return Px(t,a,r)}build(t,a,r){Lx(t,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,a,r,o){Bj(t,a,r,o)}mount(t){this.isSVGTag=Vx(t.tagName),super.mount(t)}}const $j=(s,t)=>k0(s)?new Vj(t):new Lj(t,{allowProjection:s!==B.Fragment});function yr(s,t,a){const r=s.getProps();return A0(r,t,a!==void 0?a:r.custom,s)}const jf=s=>Array.isArray(s);function Pj(s,t,a){s.hasValue(t)?s.getValue(t).set(a):s.addValue(t,xr(a))}function Hj(s){return jf(s)?s[s.length-1]||0:s}function Ij(s,t){const a=yr(s,t);let{transitionEnd:r={},transition:o={},...c}=a||{};c={...c,...r};for(const u in c){const m=Hj(c[u]);Pj(s,u,m)}}function Fj(s){return!!(Jt(s)&&s.add)}function kf(s,t){const a=s.getValue("willChange");if(Fj(a))return a.add(t);if(!a&&Ps.WillChange){const r=new Ps.WillChange("auto");s.addValue("willChange",r),r.add(t)}}function Wx(s){return s.props[Hx]}const qj=s=>s!==null;function Gj(s,{repeat:t,repeatType:a="loop"},r){const o=s.filter(qj),c=t&&a!=="loop"&&t%2===1?0:o.length-1;return o[c]}const Kj={type:"spring",stiffness:500,damping:25,restSpeed:10},Yj=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),Xj={type:"keyframes",duration:.8},Jj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zj=(s,{keyframes:t})=>t.length>2?Xj:Ar.has(s)?s.startsWith("scale")?Yj(t[1]):Kj:Jj;function Qj({when:s,delay:t,delayChildren:a,staggerChildren:r,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:m,from:g,elapsed:p,...y}){return!!Object.keys(y).length}const O0=(s,t,a,r={},o,c)=>u=>{const m=v0(r,s)||{},g=m.delay||r.delay||0;let{elapsed:p=0}=r;p=p-us(g);const y={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-p,onUpdate:w=>{t.set(w),m.onUpdate&&m.onUpdate(w)},onComplete:()=>{u(),m.onComplete&&m.onComplete()},name:s,motionValue:t,element:c?void 0:o};Qj(m)||Object.assign(y,Zj(s,y)),y.duration&&(y.duration=us(y.duration)),y.repeatDelay&&(y.repeatDelay=us(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(xf(y),y.delay===0&&(b=!0)),(Ps.instantAnimations||Ps.skipAnimations)&&(b=!0,xf(y),y.delay=0),y.allowFlatten=!m.type&&!m.ease,b&&!c&&t.get()!==void 0){const w=Gj(y.keyframes,m);if(w!==void 0){ot.update(()=>{y.onUpdate(w),y.onComplete()});return}}return m.isSync?new p0(y):new bE(y)};function Wj({protectedKeys:s,needsAnimating:t},a){const r=s.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,r}function e1(s,t,{delay:a=0,transitionOverride:r,type:o}={}){let{transition:c=s.getDefaultTransition(),transitionEnd:u,...m}=t;r&&(c=r);const g=[],p=o&&s.animationState&&s.animationState.getState()[o];for(const y in m){const b=s.getValue(y,s.latestValues[y]??null),w=m[y];if(w===void 0||p&&Wj(p,y))continue;const _={delay:a,...v0(c||{},y)},E=b.get();if(E!==void 0&&!b.isAnimating&&!Array.isArray(w)&&w===E&&!_.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const U=Wx(s);if(U){const V=window.MotionHandoffAnimation(U,y,ot);V!==null&&(_.startTime=V,k=!0)}}kf(s,y),b.start(O0(y,b,w,s.shouldReduceMotion&&xx.has(y)?{type:!1}:_,s,k));const T=b.animation;T&&g.push(T)}return u&&Promise.all(g).then(()=>{ot.update(()=>{u&&Ij(s,u)})}),g}function t1(s,t,a,r=0,o=1){const c=Array.from(s).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=s.size,m=(u-1)*r;return typeof a=="function"?a(c,u):o===1?c*r:m-c*r}function Af(s,t,a={}){var g;const r=yr(s,t,a.type==="exit"?(g=s.presenceContext)==null?void 0:g.custom:void 0);let{transition:o=s.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(o=a.transitionOverride);const c=r?()=>Promise.all(e1(s,r,a)):()=>Promise.resolve(),u=s.variantChildren&&s.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:b,staggerDirection:w}=o;return ek(s,t,p,y,b,w,a)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,y]=m==="beforeChildren"?[c,u]:[u,c];return p().then(()=>y())}else return Promise.all([c(),u(a.delay)])}function ek(s,t,a=0,r=0,o=0,c=1,u){const m=[];for(const g of s.variantChildren)g.notify("AnimationStart",t),m.push(Af(g,t,{...u,delay:a+(typeof r=="function"?0:r)+t1(s.variantChildren,g,r,o,c)}).then(()=>g.notify("AnimationComplete",t)));return Promise.all(m)}function tk(s,t,a={}){s.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(c=>Af(s,c,a));r=Promise.all(o)}else if(typeof t=="string")r=Af(s,t,a);else{const o=typeof t=="function"?yr(s,t,a.custom):t;r=Promise.all(e1(s,o,a))}return r.then(()=>{s.notify("AnimationComplete",t)})}function n1(s,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==s.length)return!1;for(let r=0;r<a;r++)if(t[r]!==s[r])return!1;return!0}const nk=T0.length;function s1(s){if(!s)return;if(!s.isControllingVariants){const a=s.parent?s1(s.parent)||{}:{};return s.props.initial!==void 0&&(a.initial=s.props.initial),a}const t={};for(let a=0;a<nk;a++){const r=T0[a],o=s.props[r];(eo(o)||o===!1)&&(t[r]=o)}return t}const sk=[..._0].reverse(),ak=_0.length;function ik(s){return t=>Promise.all(t.map(({animation:a,options:r})=>tk(s,a,r)))}function rk(s){let t=ik(s),a=ov(),r=!0;const o=g=>(p,y)=>{var w;const b=yr(s,y,g==="exit"?(w=s.presenceContext)==null?void 0:w.custom:void 0);if(b){const{transition:_,transitionEnd:E,...k}=b;p={...p,...k,...E}}return p};function c(g){t=g(s)}function u(g){const{props:p}=s,y=s1(s.parent)||{},b=[],w=new Set;let _={},E=1/0;for(let T=0;T<ak;T++){const U=sk[T],V=a[U],M=p[U]!==void 0?p[U]:y[U],K=eo(M),te=U===g?V.isActive:null;te===!1&&(E=T);let ne=M===y[U]&&M!==p[U]&&K;if(ne&&r&&s.manuallyAnimateOnMount&&(ne=!1),V.protectedKeys={..._},!V.isActive&&te===null||!M&&!V.prevProp||pu(M)||typeof M=="boolean")continue;const J=lk(V.prevProp,M);let W=J||U===g&&V.isActive&&!ne&&K||T>E&&K,ae=!1;const ge=Array.isArray(M)?M:[M];let ke=ge.reduce(o(U),{});te===!1&&(ke={});const{prevResolvedValues:Fe={}}=V,ht={...Fe,...ke},bt=G=>{W=!0,w.has(G)&&(ae=!0,w.delete(G)),V.needsAnimating[G]=!0;const ce=s.getValue(G);ce&&(ce.liveStyle=!1)};for(const G in ht){const ce=ke[G],Ce=Fe[G];if(_.hasOwnProperty(G))continue;let Ne=!1;jf(ce)&&jf(Ce)?Ne=!n1(ce,Ce):Ne=ce!==Ce,Ne?ce!=null?bt(G):w.add(G):ce!==void 0&&w.has(G)?bt(G):V.protectedKeys[G]=!0}V.prevProp=M,V.prevResolvedValues=ke,V.isActive&&(_={..._,...ke}),r&&s.blockInitialAnimation&&(W=!1);const et=ne&&J;W&&(!et||ae)&&b.push(...ge.map(G=>{const ce={type:U};if(typeof G=="string"&&r&&!et&&s.manuallyAnimateOnMount&&s.parent){const{parent:Ce}=s,Ne=yr(Ce,G);if(Ce.enteringChildren&&Ne){const{delayChildren:O}=Ne.transition||{};ce.delay=t1(Ce.enteringChildren,s,O)}}return{animation:G,options:ce}}))}if(w.size){const T={};if(typeof p.initial!="boolean"){const U=yr(s,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(T.transition=U.transition)}w.forEach(U=>{const V=s.getBaseTarget(U),M=s.getValue(U);M&&(M.liveStyle=!0),T[U]=V??null}),b.push({animation:T})}let k=!!b.length;return r&&(p.initial===!1||p.initial===p.animate)&&!s.manuallyAnimateOnMount&&(k=!1),r=!1,k?t(b):Promise.resolve()}function m(g,p){var b;if(a[g].isActive===p)return Promise.resolve();(b=s.variantChildren)==null||b.forEach(w=>{var _;return(_=w.animationState)==null?void 0:_.setActive(g,p)}),a[g].isActive=p;const y=u(g);for(const w in a)a[w].protectedKeys={};return y}return{animateChanges:u,setActive:m,setAnimateFunction:c,getState:()=>a,reset:()=>{a=ov()}}}function lk(s,t){return typeof t=="string"?t!==s:Array.isArray(t)?!n1(t,s):!1}function Wa(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ov(){return{animate:Wa(!0),whileInView:Wa(),whileHover:Wa(),whileTap:Wa(),whileDrag:Wa(),whileFocus:Wa(),exit:Wa()}}class Ea{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ok extends Ea{constructor(t){super(t),t.animationState||(t.animationState=rk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();pu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ck=0;class uk extends Ea{constructor(){super(...arguments),this.id=ck++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);a&&!t&&o.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const dk={animation:{Feature:ok},exit:{Feature:uk}};function to(s,t,a,r={passive:!0}){return s.addEventListener(t,a,r),()=>s.removeEventListener(t,a)}function co(s){return{point:{x:s.pageX,y:s.pageY}}}const hk=s=>t=>w0(t)&&s(t,co(t));function Yl(s,t,a,r){return to(s,t,hk(a),r)}const a1=1e-4,fk=1-a1,mk=1+a1,i1=.01,gk=0-i1,pk=0+i1;function tn(s){return s.max-s.min}function yk(s,t,a){return Math.abs(s-t)<=a}function cv(s,t,a,r=.5){s.origin=r,s.originPoint=dt(t.min,t.max,s.origin),s.scale=tn(a)/tn(t),s.translate=dt(a.min,a.max,s.origin)-s.originPoint,(s.scale>=fk&&s.scale<=mk||isNaN(s.scale))&&(s.scale=1),(s.translate>=gk&&s.translate<=pk||isNaN(s.translate))&&(s.translate=0)}function Xl(s,t,a,r){cv(s.x,t.x,a.x,r?r.originX:void 0),cv(s.y,t.y,a.y,r?r.originY:void 0)}function uv(s,t,a){s.min=a.min+t.min,s.max=s.min+tn(t)}function vk(s,t,a){uv(s.x,t.x,a.x),uv(s.y,t.y,a.y)}function dv(s,t,a){s.min=t.min-a.min,s.max=s.min+tn(t)}function au(s,t,a){dv(s.x,t.x,a.x),dv(s.y,t.y,a.y)}function On(s){return[s("x"),s("y")]}const r1=({current:s})=>s?s.ownerDocument.defaultView:null,hv=(s,t)=>Math.abs(s-t);function bk(s,t){const a=hv(s.x,t.x),r=hv(s.y,t.y);return Math.sqrt(a**2+r**2)}class l1{constructor(t,a,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ih(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=bk(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!E)return;const{point:k}=w,{timestamp:T}=qt;this.history.push({...k,timestamp:T});const{onStart:U,onMove:V}=this.handlers;_||(U&&U(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Hh(_,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:E,onSessionEnd:k,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=Ih(w.type==="pointercancel"?this.lastMoveEventInfo:Hh(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(w,U),k&&k(w,U)},!w0(t))return;this.dragSnapToOrigin=c,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const m=co(t),g=Hh(m,this.transformPagePoint),{point:p}=g,{timestamp:y}=qt;this.history=[{...p,timestamp:y}];const{onSessionStart:b}=a;b&&b(t,Ih(g,this.history)),this.removeListeners=ro(Yl(this.contextWindow,"pointermove",this.handlePointerMove),Yl(this.contextWindow,"pointerup",this.handlePointerUp),Yl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),_a(this.updatePoint)}}function Hh(s,t){return t?{point:t(s.point)}:s}function fv(s,t){return{x:s.x-t.x,y:s.y-t.y}}function Ih({point:s},t){return{point:s,delta:fv(s,o1(t)),offset:fv(s,xk(t)),velocity:wk(t,.1)}}function xk(s){return s[0]}function o1(s){return s[s.length-1]}function wk(s,t){if(s.length<2)return{x:0,y:0};let a=s.length-1,r=null;const o=o1(s);for(;a>=0&&(r=s[a],!(o.timestamp-r.timestamp>us(t)));)a--;if(!r)return{x:0,y:0};const c=Dn(o.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-r.x)/c,y:(o.y-r.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Sk(s,{min:t,max:a},r){return t!==void 0&&s<t?s=r?dt(t,s,r.min):Math.max(s,t):a!==void 0&&s>a&&(s=r?dt(a,s,r.max):Math.min(s,a)),s}function mv(s,t,a){return{min:t!==void 0?s.min+t:void 0,max:a!==void 0?s.max+a-(s.max-s.min):void 0}}function _k(s,{top:t,left:a,bottom:r,right:o}){return{x:mv(s.x,a,o),y:mv(s.y,t,r)}}function gv(s,t){let a=t.min-s.min,r=t.max-s.max;return t.max-t.min<s.max-s.min&&([a,r]=[r,a]),{min:a,max:r}}function Tk(s,t){return{x:gv(s.x,t.x),y:gv(s.y,t.y)}}function Ek(s,t){let a=.5;const r=tn(s),o=tn(t);return o>r?a=Zl(t.min,t.max-r,s.min):r>o&&(a=Zl(s.min,s.max-o,t.min)),$s(0,1,a)}function jk(s,t){const a={};return t.min!==void 0&&(a.min=t.min-s.min),t.max!==void 0&&(a.max=t.max-s.min),a}const Cf=.35;function kk(s=Cf){return s===!1?s=0:s===!0&&(s=Cf),{x:pv(s,"left","right"),y:pv(s,"top","bottom")}}function pv(s,t,a){return{min:yv(s,t),max:yv(s,a)}}function yv(s,t){return typeof s=="number"?s:s[t]||0}const Ak=new WeakMap;class Ck{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=b=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(co(b).point)},u=(b,w)=>{const{drag:_,dragPropagation:E,onDragStart:k}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UE(_),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),On(U=>{let V=this.getAxisMotionValue(U).get()||0;if(ds.test(V)){const{projection:M}=this.visualElement;if(M&&M.layout){const K=M.layout.layoutBox[U];K&&(V=tn(K)*(parseFloat(V)/100))}}this.originPoint[U]=V}),k&&ot.postRender(()=>k(b,w)),kf(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},m=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:k,onDrag:T}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:U}=w;if(E&&this.currentDirection===null){this.currentDirection=Nk(U),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,U),this.updateAxis("y",w.point,U),this.visualElement.render(),T&&T(b,w)},g=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>On(b=>{var w;return this.getAnimationState(b)==="paused"&&((w=this.getAxisMotionValue(b).animation)==null?void 0:w.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new l1(t,{onSessionStart:c,onStart:u,onMove:m,onSessionEnd:g,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:r1(this.visualElement)})}stop(t,a){const r=t||this.latestPointerEvent,o=a||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:m}=this.getProps();m&&ot.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,r){const{drag:o}=this.getProps();if(!r||!Oc(t,o,this.currentDirection))return;const c=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=Sk(u,this.constraints[t],this.elastic[t])),c.set(u)}resolveConstraints(){var c;const{dragConstraints:t,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,o=this.constraints;t&&fr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=_k(r.layoutBox,t):this.constraints=!1,this.elastic=kk(a),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&On(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=jk(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!fr(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=Oj(r,o.root,this.visualElement.getTransformPagePoint());let u=Tk(o.layout.layoutBox,c);if(a){const m=a(Aj(u));this.hasMutatedConstraints=!!m,m&&(u=qx(m))}return u}startAnimation(t){const{drag:a,dragMomentum:r,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},p=On(y=>{if(!Oc(y,a,this.currentDirection))return;let b=g&&g[y]||{};u&&(b={min:0,max:0});const w=o?200:1e6,_=o?40:1e7,E={type:"inertia",velocity:r?t[y]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...c,...b};return this.startAxisValueAnimation(y,E)});return Promise.all(p).then(m)}startAxisValueAnimation(t,a){const r=this.getAxisMotionValue(t);return kf(this.visualElement,t),r.start(O0(t,r,0,a,this.visualElement,!1))}stopAnimation(){On(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){On(t=>{var a;return(a=this.getAxisMotionValue(t).animation)==null?void 0:a.pause()})}getAnimationState(t){var a;return(a=this.getAxisMotionValue(t).animation)==null?void 0:a.state}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[a];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){On(a=>{const{drag:r}=this.getProps();if(!Oc(a,r,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(a);if(o&&o.layout){const{min:u,max:m}=o.layout.layoutBox[a];c.set(t[a]-dt(u,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!fr(a)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};On(u=>{const m=this.getAxisMotionValue(u);if(m&&this.constraints!==!1){const g=m.get();o[u]=Ek({min:g,max:g},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),On(u=>{if(!Oc(u,t,null))return;const m=this.getAxisMotionValue(u),{min:g,max:p}=this.constraints[u];m.set(dt(g,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;Ak.set(this.visualElement,this);const t=this.visualElement.current,a=Yl(t,"pointerdown",g=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(g)}),r=()=>{const{dragConstraints:g}=this.getProps();fr(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ot.read(r);const u=to(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:p})=>{this.isDragging&&p&&(On(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=g[y].translate,b.set(b.get()+g[y].translate))}),this.visualElement.render())}));return()=>{u(),a(),c(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=Cf,dragMomentum:m=!0}=t;return{...t,drag:a,dragDirectionLock:r,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:m}}}function Oc(s,t,a){return(t===!0||t===s)&&(a===null||a===s)}function Nk(s,t=10){let a=null;return Math.abs(s.y)>t?a="y":Math.abs(s.x)>t&&(a="x"),a}class Ok extends Ea{constructor(t){super(t),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new Ck(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const vv=s=>(t,a)=>{s&&ot.postRender(()=>s(t,a))};class Dk extends Ea{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(t){this.session=new l1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:r1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:vv(t),onStart:vv(a),onMove:r,onEnd:(c,u)=>{delete this.session,o&&ot.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=Yl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Fh=!1;class Rk extends B.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r,layoutId:o}=this.props,{projection:c}=t;c&&(a.group&&a.group.add(c),r&&r.register&&o&&r.register(c),Fh&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Gc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:r,drag:o,isPresent:c}=this.props,{projection:u}=r;return u&&(u.isPresent=c,Fh=!0,o||t.layoutDependency!==a||a===void 0||t.isPresent!==c?u.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?u.promote():u.relegate()||ot.postRender(()=>{const m=u.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),x0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:o}=t;Fh=!0,o&&(o.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function c1(s){const[t,a]=Ox(),r=B.useContext(Wf);return h.jsx(Rk,{...s,layoutGroup:r,switchLayoutGroup:B.useContext(Ix),isPresent:t,safeToRemove:a})}function Mk(s,t,a){const r=Jt(s)?s:xr(s);return r.start(O0("",r,t,a)),r.animation}const Uk=(s,t)=>s.depth-t.depth;class zk{constructor(){this.children=[],this.isDirty=!1}add(t){n0(this.children,t),this.isDirty=!0}remove(t){s0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Uk),this.isDirty=!1,this.children.forEach(t)}}function Lk(s,t){const a=dn.now(),r=({timestamp:o})=>{const c=o-a;c>=t&&(_a(r),s(c-t))};return ot.setup(r,!0),()=>_a(r)}const u1=["TopLeft","TopRight","BottomLeft","BottomRight"],Bk=u1.length,bv=s=>typeof s=="string"?parseFloat(s):s,xv=s=>typeof s=="number"||be.test(s);function Vk(s,t,a,r,o,c){o?(s.opacity=dt(0,a.opacity??1,$k(r)),s.opacityExit=dt(t.opacity??1,0,Pk(r))):c&&(s.opacity=dt(t.opacity??1,a.opacity??1,r));for(let u=0;u<Bk;u++){const m=`border${u1[u]}Radius`;let g=wv(t,m),p=wv(a,m);if(g===void 0&&p===void 0)continue;g||(g=0),p||(p=0),g===0||p===0||xv(g)===xv(p)?(s[m]=Math.max(dt(bv(g),bv(p),r),0),(ds.test(p)||ds.test(g))&&(s[m]+="%")):s[m]=p}(t.rotate||a.rotate)&&(s.rotate=dt(t.rotate||0,a.rotate||0,r))}function wv(s,t){return s[t]!==void 0?s[t]:s.borderRadius}const $k=d1(0,.5,Jb),Pk=d1(.5,.95,Rn);function d1(s,t,a){return r=>r<s?0:r>t?1:a(Zl(s,t,r))}function Sv(s,t){s.min=t.min,s.max=t.max}function Xn(s,t){Sv(s.x,t.x),Sv(s.y,t.y)}function _v(s,t){s.translate=t.translate,s.scale=t.scale,s.originPoint=t.originPoint,s.origin=t.origin}function Tv(s,t,a,r,o){return s-=t,s=su(s,1/a,r),o!==void 0&&(s=su(s,1/o,r)),s}function Hk(s,t=0,a=1,r=.5,o,c=s,u=s){if(ds.test(t)&&(t=parseFloat(t),t=dt(u.min,u.max,t/100)-u.min),typeof t!="number")return;let m=dt(c.min,c.max,r);s===c&&(m-=t),s.min=Tv(s.min,t,a,m,o),s.max=Tv(s.max,t,a,m,o)}function Ev(s,t,[a,r,o],c,u){Hk(s,t[a],t[r],t[o],t.scale,c,u)}const Ik=["x","scaleX","originX"],Fk=["y","scaleY","originY"];function jv(s,t,a,r){Ev(s.x,t,Ik,a?a.x:void 0,r?r.x:void 0),Ev(s.y,t,Fk,a?a.y:void 0,r?r.y:void 0)}function kv(s){return s.translate===0&&s.scale===1}function h1(s){return kv(s.x)&&kv(s.y)}function Av(s,t){return s.min===t.min&&s.max===t.max}function qk(s,t){return Av(s.x,t.x)&&Av(s.y,t.y)}function Cv(s,t){return Math.round(s.min)===Math.round(t.min)&&Math.round(s.max)===Math.round(t.max)}function f1(s,t){return Cv(s.x,t.x)&&Cv(s.y,t.y)}function Nv(s){return tn(s.x)/tn(s.y)}function Ov(s,t){return s.translate===t.translate&&s.scale===t.scale&&s.originPoint===t.originPoint}class Gk{constructor(){this.members=[]}add(t){n0(this.members,t),t.scheduleRender()}remove(t){if(s0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(o=>t===o);if(a===0)return!1;let r;for(let o=a;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(t,a){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,a&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:r}=t;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kk(s,t,a){let r="";const o=s.x.translate/t.x,c=s.y.translate/t.y,u=(a==null?void 0:a.z)||0;if((o||c||u)&&(r=`translate3d(${o}px, ${c}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:p,rotate:y,rotateX:b,rotateY:w,skewX:_,skewY:E}=a;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),b&&(r+=`rotateX(${b}deg) `),w&&(r+=`rotateY(${w}deg) `),_&&(r+=`skewX(${_}deg) `),E&&(r+=`skewY(${E}deg) `)}const m=s.x.scale*t.x,g=s.y.scale*t.y;return(m!==1||g!==1)&&(r+=`scale(${m}, ${g})`),r||"none"}const qh=["","X","Y","Z"],Yk=1e3;let Xk=0;function Gh(s,t,a,r){const{latestValues:o}=t;o[s]&&(a[s]=o[s],t.setStaticValue(s,0),r&&(r[s]=0))}function m1(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:t}=s.options;if(!t)return;const a=Wx(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:o,layoutId:c}=s.options;window.MotionCancelOptimisedAnimation(a,"transform",ot,!(o||c))}const{parent:r}=s;r&&!r.hasCheckedOptimisedAppear&&m1(r)}function g1({attachResizeListener:s,defaultParent:t,measureScroll:a,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},m=t==null?void 0:t()){this.id=Xk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Qk),this.nodes.forEach(nA),this.nodes.forEach(sA),this.nodes.forEach(Wk)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new zk)}addEventListener(u,m){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new r0),this.eventHandlers.get(u).add(m)}notifyListeners(u,...m){const g=this.eventHandlers.get(u);g&&g.notify(...m)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Nx(u)&&!PE(u),this.instance=u;const{layoutId:m,layout:g,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||m)&&(this.isLayoutDirty=!0),s){let y,b=0;const w=()=>this.root.updateBlockedByResize=!1;ot.read(()=>{b=window.innerWidth}),s(u,()=>{const _=window.innerWidth;_!==b&&(b=_,this.root.updateBlockedByResize=!0,y&&y(),y=Lk(w,250),Gc.hasAnimatedSinceResize&&(Gc.hasAnimatedSinceResize=!1,this.nodes.forEach(Mv)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&p&&(m||g)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||oA,{onLayoutAnimationStart:k,onLayoutAnimationComplete:T}=p.getProps(),U=!this.targetLayout||!f1(this.targetLayout,_),V=!b&&w;if(this.options.layoutRoot||this.resumeFrom||V||b&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...v0(E,"layout"),onPlay:k,onComplete:T};(p.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(y,V)}else b||Mv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_a(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aA),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&m1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Dv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Rv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tA),this.nodes.forEach(Jk),this.nodes.forEach(Zk)):this.nodes.forEach(Rv),this.clearAllSnapshots();const m=dn.now();qt.delta=$s(0,1e3/60,m-qt.timestamp),qt.timestamp=m,qt.isProcessing=!0,Mh.update.process(qt),Mh.preRender.process(qt),Mh.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,x0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eA),this.sharedNodes.forEach(iA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tn(this.snapshot.measuredBox.x)&&!tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(m=!1),m&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:g,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!h1(this.projectionDelta),g=this.getTransformTemplate(),p=g?g(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(m||si(this.latestValues)||y)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return u&&(g=this.removeTransform(g)),cA(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return Rt();const m=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(uA))){const{scroll:y}=this.root;y&&(mr(m.x,y.offset.x),mr(m.y,y.offset.y))}return m}removeElementScroll(u){var g;const m=Rt();if(Xn(m,u),(g=this.scroll)!=null&&g.wasRoot)return m;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:b,options:w}=y;y!==this.root&&b&&w.layoutScroll&&(b.wasRoot&&Xn(m,u),mr(m.x,b.offset.x),mr(m.y,b.offset.y))}return m}applyTransform(u,m=!1){const g=Rt();Xn(g,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!m&&y.options.layoutScroll&&y.scroll&&y!==y.root&&gr(g,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),si(y.latestValues)&&gr(g,y.latestValues)}return si(this.latestValues)&&gr(g,this.latestValues),g}removeTransform(u){const m=Rt();Xn(m,u);for(let g=0;g<this.path.length;g++){const p=this.path[g];if(!p.instance||!si(p.latestValues))continue;_f(p.latestValues)&&p.updateSnapshot();const y=Rt(),b=p.measurePageBox();Xn(y,b),jv(m,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return si(this.latestValues)&&jv(m,this.latestValues),m}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var _;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!this.layout||!(y||b))return;this.resolvedRelativeTargetAt=qt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),Kx(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||_f(this.parent.latestValues)||Gx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,m,g){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),au(this.relativeTargetOrigin,m,g),Xn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var E;const u=this.getLead(),m=!!this.resumingFrom||this!==u;let g=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(g=!1),g)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Xn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;Nj(this.layoutCorrected,this.treeScale,this.path,m),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Rt());const{target:_}=u;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_v(this.prevProjectionDelta.x,this.projectionDelta.x),_v(this.prevProjectionDelta.y,this.projectionDelta.y)),Xl(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!Ov(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ov(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),u){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pr(),this.projectionDelta=pr(),this.projectionDeltaWithTransform=pr()}setAnimationOrigin(u,m=!1){const g=this.snapshot,p=g?g.latestValues:{},y={...this.latestValues},b=pr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const w=Rt(),_=g?g.source:void 0,E=this.layout?this.layout.source:void 0,k=_!==E,T=this.getStack(),U=!T||T.members.length<=1,V=!!(k&&!U&&this.options.crossfade===!0&&!this.path.some(lA));this.animationProgress=0;let M;this.mixTargetDelta=K=>{const te=K/1e3;Uv(b.x,u.x,te),Uv(b.y,u.y,te),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(au(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rA(this.relativeTarget,this.relativeTargetOrigin,w,te),M&&qk(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Rt()),Xn(M,this.relativeTarget)),k&&(this.animationValues=y,Vk(y,p,this.latestValues,te,V,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var m,g,p;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(p=(g=this.resumingFrom)==null?void 0:g.currentAnimation)==null||p.stop(),this.pendingAnimation&&(_a(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{Gc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xr(0)),this.currentAnimation=Mk(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),u.onUpdate&&u.onUpdate(y)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:m,target:g,layout:p,latestValues:y}=u;if(!(!m||!g||!p)){if(this!==u&&this.layout&&p&&p1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){g=this.target||Rt();const b=tn(this.layout.layoutBox.x);g.x.min=u.target.x.min,g.x.max=g.x.min+b;const w=tn(this.layout.layoutBox.y);g.y.min=u.target.y.min,g.y.max=g.y.min+w}Xn(m,g),gr(m,y),Xl(this.projectionDeltaWithTransform,this.layoutCorrected,m,y)}}registerSharedNode(u,m){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Gk),this.sharedNodes.get(u).add(m);const p=m.options.initialPromotionConfig;m.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(m):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var m;const{layoutId:u}=this.options;return u?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:u}=this.options;return u?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:m,preserveFollowOpacity:g}={}){const p=this.getStack();p&&p.promote(this,g),u&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let m=!1;const{latestValues:g}=u;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const p={};g.z&&Gh("z",u,p,this.animationValues);for(let y=0;y<qh.length;y++)Gh(`rotate${qh[y]}`,u,p,this.animationValues),Gh(`skew${qh[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=qc(m==null?void 0:m.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=qc(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!si(this.latestValues)&&(u.transform=g?g({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=Kk(this.projectionDeltaWithTransform,this.treeScale,y);g&&(b=g(y,b)),u.transform=b;const{x:w,y:_}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const E in Sf){if(y[E]===void 0)continue;const{correct:k,applyTo:T,isCSSVariable:U}=Sf[E],V=b==="none"?y[E]:k(y[E],p);if(T){const M=T.length;for(let K=0;K<M;K++)u[T[K]]=V}else U?this.options.visualElement.renderState.vars[E]=V:u[E]=V}this.options.layoutId&&(u.pointerEvents=p===this?qc(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var m;return(m=u.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach(Dv),this.root.sharedNodes.clear()}}}function Jk(s){s.updateLayout()}function Zk(s){var a;const t=((a=s.resumeFrom)==null?void 0:a.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&t&&s.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=s.layout,{animationType:c}=s.options,u=t.source!==s.layout.source;c==="size"?On(b=>{const w=u?t.measuredBox[b]:t.layoutBox[b],_=tn(w);w.min=r[b].min,w.max=w.min+_}):p1(c,t.layoutBox,r)&&On(b=>{const w=u?t.measuredBox[b]:t.layoutBox[b],_=tn(r[b]);w.max=w.min+_,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[b].max=s.relativeTarget[b].min+_)});const m=pr();Xl(m,r,t.layoutBox);const g=pr();u?Xl(g,s.applyTransform(o,!0),t.measuredBox):Xl(g,r,t.layoutBox);const p=!h1(m);let y=!1;if(!s.resumeFrom){const b=s.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:w,layout:_}=b;if(w&&_){const E=Rt();au(E,t.layoutBox,w.layoutBox);const k=Rt();au(k,r,_.layoutBox),f1(E,k)||(y=!0),b.options.layoutRoot&&(s.relativeTarget=k,s.relativeTargetOrigin=E,s.relativeParent=b)}}}s.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:g,layoutDelta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(s.isLead()){const{onExitComplete:r}=s.options;r&&r()}s.options.transition=void 0}function Qk(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function Wk(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function eA(s){s.clearSnapshot()}function Dv(s){s.clearMeasurements()}function Rv(s){s.isLayoutDirty=!1}function tA(s){const{visualElement:t}=s.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),s.resetTransform()}function Mv(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function nA(s){s.resolveTargetDelta()}function sA(s){s.calcProjection()}function aA(s){s.resetSkewAndRotation()}function iA(s){s.removeLeadSnapshot()}function Uv(s,t,a){s.translate=dt(t.translate,0,a),s.scale=dt(t.scale,1,a),s.origin=t.origin,s.originPoint=t.originPoint}function zv(s,t,a,r){s.min=dt(t.min,a.min,r),s.max=dt(t.max,a.max,r)}function rA(s,t,a,r){zv(s.x,t.x,a.x,r),zv(s.y,t.y,a.y,r)}function lA(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const oA={duration:.45,ease:[.4,0,.1,1]},Lv=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),Bv=Lv("applewebkit/")&&!Lv("chrome/")?Math.round:Rn;function Vv(s){s.min=Bv(s.min),s.max=Bv(s.max)}function cA(s){Vv(s.x),Vv(s.y)}function p1(s,t,a){return s==="position"||s==="preserve-aspect"&&!yk(Nv(t),Nv(a),.2)}function uA(s){var t;return s!==s.root&&((t=s.scroll)==null?void 0:t.wasRoot)}const dA=g1({attachResizeListener:(s,t)=>to(s,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kh={current:void 0},y1=g1({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Kh.current){const s=new dA({});s.mount(window),s.setOptions({layoutScroll:!0}),Kh.current=s}return Kh.current},resetTransform:(s,t)=>{s.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),hA={pan:{Feature:Dk},drag:{Feature:Ok,ProjectionNode:y1,MeasureLayout:c1}};function $v(s,t,a){const{props:r}=s;s.animationState&&r.whileHover&&s.animationState.setActive("whileHover",a==="Start");const o="onHover"+a,c=r[o];c&&ot.postRender(()=>c(t,co(t)))}class fA extends Ea{mount(){const{current:t}=this.node;t&&(this.unmount=zE(t,(a,r)=>($v(this.node,r,"Start"),o=>$v(this.node,o,"End"))))}unmount(){}}class mA extends Ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ro(to(this.node.current,"focus",()=>this.onFocus()),to(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pv(s,t,a){const{props:r}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&r.whileTap&&s.animationState.setActive("whileTap",a==="Start");const o="onTap"+(a==="End"?"":a),c=r[o];c&&ot.postRender(()=>c(t,co(t)))}class gA extends Ea{mount(){const{current:t}=this.node;t&&(this.unmount=$E(t,(a,r)=>(Pv(this.node,r,"Start"),(o,{success:c})=>Pv(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Nf=new WeakMap,Yh=new WeakMap,pA=s=>{const t=Nf.get(s.target);t&&t(s)},yA=s=>{s.forEach(pA)};function vA({root:s,...t}){const a=s||document;Yh.has(a)||Yh.set(a,{});const r=Yh.get(a),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(yA,{root:s,...t})),r[o]}function bA(s,t,a){const r=vA(t);return Nf.set(s,a),r.observe(s),()=>{Nf.delete(s),r.unobserve(s)}}const xA={some:0,all:1};class wA extends Ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:r,amount:o="some",once:c}=t,u={root:a?a.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:xA[o]},m=g=>{const{isIntersecting:p}=g;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),w=p?y:b;w&&w(g)};return bA(this.node.current,u,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(SA(t,a))&&this.startObserver()}unmount(){}}function SA({viewport:s={}},{viewport:t={}}={}){return a=>s[a]!==t[a]}const _A={inView:{Feature:wA},tap:{Feature:gA},focus:{Feature:mA},hover:{Feature:fA}},TA={layout:{ProjectionNode:y1,MeasureLayout:c1}},EA={...dk,..._A,...hA,...TA},je=kj(EA,$j),jA="https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest",Hv="Ascend",v1="https://hmnbdkwjgmwchuyhtmqh.supabase.co/functions/v1/google-auth",Iv={work:"9",personal:"10",meeting:"11",task:"7",focus:"5",break:"2",urgent:"4",later:"8",google:"1",demo:"3",move:"6"},kA=[{id:"1",hex:"#7986cb"},{id:"2",hex:"#33b679"},{id:"3",hex:"#8e24aa"},{id:"4",hex:"#e67c73"},{id:"5",hex:"#f6bf26"},{id:"6",hex:"#f4511e"},{id:"7",hex:"#039be5"},{id:"8",hex:"#616161"},{id:"9",hex:"#3f51b5"},{id:"10",hex:"#0b8043"},{id:"11",hex:"#d50000"}];function Fv(s){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function AA(s,t){const a=Fv(s),r=Fv(t);return!a||!r?1/0:Math.sqrt(Math.pow(a.r-r.r,2)+Math.pow(a.g-r.g,2)+Math.pow(a.b-r.b,2))}function CA(s){if(!s||!s.startsWith("#"))return"3";let t="3",a=1/0;for(const r of kA){const o=AA(s,r.hex);o<a&&(a=o,t=r.id)}return t}const b1={1:"Lavender",2:"Sage",3:"Grape (Vindruva)",4:"Flamingo",5:"Banana",6:"Tangerine",7:"Peacock",8:"Graphite",9:"Blueberry",10:"Basil",11:"Tomato"},NA={1:"#7986cb",2:"#33b679",3:"#8e24aa",4:"#e67c73",5:"#f6bf26",6:"#f4511e",7:"#039be5",8:"#616161",9:"#3f51b5",10:"#0b8043",11:"#d50000"};function OA(s){if(s)return NA[s]}function x1(s,t){if(s&&s.startsWith("#"))return CA(s);if(t){const a=t.toLowerCase();if(Iv[a])return Iv[a]}return"3"}let Sr=null,es=null,DA=!1,_r=null;const vu="ascend_calendar_id",w1="ascend_google_user";function RA(s){_r=s}async function D0(s,t={}){const a={"Content-Type":"application/json",...t.headers};return _r&&(a.Authorization=`Bearer ${_r}`),fetch(`${v1}${s}`,{...t,headers:a})}async function MA(){if(!_r)return{connected:!1};try{const s=await D0("/auth/google/status");return s.ok?await s.json():{connected:!1}}catch(s){return console.error("Error checking Google connection status:",s),{connected:!1}}}async function Kc(){if(!_r)return null;try{const s=await D0("/auth/google/token");if(!s.ok){const a=await s.json();if(a.needsReauth)return console.log("Google connection needs re-authorization"),null;throw new Error(a.error||"Failed to get token")}return Sr=(await s.json()).accessToken,Sr}catch(s){return console.error("Error getting access token:",s),null}}async function bu(){const s=await Kc();return s?(typeof gapi<"u"&&gapi.client&&gapi.client.setToken({access_token:s}),!0):!1}function UA(s){const t=encodeURIComponent(window.location.href);window.location.href=`${v1}/auth/google?userId=${s}&returnUrl=${t}`}async function zA(){if(!_r)return!1;try{return(await D0("/auth/google/disconnect",{method:"POST"})).ok?(Sr=null,S1(),!0):!1}catch(s){return console.error("Error disconnecting Google:",s),!1}}function S1(){localStorage.removeItem(vu),localStorage.removeItem(w1),es=null}function Of(s){try{localStorage.setItem(w1,JSON.stringify(s))}catch(t){console.error("Error saving user:",t)}}function LA(){const s=new URLSearchParams(window.location.search),t=s.get("google_connected"),a=s.get("google_email"),r=s.get("google_error");return r?(console.error("Google OAuth error:",r),window.history.replaceState({},"",window.location.pathname),null):t==="true"?(window.history.replaceState({},"",window.location.pathname),a&&Of({email:a}),{connected:!0,email:a||void 0}):null}async function BA(){const s=localStorage.getItem(vu);return s&&(es=s),new Promise((t,a)=>{if(typeof gapi>"u"){a(new Error("Google API not loaded"));return}gapi.load("client",async()=>{try{await gapi.client.init({discoveryDocs:[jA]}),DA=!0,console.log("Google API client initialized"),t()}catch(r){a(r)}})})}function qv(s){Sr=s,s&&typeof gapi<"u"&&gapi.client&&(gapi.client.setToken({access_token:s}),console.log("GAPI client token configured"))}function Gv(s){try{localStorage.setItem(vu,s)}catch(t){console.error("Error saving calendar ID:",t)}}async function _1(){if(!Sr)throw new Error("Not signed in to Google");try{const a=((await gapi.client.calendar.calendarList.list()).result.items||[]).find(c=>c.summary===Hv);if(a)return console.log("Found existing Ascend calendar:",a.id),es=a.id,Gv(a.id),a.id;console.log("Creating new Ascend calendar...");const o=(await gapi.client.calendar.calendars.insert({resource:{summary:Hv,description:"Tasks and timeboxes from Ascend - Your productivity workspace",timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result.id;console.log("Created Ascend calendar:",o);try{await gapi.client.calendar.calendarList.patch({calendarId:o,resource:{backgroundColor:"#7C3AED",foregroundColor:"#FFFFFF"}})}catch(c){console.log("Could not set calendar color (non-critical):",c)}return es=o,Gv(o),o}catch(s){throw console.error("Error finding/creating Ascend calendar:",s),s}}async function R0(){return es||await _1()}async function Kv(s,t,a=!0,r=!0){var u,m;if(!await bu())throw new Error("Google token expired. Please reconnect Google Calendar.");const c=[];try{let g=[];if(r)try{console.log("Fetching calendar list..."),g=(await gapi.client.calendar.calendarList.list()).result.items||[],console.log("Found calendars:",g.map(y=>({id:y.id,summary:y.summary})))}catch(p){if(((p==null?void 0:p.status)||((m=(u=p==null?void 0:p.result)==null?void 0:u.error)==null?void 0:m.code))===401)throw console.warn("Token expired (401). Please reconnect Google Calendar."),Sr=null,new Error("SESSION_EXPIRED");console.warn("Could not fetch calendar list:",p),g=[{id:"primary",summary:"Primary",backgroundColor:"#4285f4"}]}else g=[{id:"primary",summary:"Primary",backgroundColor:"#4285f4"}];for(const p of g){if(a&&p.id===es||p.accessRole==="freeBusyReader")continue;const y=p.accessRole==="owner"||p.accessRole==="writer";try{const _=((await gapi.client.calendar.events.list({calendarId:p.id,timeMin:s.toISOString(),timeMax:t.toISOString(),singleEvents:!0,orderBy:"startTime"})).result.items||[]).filter(E=>{var k;return(k=E.start)==null?void 0:k.dateTime});c.push(..._.map(E=>Yv(E,!1,p.summary||"Calendar",p.backgroundColor||"#4285f4",p.id,y)))}catch(b){no(b)?console.warn(`Calendar ${p.summary} not found (404), skipping...`):console.error(`Error fetching events from calendar ${p.summary}:`,b)}}if(a&&es)try{const y=(await gapi.client.calendar.events.list({calendarId:es,timeMin:s.toISOString(),timeMax:t.toISOString(),singleEvents:!0,orderBy:"startTime"})).result.items||[];c.push(...y.filter(b=>{var w;return(w=b.start)==null?void 0:w.dateTime}).map(b=>Yv(b,!0,"Ascend","#7C3AED",es,!0)))}catch(p){if(no(p)){console.warn("Ascend calendar not found (404), creating new one...");try{await xu()}catch(y){console.error("Failed to recreate Ascend calendar:",y)}}else console.error("Error fetching Ascend calendar events:",p)}return c}catch(g){throw console.error("Error fetching calendar events:",g),g}}function Yv(s,t,a="Calendar",r="#4285f4",o,c=!1){const u=new Date(s.start.dateTime),m=new Date(s.end.dateTime||s.start.dateTime),g=u.getHours()+u.getMinutes()/60,p=(m.getTime()-u.getTime())/(1e3*60*60),y=s.colorId?OA(s.colorId):void 0;return console.log(" Mapping Google event:",{title:s.summary,colorId:s.colorId,mappedColor:y,calendarColor:r}),{id:s.id,title:s.summary||"Untitled",start:g,duration:Math.max(.25,p),isGoogle:!0,isFromAscendCalendar:t,colorId:s.colorId,calendarName:a,calendarColor:y||r,calendarId:o,canEdit:c}}async function xu(){return console.log("Calendar not found (404). Resetting and creating new Ascend calendar..."),localStorage.removeItem(vu),es=null,await _1()}function no(s){var t,a;return(s==null?void 0:s.status)===404||((a=(t=s==null?void 0:s.result)==null?void 0:t.error)==null?void 0:a.code)===404||(s==null?void 0:s.code)===404}async function Xh(s,t,a,r=new Date,o,c){if(!await bu())throw new Error("Google token expired. Please reconnect Google Calendar.");let m=await R0();const g=new Date(r);g.setHours(Math.floor(t),Math.round(t%1*60),0,0);const p=new Date(g);p.setTime(g.getTime()+a*60*60*1e3);const y=x1(c,o);console.log(" Color mapping:",{input:{hexColor:c,tag:o},output:y,colorName:b1[y]||"Unknown"});const b={summary:s,colorId:y,description:o?`Tag: ${o}`:void 0,start:{dateTime:g.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},end:{dateTime:p.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}};console.log(" Sending to Google Calendar:",JSON.stringify(b,null,2));try{const w=await gapi.client.calendar.events.insert({calendarId:m,resource:b});return console.log("Created event in Ascend calendar:",w.result.id),w.result.id}catch(w){if(no(w)){console.warn("Calendar 404 detected, attempting recovery..."),m=await xu();const _=await gapi.client.calendar.events.insert({calendarId:m,resource:b});return console.log("Created event in new Ascend calendar:",_.result.id),_.result.id}throw console.error("Error creating calendar event:",w),w}}async function Xv(s){if(!await bu())throw new Error("Google token expired. Please reconnect Google Calendar.");const a=await R0();try{await gapi.client.calendar.events.delete({calendarId:a,eventId:s})}catch(r){if(no(r)){console.warn("Calendar or event not found (404), skipping delete:",s),await xu();return}throw console.error("Error deleting calendar event:",r),r}}async function Jh(s,t,a,r,o=new Date,c,u){if(!await bu())throw new Error("Google token expired. Please reconnect Google Calendar.");const g=c||await R0(),p=new Date(o);p.setHours(Math.floor(a),Math.round(a%1*60),0,0);const y=new Date(p);y.setTime(p.getTime()+r*60*60*1e3);const b=x1(u,null);console.log(" Update color mapping:",{input:{hexColor:u},output:b,colorName:b1[b]||"Unknown"});const w={summary:t,colorId:b,start:{dateTime:p.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},end:{dateTime:y.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}};console.log(" Updating Google Calendar event:",JSON.stringify(w,null,2));try{await gapi.client.calendar.events.update({calendarId:g,eventId:s,resource:w})}catch(_){if(no(_)){console.warn("Calendar or event not found (404), skipping update:",s),await xu();return}throw console.error("Error updating calendar event:",_),_}}const VA=S1,Zh=({streakCount:s,progressPercentage:t,size:a=48,className:r="",showCount:o=!0,label:c,value:u})=>{const m=Zf.useId(),g=Math.min(Math.max(t,0),100),p=g>80,y=g<20,b={animate:{scale:[1,1.05,1],rotate:[0,-1,1,0],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},w={animate:{opacity:[.6,.8,.6],scale:[.95,1,.95],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}},_="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.256 1.181-3.142A2.5 2.5 0 0 0 8.5 14.5z";return h.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[h.jsxs("div",{className:"relative flex items-center justify-center",style:{width:a,height:a},children:[h.jsxs(je.svg,{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"0",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",variants:p?b:y?w:{},animate:p||y?"animate":void 0,style:{filter:p?"drop-shadow(0 0 8px rgba(249,115,22,0.4))":void 0},children:[h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:`flame-gradient-${m}`,x1:"0",y1:"1",x2:"0",y2:"0",children:[h.jsx("stop",{offset:"0%",stopColor:"#ef4444"}),h.jsx("stop",{offset:"100%",stopColor:"#facc15"})]}),h.jsx("clipPath",{id:`clip-${m}`,children:h.jsx(je.rect,{x:"0",width:"24",initial:{y:24,height:0},animate:{y:24-24*(g/100),height:24*(g/100)},transition:{type:"spring",stiffness:50,damping:20}})})]}),h.jsx("path",{d:_,fill:"currentColor",className:"text-slate-200 dark:text-slate-800 opacity-20"}),h.jsx("g",{clipPath:`url(#clip-${m})`,children:h.jsx("path",{d:_,fill:`url(#flame-gradient-${m})`})})]}),p&&h.jsx(je.div,{className:"absolute rounded-full",style:{width:a*1.5,height:a*1.5,background:"radial-gradient(circle, rgba(251,146,60,0.2) 0%, rgba(239,68,68,0.05) 50%, transparent 70%)",filter:"blur(8px)",zIndex:-1},animate:{opacity:[.4,.7,.4],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),g===100&&h.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(6)].map((E,k)=>h.jsx(je.div,{className:"absolute w-1 h-1 bg-yellow-400 rounded-full",style:{left:"50%",top:"50%",boxShadow:"0 0 4px #fbbf24"},animate:{x:[0,(k%2===0?1:-1)*(15+Math.random()*15)],y:[0,(k<3?-1:1)*(15+Math.random()*15)],opacity:[0,1,0],scale:[0,1.2,0]},transition:{duration:2+Math.random(),repeat:1/0,delay:k*.4,ease:"easeInOut"}},k))})]}),o&&h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("span",{className:"text-2xl font-bold leading-none",style:{backgroundImage:"linear-gradient(to top, #ef4444, #facc15)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:u!==void 0?u:s}),(c||!c&&c!=="")&&h.jsx("span",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-wider leading-none mt-1",children:c||"Streak"})]})]})},$A=({habits:s})=>{const{activityMap:t,totalActivities:a,currentStreak:r}=B.useMemo(()=>{const m=new Map;let g=0;s.forEach(E=>{E.completedDates.forEach(k=>{const T=m.get(k)||0;m.set(k,T+1),g++})});let p=0;const y=new Date,b=E=>{const k=E.getFullYear(),T=String(E.getMonth()+1).padStart(2,"0"),U=String(E.getDate()).padStart(2,"0");return`${k}-${T}-${U}`};let w=new Date(y),_=b(w);if(m.has(_)?(p=1,w.setDate(w.getDate()-1)):(w.setDate(w.getDate()-1),_=b(w),m.has(_)?(p=1,w.setDate(w.getDate()-1)):p=0),p>0)for(;;){const E=b(w);if(m.has(E))p++,w.setDate(w.getDate()-1);else break}return{activityMap:m,totalActivities:g,currentStreak:p}},[s]),o=B.useMemo(()=>{const m=new Date;m.getDay();const y=7*53,b=[],_=6-m.getDay(),E=new Date(m);E.setDate(m.getDate()+_);for(let k=y-1;k>=0;k--){const T=new Date(E);T.setDate(E.getDate()-k);const U=T.getFullYear(),V=String(T.getMonth()+1).padStart(2,"0"),M=String(T.getDate()).padStart(2,"0"),K=`${U}-${V}-${M}`,te=t.get(K)||0;let ne=0;te===0?ne=0:te<=1?ne=1:te<=3?ne=2:te<=5?ne=3:ne=4,b.push({date:T,dateStr:K,count:te,level:ne})}return b},[t]),c=B.useMemo(()=>{const m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=[];for(let p=0;p<53;p++){const y=p*7;if(y>=o.length)break;const b=o[y].date;b.getDate()<=7&&g.push({text:m[b.getMonth()],colIndex:p})}return g},[o]),u=m=>{switch(m){case 0:return"bg-slate-100 dark:bg-slate-800";case 1:return"bg-purple-200 dark:bg-purple-900/40";case 2:return"bg-purple-300 dark:bg-purple-700/60";case 3:return"bg-purple-400 dark:bg-purple-600";case 4:return"bg-[#6F00FF] dark:bg-[#6F00FF] shadow-sm shadow-purple-500/30";default:return"bg-slate-100 dark:bg-slate-800"}};return h.jsxs("div",{className:"bg-white dark:bg-[#151e32] rounded-3xl p-6 shadow-sm dark:shadow-lg dark:shadow-black/20 border border-slate-200 dark:border-white/5 hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-purple-100 dark:bg-purple-500/10 p-2 rounded-xl",children:h.jsx(ql,{className:"text-[#6F00FF] dark:text-purple-400",size:20})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Consistency"}),h.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm hidden sm:block",children:[a," activities in the last year"]})]})]}),h.jsx("div",{className:"text-right",children:h.jsxs("div",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:[r," ",h.jsx("span",{className:"text-sm font-normal text-slate-400 dark:text-slate-500",children:"day streak"})]})})]}),h.jsx("div",{className:"overflow-x-auto pb-2 custom-scrollbar",children:h.jsxs("div",{className:"min-w-[700px]",children:[h.jsx("div",{className:"flex mb-2 text-xs text-slate-400 dark:text-slate-500 relative h-4",children:c.map((m,g)=>h.jsx("div",{className:"absolute transform",style:{left:`${m.colIndex/53*100}%`},children:m.text},g))}),h.jsx("div",{className:"flex gap-[3px]",children:Array.from({length:53}).map((m,g)=>h.jsx("div",{className:"flex flex-col gap-[3px]",children:Array.from({length:7}).map((p,y)=>{const b=g*7+y,w=o[b];return w?h.jsx("div",{className:`w-3 h-3 md:w-3.5 md:h-3.5 rounded-sm transition-colors ${u(w.level)} group relative`,children:h.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-slate-800 text-white text-[10px] rounded opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-10 transition-opacity",children:[w.count," activities",h.jsx("br",{}),h.jsx("span",{className:"opacity-70",children:w.dateStr})]})},y):h.jsx("div",{className:"w-3 h-3 md:w-3.5 md:h-3.5 opacity-0"},y)})},g))}),h.jsxs("div",{className:"flex items-center justify-end mt-4 gap-2 text-xs text-slate-400 dark:text-slate-500",children:[h.jsx("span",{children:"Less"}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("div",{className:"w-3 h-3 rounded-sm bg-slate-100 dark:bg-slate-800"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-purple-200 dark:bg-purple-900/40"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-purple-300 dark:bg-purple-700/60"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-purple-400 dark:bg-purple-600"}),h.jsx("div",{className:"w-3 h-3 rounded-sm bg-[#6F00FF] dark:bg-[#6F00FF]"})]}),h.jsx("span",{children:"More"})]})]})})]})};var zs={},Dc={},Df=function(s,t){return Df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=r[o])},Df(s,t)};function T1(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Df(s,t);function a(){this.constructor=s}s.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var iu=function(){return iu=Object.assign||function(t){for(var a,r=1,o=arguments.length;r<o;r++){a=arguments[r];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])}return t},iu.apply(this,arguments)};function Cr(s,t){var a={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(a[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(a[r[o]]=s[r[o]]);return a}function E1(s,t,a,r){var o=arguments.length,c=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,a):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(s,t,a,r);else for(var m=s.length-1;m>=0;m--)(u=s[m])&&(c=(o<3?u(c):o>3?u(t,a,c):u(t,a))||c);return o>3&&c&&Object.defineProperty(t,a,c),c}function j1(s,t){return function(a,r){t(a,r,s)}}function k1(s,t,a,r,o,c){function u(U){if(U!==void 0&&typeof U!="function")throw new TypeError("Function expected");return U}for(var m=r.kind,g=m==="getter"?"get":m==="setter"?"set":"value",p=!t&&s?r.static?s:s.prototype:null,y=t||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),b,w=!1,_=a.length-1;_>=0;_--){var E={};for(var k in r)E[k]=k==="access"?{}:r[k];for(var k in r.access)E.access[k]=r.access[k];E.addInitializer=function(U){if(w)throw new TypeError("Cannot add initializers after decoration has completed");c.push(u(U||null))};var T=(0,a[_])(m==="accessor"?{get:y.get,set:y.set}:y[g],E);if(m==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(b=u(T.get))&&(y.get=b),(b=u(T.set))&&(y.set=b),(b=u(T.init))&&o.unshift(b)}else(b=u(T))&&(m==="field"?o.unshift(b):y[g]=b)}p&&Object.defineProperty(p,r.name,y),w=!0}function A1(s,t,a){for(var r=arguments.length>2,o=0;o<t.length;o++)a=r?t[o].call(s,a):t[o].call(s);return r?a:void 0}function C1(s){return typeof s=="symbol"?s:"".concat(s)}function N1(s,t,a){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:a?"".concat(a," ",t):t})}function O1(s,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,t)}function le(s,t,a,r){function o(c){return c instanceof a?c:new a(function(u){u(c)})}return new(a||(a=Promise))(function(c,u){function m(y){try{p(r.next(y))}catch(b){u(b)}}function g(y){try{p(r.throw(y))}catch(b){u(b)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(s,t||[])).next())})}function D1(s,t){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,o,c,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=m(0),u.throw=m(1),u.return=m(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(p){return function(y){return g([p,y])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(a=0)),a;)try{if(r=1,o&&(c=p[0]&2?o.return:p[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,p[1])).done)return c;switch(o=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return a.label++,{value:p[1],done:!1};case 5:a.label++,o=p[1],p=[0];continue;case 7:p=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){a=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){a.label=p[1];break}if(p[0]===6&&a.label<c[1]){a.label=c[1],c=p;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(p);break}c[2]&&a.ops.pop(),a.trys.pop();continue}p=t.call(s,a)}catch(y){p=[6,y],o=0}finally{r=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var wu=Object.create?(function(s,t,a,r){r===void 0&&(r=a);var o=Object.getOwnPropertyDescriptor(t,a);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(s,r,o)}):(function(s,t,a,r){r===void 0&&(r=a),s[r]=t[a]});function R1(s,t){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(t,a)&&wu(t,s,a)}function ru(s){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&s[t],r=0;if(a)return a.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&r>=s.length&&(s=void 0),{value:s&&s[r++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function M0(s,t){var a=typeof Symbol=="function"&&s[Symbol.iterator];if(!a)return s;var r=a.call(s),o,c=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)c.push(o.value)}catch(m){u={error:m}}finally{try{o&&!o.done&&(a=r.return)&&a.call(r)}finally{if(u)throw u.error}}return c}function M1(){for(var s=[],t=0;t<arguments.length;t++)s=s.concat(M0(arguments[t]));return s}function U1(){for(var s=0,t=0,a=arguments.length;t<a;t++)s+=arguments[t].length;for(var r=Array(s),o=0,t=0;t<a;t++)for(var c=arguments[t],u=0,m=c.length;u<m;u++,o++)r[o]=c[u];return r}function z1(s,t,a){if(a||arguments.length===2)for(var r=0,o=t.length,c;r<o;r++)(c||!(r in t))&&(c||(c=Array.prototype.slice.call(t,0,r)),c[r]=t[r]);return s.concat(c||Array.prototype.slice.call(t))}function Tr(s){return this instanceof Tr?(this.v=s,this):new Tr(s)}function L1(s,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a.apply(s,t||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(_){return function(E){return Promise.resolve(E).then(_,b)}}function m(_,E){r[_]&&(o[_]=function(k){return new Promise(function(T,U){c.push([_,k,T,U])>1||g(_,k)})},E&&(o[_]=E(o[_])))}function g(_,E){try{p(r[_](E))}catch(k){w(c[0][3],k)}}function p(_){_.value instanceof Tr?Promise.resolve(_.value.v).then(y,b):w(c[0][2],_)}function y(_){g("next",_)}function b(_){g("throw",_)}function w(_,E){_(E),c.shift(),c.length&&g(c[0][0],c[0][1])}}function B1(s){var t,a;return t={},r("next"),r("throw",function(o){throw o}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(o,c){t[o]=s[o]?function(u){return(a=!a)?{value:Tr(s[o](u)),done:!1}:c?c(u):u}:c}}function V1(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=s[Symbol.asyncIterator],a;return t?t.call(s):(s=typeof ru=="function"?ru(s):s[Symbol.iterator](),a={},r("next"),r("throw"),r("return"),a[Symbol.asyncIterator]=function(){return this},a);function r(c){a[c]=s[c]&&function(u){return new Promise(function(m,g){u=s[c](u),o(m,g,u.done,u.value)})}}function o(c,u,m,g){Promise.resolve(g).then(function(p){c({value:p,done:m})},u)}}function $1(s,t){return Object.defineProperty?Object.defineProperty(s,"raw",{value:t}):s.raw=t,s}var PA=Object.create?(function(s,t){Object.defineProperty(s,"default",{enumerable:!0,value:t})}):function(s,t){s.default=t},Rf=function(s){return Rf=Object.getOwnPropertyNames||function(t){var a=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(a[a.length]=r);return a},Rf(s)};function P1(s){if(s&&s.__esModule)return s;var t={};if(s!=null)for(var a=Rf(s),r=0;r<a.length;r++)a[r]!=="default"&&wu(t,s,a[r]);return PA(t,s),t}function H1(s){return s&&s.__esModule?s:{default:s}}function I1(s,t,a,r){if(a==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?s!==t||!r:!t.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?r:a==="a"?r.call(s):r?r.value:t.get(s)}function F1(s,t,a,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?s!==t||!o:!t.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(s,a):o?o.value=a:t.set(s,a),a}function q1(s,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof s=="function"?t===s:s.has(t)}function G1(s,t,a){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,o;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],a&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(c){return Promise.reject(c)}}),s.stack.push({value:t,dispose:r,async:a})}else a&&s.stack.push({async:!0});return t}var HA=typeof SuppressedError=="function"?SuppressedError:function(s,t,a){var r=new Error(a);return r.name="SuppressedError",r.error=s,r.suppressed=t,r};function K1(s){function t(c){s.error=s.hasError?new HA(c,s.error,"An error was suppressed during disposal."):c,s.hasError=!0}var a,r=0;function o(){for(;a=s.stack.pop();)try{if(!a.async&&r===1)return r=0,s.stack.push(a),Promise.resolve().then(o);if(a.dispose){var c=a.dispose.call(a.value);if(a.async)return r|=2,Promise.resolve(c).then(o,function(u){return t(u),o()})}else r|=1}catch(u){t(u)}if(r===1)return s.hasError?Promise.reject(s.error):Promise.resolve();if(s.hasError)throw s.error}return o()}function Y1(s,t){return typeof s=="string"&&/^\.\.?\//.test(s)?s.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,r,o,c,u){return r?t?".jsx":".js":o&&(!c||!u)?a:o+c+"."+u.toLowerCase()+"js"}):s}const IA={__extends:T1,__assign:iu,__rest:Cr,__decorate:E1,__param:j1,__esDecorate:k1,__runInitializers:A1,__propKey:C1,__setFunctionName:N1,__metadata:O1,__awaiter:le,__generator:D1,__createBinding:wu,__exportStar:R1,__values:ru,__read:M0,__spread:M1,__spreadArrays:U1,__spreadArray:z1,__await:Tr,__asyncGenerator:L1,__asyncDelegator:B1,__asyncValues:V1,__makeTemplateObject:$1,__importStar:P1,__importDefault:H1,__classPrivateFieldGet:I1,__classPrivateFieldSet:F1,__classPrivateFieldIn:q1,__addDisposableResource:G1,__disposeResources:K1,__rewriteRelativeImportExtension:Y1},FA=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:G1,get __assign(){return iu},__asyncDelegator:B1,__asyncGenerator:L1,__asyncValues:V1,__await:Tr,__awaiter:le,__classPrivateFieldGet:I1,__classPrivateFieldIn:q1,__classPrivateFieldSet:F1,__createBinding:wu,__decorate:E1,__disposeResources:K1,__esDecorate:k1,__exportStar:R1,__extends:T1,__generator:D1,__importDefault:H1,__importStar:P1,__makeTemplateObject:$1,__metadata:O1,__param:j1,__propKey:C1,__read:M0,__rest:Cr,__rewriteRelativeImportExtension:Y1,__runInitializers:A1,__setFunctionName:N1,__spread:M1,__spreadArray:z1,__spreadArrays:U1,__values:ru,default:IA},Symbol.toStringTag,{value:"Module"})),qA=s=>s?(...t)=>s(...t):(...t)=>fetch(...t);let Su=class extends Error{constructor(t,a="FunctionsError",r){super(t),this.name=a,this.context=r}},X1=class extends Su{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Mf=class extends Su{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Uf=class extends Su{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var lu;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(lu||(lu={}));class GA{constructor(t,{headers:a={},customFetch:r,region:o=lu.Any}={}){this.url=t,this.headers=a,this.region=o,this.fetch=qA(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return le(this,arguments,void 0,function*(a,r={}){var o;let c,u;try{const{headers:m,method:g,body:p,signal:y,timeout:b}=r;let w={},{region:_}=r;_||(_=this.region);const E=new URL(`${this.url}/${a}`);_&&_!=="any"&&(w["x-region"]=_,E.searchParams.set("forceFunctionRegion",_));let k;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",k=p):typeof p=="string"?(w["Content-Type"]="text/plain",k=p):typeof FormData<"u"&&p instanceof FormData?k=p:(w["Content-Type"]="application/json",k=JSON.stringify(p)):k=p;let T=y;b&&(u=new AbortController,c=setTimeout(()=>u.abort(),b),y?(T=u.signal,y.addEventListener("abort",()=>u.abort())):T=u.signal);const U=yield this.fetch(E.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:k,signal:T}).catch(te=>{throw new X1(te)}),V=U.headers.get("x-relay-error");if(V&&V==="true")throw new Mf(U);if(!U.ok)throw new Uf(U);let M=((o=U.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),K;return M==="application/json"?K=yield U.json():M==="application/octet-stream"||M==="application/pdf"?K=yield U.blob():M==="text/event-stream"?K=U:M==="multipart/form-data"?K=yield U.formData():K=yield U.text(),{data:K,error:null,response:U}}catch(m){return{data:null,error:m,response:m instanceof Uf||m instanceof Mf?m.context:void 0}}finally{c&&clearTimeout(c)}})}}const KA=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return lu},FunctionsClient:GA,FunctionsError:Su,FunctionsFetchError:X1,FunctionsHttpError:Uf,FunctionsRelayError:Mf},Symbol.toStringTag,{value:"Module"})),J1=io(KA);var Xt={};const Nr=io(FA);var Rc={},Mc={},Uc={},zc={},Lc={},Bc={},Jv;function Z1(){if(Jv)return Bc;Jv=1,Object.defineProperty(Bc,"__esModule",{value:!0});class s extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return Bc.default=s,Bc}var Zv;function Q1(){if(Zv)return Lc;Zv=1,Object.defineProperty(Lc,"__esModule",{value:!0});const t=Nr.__importDefault(Z1());let a=class{constructor(o){var c,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(c=o.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=new Headers(this.headers),this.headers.set(o,c),this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let m=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,y,b,w;let _=null,E=null,k=null,T=g.status,U=g.statusText;if(g.ok){if(this.method!=="HEAD"){const te=await g.text();te===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?E=te:E=JSON.parse(te))}const M=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),K=(b=g.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");M&&K&&K.length>1&&(k=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(_={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,k=null,T=406,U="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const M=await g.text();try{_=JSON.parse(M),Array.isArray(_)&&g.status===404&&(E=[],_=null,T=200,U="OK")}catch{g.status===404&&M===""?(T=204,U="No Content"):_={message:M}}if(_&&this.isMaybeSingle&&(!((w=_==null?void 0:_.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,T=200,U="OK"),_&&this.shouldThrowOnError)throw new t.default(_)}return{error:_,data:E,count:k,status:T,statusText:U}});return this.shouldThrowOnError||(m=m.catch(g=>{var p,y,b,w,_,E;let k="";const T=g==null?void 0:g.cause;if(T){const U=(p=T==null?void 0:T.message)!==null&&p!==void 0?p:"",V=(y=T==null?void 0:T.code)!==null&&y!==void 0?y:"";k=`${(b=g==null?void 0:g.name)!==null&&b!==void 0?b:"FetchError"}: ${g==null?void 0:g.message}`,k+=`

Caused by: ${(w=T==null?void 0:T.name)!==null&&w!==void 0?w:"Error"}: ${U}`,V&&(k+=` (${V})`),T!=null&&T.stack&&(k+=`
${T.stack}`)}else k=(_=g==null?void 0:g.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(E=g==null?void 0:g.name)!==null&&E!==void 0?E:"FetchError"}: ${g==null?void 0:g.message}`,details:k,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(o,c)}returns(){return this}overrideTypes(){return this}};return Lc.default=a,Lc}var Qv;function W1(){if(Qv)return zc;Qv=1,Object.defineProperty(zc,"__esModule",{value:!0});const t=Nr.__importDefault(Q1());let a=class extends t.default{select(o){let c=!1;const u=(o??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:u,foreignTable:m,referencedTable:g=m}={}){const p=g?`${g}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${o}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:u=c}={}){const m=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,c,{foreignTable:u,referencedTable:m=u}={}){const g=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(p,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:u=!1,buffers:m=!1,wal:g=!1,format:p="text"}={}){var y;const b=[o?"analyze":null,c?"verbose":null,u?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${b};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};return zc.default=a,zc}var Wv;function U0(){if(Wv)return Uc;Wv=1,Object.defineProperty(Uc,"__esModule",{value:!0});const t=Nr.__importDefault(W1()),a=new RegExp("[,()]");let r=class extends t.default{eq(c,u){return this.url.searchParams.append(c,`eq.${u}`),this}neq(c,u){return this.url.searchParams.append(c,`neq.${u}`),this}gt(c,u){return this.url.searchParams.append(c,`gt.${u}`),this}gte(c,u){return this.url.searchParams.append(c,`gte.${u}`),this}lt(c,u){return this.url.searchParams.append(c,`lt.${u}`),this}lte(c,u){return this.url.searchParams.append(c,`lte.${u}`),this}like(c,u){return this.url.searchParams.append(c,`like.${u}`),this}likeAllOf(c,u){return this.url.searchParams.append(c,`like(all).{${u.join(",")}}`),this}likeAnyOf(c,u){return this.url.searchParams.append(c,`like(any).{${u.join(",")}}`),this}ilike(c,u){return this.url.searchParams.append(c,`ilike.${u}`),this}ilikeAllOf(c,u){return this.url.searchParams.append(c,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(c,u){return this.url.searchParams.append(c,`ilike(any).{${u.join(",")}}`),this}regexMatch(c,u){return this.url.searchParams.append(c,`match.${u}`),this}regexIMatch(c,u){return this.url.searchParams.append(c,`imatch.${u}`),this}is(c,u){return this.url.searchParams.append(c,`is.${u}`),this}isDistinct(c,u){return this.url.searchParams.append(c,`isdistinct.${u}`),this}in(c,u){const m=Array.from(new Set(u)).map(g=>typeof g=="string"&&a.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${m})`),this}contains(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cs.{${u.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(u)}`),this}containedBy(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cd.{${u.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(u)}`),this}rangeGt(c,u){return this.url.searchParams.append(c,`sr.${u}`),this}rangeGte(c,u){return this.url.searchParams.append(c,`nxl.${u}`),this}rangeLt(c,u){return this.url.searchParams.append(c,`sl.${u}`),this}rangeLte(c,u){return this.url.searchParams.append(c,`nxr.${u}`),this}rangeAdjacent(c,u){return this.url.searchParams.append(c,`adj.${u}`),this}overlaps(c,u){return typeof u=="string"?this.url.searchParams.append(c,`ov.${u}`):this.url.searchParams.append(c,`ov.{${u.join(",")}}`),this}textSearch(c,u,{config:m,type:g}={}){let p="";g==="plain"?p="pl":g==="phrase"?p="ph":g==="websearch"&&(p="w");const y=m===void 0?"":`(${m})`;return this.url.searchParams.append(c,`${p}fts${y}.${u}`),this}match(c){return Object.entries(c).forEach(([u,m])=>{this.url.searchParams.append(u,`eq.${m}`)}),this}not(c,u,m){return this.url.searchParams.append(c,`not.${u}.${m}`),this}or(c,{foreignTable:u,referencedTable:m=u}={}){const g=m?`${m}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,u,m){return this.url.searchParams.append(c,`${u}.${m}`),this}};return Uc.default=r,Uc}var eb;function ew(){if(eb)return Mc;eb=1,Object.defineProperty(Mc,"__esModule",{value:!0});const t=Nr.__importDefault(U0());let a=class{constructor(o,{headers:c={},schema:u,fetch:m}){this.url=o,this.headers=new Headers(c),this.schema=u,this.fetch=m}select(o,c){const{head:u=!1,count:m}=c??{},g=u?"HEAD":"GET";let p=!1;const y=(o??"*").split("").map(b=>/\s/.test(b)&&!p?"":(b==='"'&&(p=!p),b)).join("");return this.url.searchParams.set("select",y),m&&this.headers.append("Prefer",`count=${m}`),new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:u=!0}={}){var m;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:u=!1,count:m,defaultToNull:g=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const b=o.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(b.length>0){const w=[...new Set(b)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:c}={}){var u;const m="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var c;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};return Mc.default=a,Mc}var tb;function YA(){if(tb)return Rc;tb=1,Object.defineProperty(Rc,"__esModule",{value:!0});const s=Nr,t=s.__importDefault(ew()),a=s.__importDefault(U0());let r=class tw{constructor(c,{headers:u={},schema:m,fetch:g}={}){this.url=c,this.headers=new Headers(u),this.schemaName=m,this.fetch=g}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${c}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new tw(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:m=!1,get:g=!1,count:p}={}){var y;let b;const w=new URL(`${this.url}/rpc/${c}`);let _;m||g?(b=m?"HEAD":"GET",Object.entries(u).filter(([k,T])=>T!==void 0).map(([k,T])=>[k,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([k,T])=>{w.searchParams.append(k,T)})):(b="POST",_=u);const E=new Headers(this.headers);return p&&E.set("Prefer",`count=${p}`),new a.default({method:b,url:w,headers:E,schema:this.schemaName,body:_,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return Rc.default=r,Rc}var nb;function nw(){if(nb)return Xt;nb=1,Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.PostgrestError=Xt.PostgrestBuilder=Xt.PostgrestTransformBuilder=Xt.PostgrestFilterBuilder=Xt.PostgrestQueryBuilder=Xt.PostgrestClient=void 0;const s=Nr,t=s.__importDefault(YA());Xt.PostgrestClient=t.default;const a=s.__importDefault(ew());Xt.PostgrestQueryBuilder=a.default;const r=s.__importDefault(U0());Xt.PostgrestFilterBuilder=r.default;const o=s.__importDefault(W1());Xt.PostgrestTransformBuilder=o.default;const c=s.__importDefault(Q1());Xt.PostgrestBuilder=c.default;const u=s.__importDefault(Z1());return Xt.PostgrestError=u.default,Xt.default={PostgrestClient:t.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:u.default},Xt}class sw{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const r=a.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const r=this.getWebSocketConstructor();return new r(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const XA="2.87.1",JA=`realtime-js/${XA}`,aw="1.0.0",ZA="2.0.0",sb=aw,zf=1e4,QA=1e3,WA=100;var li;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(li||(li={}));var At;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(At||(At={}));var Wn;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Wn||(Wn={}));var Lf;(function(s){s.websocket="websocket"})(Lf||(Lf={}));var oi;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(oi||(oi={}));class eC{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,r;const o=(r=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var a,r;const o=(r=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,a,r){var o,c;const u=t.topic,m=(o=t.ref)!==null&&o!==void 0?o:"",g=(c=t.join_ref)!==null&&c!==void 0?c:"",p=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+u.length+p.length+b.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let E=new DataView(_),k=0;E.setUint8(k++,this.KINDS.userBroadcastPush),E.setUint8(k++,g.length),E.setUint8(k++,m.length),E.setUint8(k++,u.length),E.setUint8(k++,p.length),E.setUint8(k++,b.length),E.setUint8(k++,a),Array.from(g,U=>E.setUint8(k++,U.charCodeAt(0))),Array.from(m,U=>E.setUint8(k++,U.charCodeAt(0))),Array.from(u,U=>E.setUint8(k++,U.charCodeAt(0))),Array.from(p,U=>E.setUint8(k++,U.charCodeAt(0))),Array.from(b,U=>E.setUint8(k++,U.charCodeAt(0)));var T=new Uint8Array(_.byteLength+r.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(r),_.byteLength),T.buffer}decode(t,a){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return a(r)}if(typeof t=="string"){const r=JSON.parse(t),[o,c,u,m,g]=r;return a({join_ref:o,ref:c,topic:u,event:m,payload:g})}return a({})}_binaryDecode(t){const a=new DataView(t),r=a.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,a,o)}}_decodeUserBroadcast(t,a,r){const o=a.getUint8(1),c=a.getUint8(2),u=a.getUint8(3),m=a.getUint8(4);let g=this.HEADER_LENGTH+4;const p=r.decode(t.slice(g,g+o));g=g+o;const y=r.decode(t.slice(g,g+c));g=g+c;const b=r.decode(t.slice(g,g+u));g=g+u;const w=t.slice(g,t.byteLength),_=m===this.JSON_ENCODING?JSON.parse(r.decode(w)):w,E={type:this.BROADCAST_EVENT,event:y,payload:_};return u>0&&(E.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>a.includes(r)))}}class iw{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(We||(We={}));const ab=(s,t,a={})=>{var r;const o=(r=a.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((c,u)=>(c[u]=tC(u,s,t,o),c),{}):{}},tC=(s,t,a,r)=>{const o=t.find(m=>m.name===s),c=o==null?void 0:o.type,u=a[s];return c&&!r.includes(c)?rw(c,u):Bf(u)},rw=(s,t)=>{if(s.charAt(0)==="_"){const a=s.slice(1,s.length);return iC(t,a)}switch(s){case We.bool:return nC(t);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return sC(t);case We.json:case We.jsonb:return aC(t);case We.timestamp:return rC(t);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return Bf(t);default:return Bf(t)}},Bf=s=>s,nC=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},sC=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},aC=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(t){return console.log(`JSON parse error: ${t}`),s}return s},iC=(s,t)=>{if(typeof s!="string")return s;const a=s.length-1,r=s[a];if(s[0]==="{"&&r==="}"){let c;const u=s.slice(1,a);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(m=>rw(t,m))}return s},rC=s=>typeof s=="string"?s.replace(" ","T"):s,lw=s=>{const t=new URL(s);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Qh{constructor(t,a,r={},o=zf){this.channel=t,this.event=a,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var r;return this._hasReceived(t)&&a((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Vf;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Vf||(Vf={}));let ow=class Yc{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:c,onLeave:u,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yc.syncState(this.state,o,c,u),this.pendingDiffs.forEach(g=>{this.state=Yc.syncDiff(this.state,g,c,u)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Yc.syncDiff(this.state,o,c,u),m())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,r,o){const c=this.cloneDeep(t),u=this.transformState(a),m={},g={};return this.map(c,(p,y)=>{u[p]||(g[p]=y)}),this.map(u,(p,y)=>{const b=c[p];if(b){const w=y.map(T=>T.presence_ref),_=b.map(T=>T.presence_ref),E=y.filter(T=>_.indexOf(T.presence_ref)<0),k=b.filter(T=>w.indexOf(T.presence_ref)<0);E.length>0&&(m[p]=E),k.length>0&&(g[p]=k)}else m[p]=y}),this.syncDiff(c,{joins:m,leaves:g},r,o)}static syncDiff(t,a,r,o){const{joins:c,leaves:u}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(c,(m,g)=>{var p;const y=(p=t[m])!==null&&p!==void 0?p:[];if(t[m]=this.cloneDeep(g),y.length>0){const b=t[m].map(_=>_.presence_ref),w=y.filter(_=>b.indexOf(_.presence_ref)<0);t[m].unshift(...w)}r(m,y,g)}),this.map(u,(m,g)=>{let p=t[m];if(!p)return;const y=g.map(b=>b.presence_ref);p=p.filter(b=>y.indexOf(b.presence_ref)<0),t[m]=p,o(m,p,g),p.length===0&&delete t[m]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(r=>a(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,r)=>{const o=t[r];return"metas"in o?a[r]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):a[r]=o,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var $f;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})($f||($f={}));var vr;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(vr||(vr={}));var cs;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(cs||(cs={}));const lC=At;let cw=class Pl{constructor(t,a={config:{}},r){var o,c;if(this.topic=t,this.params=a,this.socket=r,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Qh(this,Wn.join,this.params,this.timeout),this.rejoinTimer=new iw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wn.reply,{},(u,m)=>{this._trigger(this._replyEventName(m),u)}),this.presence=new ow(this),this.broadcastEndpointURL=lw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var r,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==At.closed){const{config:{broadcast:u,presence:m,private:g}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[vr.PRESENCE]&&this.bindings[vr.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,b={},w={broadcast:u,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(cs.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(cs.CLOSED)),this.updateJoinPayload(Object.assign({config:w},b)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:_})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t==null||t(cs.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,T=(E=k==null?void 0:k.length)!==null&&E!==void 0?E:0,U=[];for(let V=0;V<T;V++){const M=k[V],{filter:{event:K,schema:te,table:ne,filter:J}}=M,W=_&&_[V];if(W&&W.event===K&&Pl.isFilterValueEqual(W.schema,te)&&Pl.isFilterValueEqual(W.table,ne)&&Pl.isFilterValueEqual(W.filter,J))U.push(Object.assign(Object.assign({},M),{id:W.id}));else{this.unsubscribe(),this.state=At.errored,t==null||t(cs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,t&&t(cs.SUBSCRIBED);return}}).receive("error",_=>{this.state=At.errored,t==null||t(cs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(cs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,r){return this.state===At.joined&&t===vr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,r)}async httpSend(t,a,r={}){var o;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(a==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const p=await m.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(t,a={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:u}=t,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,m,g;const p=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(m=(u=this.params)===null||u===void 0?void 0:u.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=At.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Qh(this,Wn.leave,{},t),r.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=At.closed,this.bindings={}}async _fetchWithTimeout(t,a,r){const o=new AbortController,c=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(c),u}_push(t,a,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Qh(this,t,a,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>WA){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,r){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,r){var o,c;const u=t.toLocaleLowerCase(),{close:m,error:g,leave:p,join:y}=Wn;if(r&&[m,g,p,y].indexOf(u)>=0&&r!==this._joinRef())return;let w=this._onMessage(u,a,r);if(a&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var E,k,T;return((E=_.filter)===null||E===void 0?void 0:E.event)==="*"||((T=(k=_.filter)===null||k===void 0?void 0:k.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(_=>_.callback(w,r)):(c=this.bindings[u])===null||c===void 0||c.filter(_=>{var E,k,T,U,V,M;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const K=_.id,te=(E=_.filter)===null||E===void 0?void 0:E.event;return K&&((k=a.ids)===null||k===void 0?void 0:k.includes(K))&&(te==="*"||(te==null?void 0:te.toLocaleLowerCase())===((T=a.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const K=(V=(U=_==null?void 0:_.filter)===null||U===void 0?void 0:U.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return K==="*"||K===((M=a==null?void 0:a.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:k,table:T,commit_timestamp:U,type:V,errors:M}=E;w=Object.assign(Object.assign({},{schema:k,table:T,commit_timestamp:U,eventType:V,new:{},old:{},errors:M}),this._getPayloadRecords(E))}_.callback(w,r)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,r){const o=t.toLocaleLowerCase(),c={type:o,filter:a,callback:r};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(t,a){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&Pl.isEqual(o.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const r in t)if(t[r]!==a[r])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wn.close,{},t)}_onError(t){this._on(Wn.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=ab(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=ab(t.columns,t.old_record)),a}};const Wh=()=>{},Vc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oC=[1e3,2e3,5e3,1e4],cC=1e4,uC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let dC=class{constructor(t,a){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zf,this.transport=null,this.heartbeatIntervalMs=Vc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wh,this.ref=0,this.reconnectTimer=null,this.vsn=sb,this.logger=Wh,this.conn=null,this.sendBuffer=[],this.serializer=new eC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((r=a==null?void 0:a.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${Lf.websocket}`,this.httpEndpoint=lw(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sw.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,r){this.logger(t,a,r)}connectionState(){switch(this.conn&&this.conn.readyState){case li.connecting:return oi.Connecting;case li.open:return oi.Open;case li.closing:return oi.Closing;default:return oi.Closed}}isConnected(){return this.connectionState()===oi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(c=>c.topic===r);if(o)return o;{const c=new cw(`realtime:${t}`,a,this);return this.channels.push(c),c}}push(t){const{topic:a,event:r,payload:o,ref:c}=t,u=()=>{this.encode(t,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${a} ${r} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(QA,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Vc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:c,ref:u}=a,m=u?`(${u})`:"",g=c.status||"";this.log("receive",`${g} ${r} ${o} ${m}`.trim(),c),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,c,u)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===li.open||this.conn.readyState===li.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wn.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${t}${r}${o}`}_workerObjectUrl(t){let a;if(t)a=t;else{const r=new Blob([uC],{type:"application/javascript"});a=URL.createObjectURL(r)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,r=!1;if(t)a=t,r=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),a=this.accessTokenValue}else a=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(o=>{const c={access_token:a,version:JA};a&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Wn.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(a)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new iw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,r,o,c,u,m,g,p,y,b,w,_;switch(this.transport=(a=t==null?void 0:t.transport)!==null&&a!==void 0?a:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:zf,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:Vc.HEARTBEAT_INTERVAL,this.worker=(c=t==null?void 0:t.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=t==null?void 0:t.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(m=t==null?void 0:t.heartbeatCallback)!==null&&m!==void 0?m:Wh,this.vsn=(g=t==null?void 0:t.vsn)!==null&&g!==void 0?g:sb,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t==null?void 0:t.reconnectAfterMs)!==null&&p!==void 0?p:(E=>oC[E-1]||cC),this.vsn){case aw:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:((E,k)=>k(JSON.stringify(E))),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:((E,k)=>k(JSON.parse(E)));break;case ZA:this.encode=(w=t==null?void 0:t.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(_=t==null?void 0:t.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const hC=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:lC,get REALTIME_LISTEN_TYPES(){return vr},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return $f},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Vf},get REALTIME_SUBSCRIBE_STATES(){return cs},RealtimeChannel:cw,RealtimeClient:dC,RealtimePresence:ow,WebSocketFactory:sw},Symbol.toStringTag,{value:"Module"})),uw=io(hC);class uo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class dw extends uo{constructor(t,a,r){super(t),this.name="StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ou extends uo{constructor(t,a){super(t),this.name="StorageUnknownError",this.originalError=a}}const z0=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),fC=()=>Response,Pf=s=>{if(Array.isArray(s))return s.map(a=>Pf(a));if(typeof s=="function"||s!==Object(s))return s;const t={};return Object.entries(s).forEach(([a,r])=>{const o=a.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[o]=Pf(r)}),t},mC=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},gC=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s),ef=s=>{var t;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(t=s.error)===null||t===void 0?void 0:t.message)||JSON.stringify(s)},pC=(s,t,a)=>le(void 0,void 0,void 0,function*(){const r=yield fC();s instanceof r&&!(a!=null&&a.noResolveJson)?s.json().then(o=>{const c=s.status||500,u=(o==null?void 0:o.statusCode)||c+"";t(new dw(ef(o),c,u))}).catch(o=>{t(new ou(ef(o),o))}):t(new ou(ef(s),s))}),yC=(s,t,a,r)=>{const o={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"||!r?o:(mC(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(r)):o.body=r,t!=null&&t.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),a))};function ho(s,t,a,r,o,c){return le(this,void 0,void 0,function*(){return new Promise((u,m)=>{s(a,yC(t,r,o,c)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>pC(g,m,r))})})}function so(s,t,a,r){return le(this,void 0,void 0,function*(){return ho(s,"GET",t,a,r)})}function Qn(s,t,a,r,o){return le(this,void 0,void 0,function*(){return ho(s,"POST",t,r,o,a)})}function Hf(s,t,a,r,o){return le(this,void 0,void 0,function*(){return ho(s,"PUT",t,r,o,a)})}function vC(s,t,a,r){return le(this,void 0,void 0,function*(){return ho(s,"HEAD",t,Object.assign(Object.assign({},a),{noResolveJson:!0}),r)})}function L0(s,t,a,r,o){return le(this,void 0,void 0,function*(){return ho(s,"DELETE",t,r,o,a)})}class bC{constructor(t,a){this.downloadFn=t,this.shouldThrowOnError=a}then(t,a){return this.execute().then(t,a)}execute(){return le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}var hw;class xC{constructor(t,a){this.downloadFn=t,this.shouldThrowOnError=a,this[hw]="BlobDownloadBuilder",this.promise=null}asStream(){return new bC(this.downloadFn,this.shouldThrowOnError)}then(t,a){return this.getPromise().then(t,a)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}hw=Symbol.toStringTag;const wC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ib={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class SC{constructor(t,a={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=a,this.bucketId=r,this.fetch=z0(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,a,r,o){return le(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},ib),o);let m=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const g=u.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.has("cacheControl")||c.append("cacheControl",u.cacheControl),g&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(g))):(c=r,m["cache-control"]=`max-age=${u.cacheControl}`,m["content-type"]=u.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!u.duplex&&(u.duplex="half")),o!=null&&o.headers&&(m=Object.assign(Object.assign({},m),o.headers));const p=this._removeEmptyFolders(a),y=this._getFinalPath(p),b=yield(t=="PUT"?Hf:Qn)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:m},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(lt(c))return{data:null,error:c};throw c}})}upload(t,a,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,a,r)})}uploadToSignedUrl(t,a,r,o){return le(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${u}`);m.searchParams.set("token",a);try{let g;const p=Object.assign({upsert:ib.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const b=yield Hf(this.fetch,m.toString(),g,{headers:y});return{data:{path:c,fullPath:b.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(lt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,a){return le(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);a!=null&&a.upsert&&(o["x-upsert"]="true");const c=yield Qn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+c.url),m=u.searchParams.get("token");if(!m)throw new uo("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:m},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}update(t,a,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,a,r)})}move(t,a,r){return le(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}copy(t,a,r){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield Qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}createSignedUrl(t,a,r){return le(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),c=yield Qn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:a},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}createSignedUrls(t,a,r){return le(this,void 0,void 0,function*(){try{const o=yield Qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:t},{headers:this.headers}),c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}download(t,a){const o=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),u=c?`?${c}`:"",m=this._getFinalPath(t),g=()=>so(this.fetch,`${this.url}/${o}/${m}${u}`,{headers:this.headers,noResolveJson:!0});return new xC(g,this.shouldThrowOnError)}info(t){return le(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{const r=yield so(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Pf(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}exists(t){return le(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{return yield vC(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r)&&r instanceof ou){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,a){const r=this._getFinalPath(t),o=[],c=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&o.push(c);const m=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});g!==""&&o.push(g);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${r}${p}`)}}}remove(t){return le(this,void 0,void 0,function*(){try{return{data:yield L0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}list(t,a,r){return le(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},wC),a),{prefix:t||""});return{data:yield Qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}listV2(t,a){return le(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Qn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},a),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const a=[];return t.width&&a.push(`width=${t.width}`),t.height&&a.push(`height=${t.height}`),t.resize&&a.push(`resize=${t.resize}`),t.format&&a.push(`format=${t.format}`),t.quality&&a.push(`quality=${t.quality}`),a.join("&")}}const fw="2.87.1",mw={"X-Client-Info":`storage-js/${fw}`};class _C{constructor(t,a={},r,o){this.shouldThrowOnError=!1;const c=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mw),a),this.fetch=z0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return le(this,void 0,void 0,function*(){try{const a=this.listBucketOptionsToQueryString(t);return{data:yield so(this.fetch,`${this.url}/bucket${a}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}getBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createBucket(t){return le(this,arguments,void 0,function*(a,r={public:!1}){try{return{data:yield Qn(this.fetch,`${this.url}/bucket`,{id:a,name:a,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}updateBucket(t,a){return le(this,void 0,void 0,function*(){try{return{data:yield Hf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield L0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}listBucketOptionsToQueryString(t){const a={};return t&&("limit"in t&&(a.limit=String(t.limit)),"offset"in t&&(a.offset=String(t.offset)),t.search&&(a.search=t.search),t.sortColumn&&(a.sortColumn=t.sortColumn),t.sortOrder&&(a.sortOrder=t.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}}var ao=class extends Error{constructor(s,t){var a;super(s),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((a=t.icebergType)==null?void 0:a.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function TC(s,t,a){const r=new URL(t,s);if(a)for(const[o,c]of Object.entries(a))c!==void 0&&r.searchParams.set(o,c);return r.toString()}async function EC(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function jC(s){const t=s.fetchImpl??globalThis.fetch;return{async request({method:a,path:r,query:o,body:c,headers:u}){const m=TC(s.baseUrl,r,o),g=await EC(s.auth),p=await t(m,{method:a,headers:{...c?{"Content-Type":"application/json"}:{},...g,...u},body:c?JSON.stringify(c):void 0}),y=await p.text(),b=(p.headers.get("content-type")||"").includes("application/json"),w=b&&y?JSON.parse(y):y;if(!p.ok){const _=b?w:void 0,E=_==null?void 0:_.error;throw new ao((E==null?void 0:E.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:_})}return{status:p.status,headers:p.headers,data:w}}}}function $c(s){return s.join("")}var kC=class{constructor(s,t=""){this.client=s,this.prefix=t}async listNamespaces(s){const t=s?{parent:$c(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(s,t){const a={namespace:s.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$c(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$c(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$c(s.namespace)}`}),!0}catch(t){if(t instanceof ao&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(s,t){try{return await this.createNamespace(s,t)}catch(a){if(a instanceof ao&&a.status===409)return;throw a}}};function rr(s){return s.join("")}var AC=class{constructor(s,t="",a){this.client=s,this.prefix=t,this.accessDelegation=a}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rr(s.namespace)}/tables`})).data.identifiers}async createTable(s,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rr(s.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(s,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rr(s.namespace)}/tables/${s.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(s,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rr(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(s){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rr(s.namespace)}/tables/${s.name}`,headers:t})).data.metadata}async tableExists(s){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rr(s.namespace)}/tables/${s.name}`,headers:t}),!0}catch(a){if(a instanceof ao&&a.status===404)return!1;throw a}}async createTableIfNotExists(s,t){try{return await this.createTable(s,t)}catch(a){if(a instanceof ao&&a.status===409)return await this.loadTable({namespace:s.namespace,name:t.name});throw a}}},CC=class{constructor(s){var r;let t="v1";s.catalogName&&(t+=`/${s.catalogName}`);const a=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=jC({baseUrl:a,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(r=s.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new kC(this.client,t),this.tableOps=new AC(this.client,t,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,t){return this.namespaceOps.createNamespace(s,t)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,t){return this.tableOps.createTable(s,t)}async updateTable(s,t){return this.tableOps.updateTable(s,t)}async dropTable(s,t){await this.tableOps.dropTable(s,t)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,t){return this.namespaceOps.createNamespaceIfNotExists(s,t)}async createTableIfNotExists(s,t){return this.tableOps.createTableIfNotExists(s,t)}};class gw{constructor(t,a={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mw),a),this.fetch=z0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}listBuckets(t){return le(this,void 0,void 0,function*(){try{const a=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&a.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&a.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&a.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&a.set("sortOrder",t.sortOrder),t!=null&&t.search&&a.set("search",t.search);const r=a.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield so(this.fetch,o,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield L0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}from(t){if(!gC(t))throw new uo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new CC({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>le(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(a,{get(c,u){const m=c[u];return typeof m!="function"?m:(...g)=>le(this,void 0,void 0,function*(){try{return{data:yield m.apply(c,g),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}})}})}}const B0={"X-Client-Info":`storage-js/${fw}`,"Content-Type":"application/json"};class V0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function un(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}class Xc extends V0{constructor(t,a,r){super(t),this.name="StorageVectorsApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pw extends V0{constructor(t,a){super(t),this.name="StorageVectorsUnknownError",this.originalError=a}}var If;(function(s){s.InternalError="InternalError",s.S3VectorConflictException="S3VectorConflictException",s.S3VectorNotFoundException="S3VectorNotFoundException",s.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",s.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",s.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(If||(If={}));const _u=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),NC=()=>Response,yw=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},OC=s=>Array.from(new Float32Array(s)),DC=(s,t)=>{if(t!==void 0&&s.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${s.float32.length}`)},rb=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),RC=(s,t,a)=>le(void 0,void 0,void 0,function*(){if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(a!=null&&a.noResolveJson)){const o=s.status||500,c=s;if(typeof c.json=="function")c.json().then(u=>{const m=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";t(new Xc(rb(u),o,m))}).catch(()=>{const u=o+"",m=c.statusText||`HTTP ${o} error`;t(new Xc(m,o,u))});else{const u=o+"",m=c.statusText||`HTTP ${o} error`;t(new Xc(m,o,u))}}else t(new pw(rb(s),s))}),MC=(s,t,a,r)=>{const o={method:s,headers:(t==null?void 0:t.headers)||{}};return r?(yw(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),a)):o};function UC(s,t,a,r,o,c){return le(this,void 0,void 0,function*(){return new Promise((u,m)=>{s(a,MC(t,r,o,c)).then(g=>{if(!g.ok)throw g;if(r!=null&&r.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>u(g)).catch(g=>RC(g,m,r))})})}function Sn(s,t,a,r,o){return le(this,void 0,void 0,function*(){return UC(s,"POST",t,r,o,a)})}class vw{constructor(t,a={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B0),a),this.fetch=_u(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return le(this,void 0,void 0,function*(){try{return{data:(yield Sn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}getIndex(t,a){return le(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}listIndexes(t){return le(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}deleteIndex(t,a){return le(this,void 0,void 0,function*(){try{return{data:(yield Sn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}}class bw{constructor(t,a={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B0),a),this.fetch=_u(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return le(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Sn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}getVectors(t){return le(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}listVectors(t){return le(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Sn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}queryVectors(t){return le(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}deleteVectors(t){return le(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Sn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}}class xw{constructor(t,a={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B0),a),this.fetch=_u(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return le(this,void 0,void 0,function*(){try{return{data:(yield Sn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}getBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}listBuckets(){return le(this,arguments,void 0,function*(t={}){try{return{data:yield Sn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:(yield Sn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}}class ww extends xw{constructor(t,a={}){super(t,a.headers||{},a.fetch)}from(t){return new Sw(this.url,this.headers,t,this.fetch)}createBucket(t){const a=Object.create(null,{createBucket:{get:()=>super.createBucket}});return le(this,void 0,void 0,function*(){return a.createBucket.call(this,t)})}getBucket(t){const a=Object.create(null,{getBucket:{get:()=>super.getBucket}});return le(this,void 0,void 0,function*(){return a.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return le(this,arguments,void 0,function*(a={}){return t.listBuckets.call(this,a)})}deleteBucket(t){const a=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return le(this,void 0,void 0,function*(){return a.deleteBucket.call(this,t)})}}class Sw extends vw{constructor(t,a,r,o){super(t,a,o),this.vectorBucketName=r}createIndex(t){const a=Object.create(null,{createIndex:{get:()=>super.createIndex}});return le(this,void 0,void 0,function*(){return a.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return le(this,arguments,void 0,function*(a={}){return t.listIndexes.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const a=Object.create(null,{getIndex:{get:()=>super.getIndex}});return le(this,void 0,void 0,function*(){return a.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const a=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return le(this,void 0,void 0,function*(){return a.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new _w(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class _w extends bw{constructor(t,a,r,o,c){super(t,a,c),this.vectorBucketName=r,this.indexName=o}putVectors(t){const a=Object.create(null,{putVectors:{get:()=>super.putVectors}});return le(this,void 0,void 0,function*(){return a.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const a=Object.create(null,{getVectors:{get:()=>super.getVectors}});return le(this,void 0,void 0,function*(){return a.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return le(this,arguments,void 0,function*(a={}){return t.listVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const a=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return le(this,void 0,void 0,function*(){return a.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const a=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return le(this,void 0,void 0,function*(){return a.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class zC extends _C{constructor(t,a={},r,o){super(t,a,r,o)}from(t){return new SC(this.url,this.headers,t,this.fetch)}get vectors(){return new ww(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gw(this.url+"/iceberg",this.headers,this.fetch)}}const LC=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:gw,StorageApiError:dw,StorageClient:zC,StorageError:uo,StorageUnknownError:ou,StorageVectorsApiError:Xc,StorageVectorsClient:ww,StorageVectorsError:V0,get StorageVectorsErrorCode(){return If},StorageVectorsUnknownError:pw,VectorBucketApi:xw,VectorBucketScope:Sw,VectorDataApi:bw,VectorIndexApi:vw,VectorIndexScope:_w,isPlainObject:yw,isStorageError:lt,isStorageVectorsError:un,normalizeToFloat32:OC,resolveFetch:_u,resolveResponse:NC,validateVectorDimension:DC},Symbol.toStringTag,{value:"Module"})),BC=io(LC);var tf={},Ll={},lb;function VC(){return lb||(lb=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.version=void 0,Ll.version="2.87.1"),Ll}var ob;function $C(){return ob||(ob=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_REALTIME_OPTIONS=s.DEFAULT_AUTH_OPTIONS=s.DEFAULT_DB_OPTIONS=s.DEFAULT_GLOBAL_OPTIONS=s.DEFAULT_HEADERS=void 0;const t=VC();let a="";typeof Deno<"u"?a="deno":typeof document<"u"?a="web":typeof navigator<"u"&&navigator.product==="ReactNative"?a="react-native":a="node",s.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${a}/${t.version}`},s.DEFAULT_GLOBAL_OPTIONS={headers:s.DEFAULT_HEADERS},s.DEFAULT_DB_OPTIONS={schema:"public"},s.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s.DEFAULT_REALTIME_OPTIONS={}})(tf)),tf}var nf={},cb;function PC(){return cb||(cb=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.fetchWithAuth=s.resolveHeadersConstructor=s.resolveFetch=void 0;const t=o=>o?(...c)=>o(...c):(...c)=>fetch(...c);s.resolveFetch=t;const a=()=>Headers;s.resolveHeadersConstructor=a;const r=(o,c,u)=>{const m=(0,s.resolveFetch)(u),g=(0,s.resolveHeadersConstructor)();return async(p,y)=>{var b;const w=(b=await c())!==null&&b!==void 0?b:o;let _=new g(y==null?void 0:y.headers);return _.has("apikey")||_.set("apikey",o),_.has("Authorization")||_.set("Authorization",`Bearer ${w}`),m(p,Object.assign(Object.assign({},y),{headers:_}))}};s.fetchWithAuth=r})(nf)),nf}var Ls={},ub;function HC(){if(ub)return Ls;ub=1,Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.isBrowser=void 0,Ls.uuid=s,Ls.ensureTrailingSlash=t,Ls.applySettingDefaults=r,Ls.validateSupabaseUrl=o;function s(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var u=Math.random()*16|0,m=c=="x"?u:u&3|8;return m.toString(16)})}function t(c){return c.endsWith("/")?c:c+"/"}const a=()=>typeof window<"u";Ls.isBrowser=a;function r(c,u){var m,g;const{db:p,auth:y,realtime:b,global:w}=c,{db:_,auth:E,realtime:k,global:T}=u,U={db:Object.assign(Object.assign({},_),p),auth:Object.assign(Object.assign({},E),y),realtime:Object.assign(Object.assign({},k),b),storage:{},global:Object.assign(Object.assign(Object.assign({},T),w),{headers:Object.assign(Object.assign({},(m=T==null?void 0:T.headers)!==null&&m!==void 0?m:{}),(g=w==null?void 0:w.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return c.accessToken?U.accessToken=c.accessToken:delete U.accessToken,U}function o(c){const u=c==null?void 0:c.trim();if(!u)throw new Error("supabaseUrl is required.");if(!u.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(u))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Ls}var Bl={};const Tw="2.87.1",ur=30*1e3,Ff=3,sf=Ff*ur,IC="http://localhost:9999",FC="supabase.auth.token",qC={"X-Client-Info":`gotrue-js/${Tw}`},qf="X-Supabase-Api-Version",Ew={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KC=600*1e3;let Er=class extends Error{constructor(t,a,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=r}};function me(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}let jw=class extends Er{constructor(t,a,r){super(t,a,r),this.name="AuthApiError",this.status=a,this.code=r}};function kw(s){return me(s)&&s.name==="AuthApiError"}let wa=class extends Er{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}},Hs=class extends Er{constructor(t,a,r,o){super(t,r,o),this.name=a,this.status=r}},cn=class extends Hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Aw(s){return me(s)&&s.name==="AuthSessionMissingError"}let ai=class extends Hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Hl=class extends Hs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Il=class extends Hs{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Cw(s){return me(s)&&s.name==="AuthImplicitGrantRedirectError"}let Gf=class extends Hs{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},cu=class extends Hs{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}};function Jc(s){return me(s)&&s.name==="AuthRetryableFetchError"}let Kf=class extends Hs{constructor(t,a,r){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=r}};function YC(s){return me(s)&&s.name==="AuthWeakPasswordError"}let uu=class extends Hs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),db=` 	
\r=`.split(""),XC=(()=>{const s=new Array(128);for(let t=0;t<s.length;t+=1)s[t]=-1;for(let t=0;t<db.length;t+=1)s[db[t].charCodeAt(0)]=-2;for(let t=0;t<du.length;t+=1)s[du[t].charCodeAt(0)]=t;return s})();function hb(s,t,a){if(s!==null)for(t.queue=t.queue<<8|s,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;a(du[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;a(du[r]),t.queuedBits-=6}}function Nw(s,t,a){const r=XC[s];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function fb(s){const t=[],a=u=>{t.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{QC(u,r,a)};for(let u=0;u<s.length;u+=1)Nw(s.charCodeAt(u),o,c);return t.join("")}function JC(s,t){if(s<=127){t(s);return}else if(s<=2047){t(192|s>>6),t(128|s&63);return}else if(s<=65535){t(224|s>>12),t(128|s>>6&63),t(128|s&63);return}else if(s<=1114111){t(240|s>>18),t(128|s>>12&63),t(128|s>>6&63),t(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function ZC(s,t){for(let a=0;a<s.length;a+=1){let r=s.charCodeAt(a);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(s.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}JC(r,t)}}function QC(s,t,a){if(t.utf8seq===0){if(s<=127){a(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=s&31;else if(t.utf8seq===3)t.codepoint=s&15;else if(t.utf8seq===4)t.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|s&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function br(s){const t=[],a={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<s.length;o+=1)Nw(s.charCodeAt(o),a,r);return new Uint8Array(t)}function WC(s){const t=[];return ZC(s,a=>t.push(a)),new Uint8Array(t)}function di(s){const t=[],a={queue:0,queuedBits:0},r=o=>{t.push(o)};return s.forEach(o=>hb(o,a,r)),hb(null,a,r),t.join("")}function eN(s){return Math.round(Date.now()/1e3)+s}function tN(){return Symbol("auth-callback")}const Ft=()=>typeof window<"u"&&typeof document<"u",ei={tested:!1,writable:!1},Ow=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ei.tested)return ei.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),ei.tested=!0,ei.writable=!0}catch{ei.tested=!0,ei.writable=!1}return ei.writable};function nN(s){const t={},a=new URL(s);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,c)=>{t[c]=o})}catch{}return a.searchParams.forEach((r,o)=>{t[o]=r}),t}const Dw=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),sN=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",dr=async(s,t,a)=>{await s.setItem(t,JSON.stringify(a))},ti=async(s,t)=>{const a=await s.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},It=async(s,t)=>{await s.removeItem(t)};class Tu{constructor(){this.promise=new Tu.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}Tu.promiseConstructor=Promise;function af(s){const t=s.split(".");if(t.length!==3)throw new uu("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!GC.test(t[r]))throw new uu("JWT not in base64url format");return{header:JSON.parse(fb(t[0])),payload:JSON.parse(fb(t[1])),signature:br(t[2]),raw:{header:t[0],payload:t[1]}}}async function aN(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function iN(s,t){return new Promise((r,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await s(c);if(!t(c,null,u)){r(u);return}}catch(u){if(!t(c,u)){o(u);return}}})()})}function rN(s){return("0"+s.toString(16)).substr(-2)}function lN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=a.length;let o="";for(let c=0;c<56;c++)o+=a.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,rN).join("")}async function oN(s){const a=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(r);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function cN(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const a=await oN(s);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lr(s,t,a=!1){const r=lN();let o=r;a&&(o+="/PASSWORD_RECOVERY"),await dr(s,`${t}-code-verifier`,o);const c=await cN(r);return[c,r===c?"plain":"s256"]}const uN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dN(s){const t=s.headers.get(qf);if(!t||!t.match(uN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hN(s){if(!s)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(s<=t)throw new Error("JWT has expired")}function fN(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function or(s){if(!mN.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rf(){const s={};return new Proxy(s,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const r=a.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gN(s,t){return new Proxy(s,{get:(a,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const c=r.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,r,o)}})}function mb(s){return JSON.parse(JSON.stringify(s))}const ii=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),pN=[502,503,504];async function gb(s){var t;if(!sN(s))throw new cu(ii(s),0);if(pN.includes(s.status))throw new cu(ii(s),s.status);let a;try{a=await s.json()}catch(c){throw new wa(ii(c),c)}let r;const o=dN(s);if(o&&o.getTime()>=Ew["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?r=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(r=a.error_code),r){if(r==="weak_password")throw new Kf(ii(a),s.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new cn}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new Kf(ii(a),s.status,a.weak_password.reasons);throw new jw(ii(a),s.status||500,r)}const yN=(s,t,a,r)=>{const o={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),a))};async function ve(s,t,a,r){var o;const c=Object.assign({},r==null?void 0:r.headers);c[qf]||(c[qf]=Ew["2024-01-01"].name),r!=null&&r.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const m=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",g=await vN(s,t,a+m,{headers:c,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function vN(s,t,a,r,o,c){const u=yN(t,r,o,c);let m;try{m=await s(a,Object.assign({},u))}catch(g){throw console.error(g),new cu(ii(g),0)}if(m.ok||await gb(m),r!=null&&r.noResolveJson)return m;try{return await m.json()}catch(g){await gb(g)}}function Jn(s){var t;let a=null;wN(s)&&(a=Object.assign({},s),s.expires_at||(a.expires_at=eN(s.expires_in)));const r=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:a,user:r},error:null}}function pb(s){const t=Jn(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((a,r)=>a&&typeof r=="string",!0)&&(t.data.weak_password=s.weak_password),t}function Sa(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function bN(s){return{data:s,error:null}}function xN(s){const{action_link:t,email_otp:a,hashed_token:r,redirect_to:o,verification_type:c}=s,u=Cr(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:a,hashed_token:r,redirect_to:o,verification_type:c},g=Object.assign({},u);return{data:{properties:m,user:g},error:null}}function yb(s){return s}function wN(s){return s.access_token&&s.refresh_token&&s.expires_in}const Zc=["global","local","others"];let $0=class{constructor({url:t="",headers:a={},fetch:r}){this.url=t,this.headers=a,this.fetch=Dw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=Zc[0]){if(Zc.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zc.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,a={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Sa})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:a}=t,r=Cr(t,["options"]),o=Object.assign(Object.assign({},r),a);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:xN,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(me(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Sa})}catch(a){if(me(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,r,o,c,u,m,g;try{const p={nextPage:null,lastPage:0,total:0},y=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:yb});if(y.error)throw y.error;const b=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(E.split(";")[1].split("=")[1]);p[`${T}Page`]=k}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(me(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){or(t);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Sa})}catch(a){if(me(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){or(t);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Sa})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,a=!1){or(t);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Sa})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){or(t.userId);try{const{data:a,error:r}=await ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:r}}catch(a){if(me(a))return{data:null,error:a};throw a}}async _deleteFactor(t){or(t.userId),or(t.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(me(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,r,o,c,u,m,g;try{const p={nextPage:null,lastPage:0,total:0},y=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:yb});if(y.error)throw y.error;const b=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(E.split(";")[1].split("=")[1]);p[`${T}Page`]=k}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(me(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(me(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(me(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(me(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(me(a))return{data:null,error:a};throw a}}};function vb(s={}){return{getItem:t=>s[t]||null,setItem:(t,a)=>{s[t]=a},removeItem:t=>{delete s[t]}}}const ri={debug:!!(globalThis&&Ow()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class P0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let Rw=class extends P0{};class SN extends P0{}async function Mw(s,t,a){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,o.name);try{return await a()}finally{ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,o.name)}}else{if(t===0)throw ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Rw(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(ri.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}const bb={};async function _N(s,t,a){var r;const o=(r=bb[s])!==null&&r!==void 0?r:Promise.resolve(),c=Promise.race([o.catch(()=>null),t>=0?new Promise((u,m)=>{setTimeout(()=>{m(new SN(`Acquring process lock with name "${s}" timed out`))},t)}):null].filter(u=>u)).catch(u=>{if(u&&u.isAcquireTimeout)throw u;return null}).then(async()=>await a());return bb[s]=c.catch(async u=>{if(u&&u.isAcquireTimeout)return await o,null;throw u}),await c}function TN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Uw(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function EN(s){return parseInt(s,16)}function jN(s){const t=new TextEncoder().encode(s);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function kN(s){var t;const{chainId:a,domain:r,expirationTime:o,issuedAt:c=new Date,nonce:u,notBefore:m,requestId:g,resources:p,scheme:y,uri:b,version:w}=s;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=s.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const _=Uw(s.address),E=y?`${y}://${r}`:r,k=s.statement?`${s.statement}
`:"",T=`${E} wants you to sign in with your Ethereum account:
${_}

${k}`;let U=`URI: ${b}
Version: ${w}
Chain ID: ${a}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(o&&(U+=`
Expiration Time: ${o.toISOString()}`),m&&(U+=`
Not Before: ${m.toISOString()}`),g&&(U+=`
Request ID: ${g}`),p){let V=`
Resources:`;for(const M of p){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);V+=`
- ${M}`}U+=V}return`${T}
${U}`}class Ct extends Error{constructor({message:t,code:a,cause:r,name:o}){var c;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(c=o??(r instanceof Error?r.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=a}}class hu extends Ct{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function AN({error:s,options:t}){var a,r,o;const{publicKey:c}=t;if(!c)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((a=c.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new Ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(t.mediation==="conditional"&&((r=c.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ct({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const u=window.location.hostname;if(zw(u)){if(c.rp.id!==u)return new Ct({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function CN({error:s,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ct({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const r=window.location.hostname;if(zw(r)){if(a.rpId!==r)return new Ct({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class NN{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const ON=new NN;function DN(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:t,user:a,excludeCredentials:r}=s,o=Cr(s,["challenge","user","excludeCredentials"]),c=br(t).buffer,u=Object.assign(Object.assign({},a),{id:br(a.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:c,user:u});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const p=r[g];m.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:br(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function RN(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:t,allowCredentials:a}=s,r=Cr(s,["challenge","allowCredentials"]),o=br(t).buffer,c=Object.assign(Object.assign({},r),{challenge:o});if(a&&a.length>0){c.allowCredentials=new Array(a.length);for(let u=0;u<a.length;u++){const m=a[u];c.allowCredentials[u]=Object.assign(Object.assign({},m),{id:br(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function MN(s){var t;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const a=s;return{id:s.id,rawId:s.id,response:{attestationObject:di(new Uint8Array(s.response.attestationObject)),clientDataJSON:di(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function UN(s){var t;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const a=s,r=s.getClientExtensionResults(),o=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:di(new Uint8Array(o.authenticatorData)),clientDataJSON:di(new Uint8Array(o.clientDataJSON)),signature:di(new Uint8Array(o.signature)),userHandle:o.userHandle?di(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zw(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function xb(){var s,t;return!!(Ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function zN(s){try{const t=await navigator.credentials.create(s);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hu("Browser returned unexpected credential type",t)}:{data:null,error:new hu("Empty credential response",t)}}catch(t){return{data:null,error:AN({error:t,options:s})}}}async function LN(s){try{const t=await navigator.credentials.get(s);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hu("Browser returned unexpected credential type",t)}:{data:null,error:new hu("Empty credential response",t)}}catch(t){return{data:null,error:CN({error:t,options:s})}}}const BN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},VN={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fu(...s){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),a=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of s)if(o)for(const c in o){const u=o[c];if(u!==void 0)if(Array.isArray(u))r[c]=u;else if(a(u))r[c]=u;else if(t(u)){const m=r[c];t(m)?r[c]=fu(m,u):r[c]=fu(u)}else r[c]=u}return r}function $N(s,t){return fu(BN,s,t||{})}function PN(s,t){return fu(VN,s,t||{})}class HN{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:r,signal:o},c){try{const{data:u,error:m}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!u)return{data:null,error:m};const g=o??ON.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=$N(u.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:y,error:b}=await zN({publicKey:p,signal:g});return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const p=PN(u.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:y,error:b}=await LN(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:g}));return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new wa("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:a,webauthn:r}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!a)return{data:null,error:new Er("rpId is required for WebAuthn authentication")};try{if(!xb())return{data:null,error:new wa("Browser does not support WebAuthn",null)};const{data:u,error:m}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:r},signal:o},{request:c});if(!u)return{data:null,error:m};const{webauthn:g}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:g.type,rpId:a,rpOrigins:r,credential_response:g.credential_response}})}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new wa("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!a)return{data:null,error:new Er("rpId is required for WebAuthn registration")};try{if(!xb())return{data:null,error:new wa("Browser does not support WebAuthn",null)};const{data:u,error:m}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:m};const{data:g,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:a,rpOrigins:r},signal:o},{create:c});return g?this._verify({factorId:u.id,challengeId:g.challengeId,webauthn:{rpId:a,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new wa("Unexpected error in register",u)}}}}TN();const IN={url:IC,storageKey:FC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function wb(s,t,a){return await a()}const cr={};let H0=class Yf{get jwks(){var t,a;return(a=(t=cr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){cr[this.storageKey]=Object.assign(Object.assign({},cr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=cr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){cr[this.storageKey]=Object.assign(Object.assign({},cr[this.storageKey]),{cachedAt:t})}constructor(t){var a,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},IN),t);if(this.storageKey=c.storageKey,this.instanceID=(a=Yf.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Yf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Ft()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new $0({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Dw(c.fetch),this.lock=c.lock||wb,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&Ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Mw:this.lock=wb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new HN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Ow()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vb(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=vb(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Tw}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},r="none";if(Ft()&&(a=nN(window.location.href),this._isImplicitGrantCallback(a)?r="implicit":await this._isPKCECallback(a)&&(r="pkce")),Ft()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:c}=await this._getSessionFromURL(a,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Cw(c)){const g=(t=c.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",m),await this._saveSession(u),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return me(a)?this._returnResult({error:a}):this._returnResult({error:new wa("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,r,o;try{const c=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Jn}),{data:u,error:m}=c;if(m||!u)return this._returnResult({data:{user:null,session:null},error:m});const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(c){if(me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(t){var a,r,o;try{let c;if("email"in t){const{email:y,password:b,options:w}=t;let _=null,E=null;this.flowType==="pkce"&&([_,E]=await lr(this.storage,this.storageKey)),c=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:y,password:b,data:(a=w==null?void 0:w.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:_,code_challenge_method:E},xform:Jn})}else if("phone"in t){const{phone:y,password:b,options:w}=t;c=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Jn})}else throw new Hl("You must provide either an email or phone number and a password");const{data:u,error:m}=c;if(m||!u)return await It(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(c){if(await It(this.storage,`${this.storageKey}-code-verifier`),me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(t){try{let a;if("email"in t){const{email:c,password:u,options:m}=t;a=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:pb})}else if("phone"in t){const{phone:c,password:u,options:m}=t;a=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:pb})}else throw new Hl("You must provide either an email or phone number and a password");const{data:r,error:o}=a;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const c=new ai;return this._returnResult({data:{user:null,session:null},error:c})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,r,o,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,r,o,c,u,m,g,p,y,b,w;let _,E;if("message"in t)_=t.message,E=t.signature;else{const{chain:k,wallet:T,statement:U,options:V}=t;let M;if(Ft())if(typeof T=="object")M=T;else{const ae=window;if("ethereum"in ae&&typeof ae.ethereum=="object"&&"request"in ae.ethereum&&typeof ae.ethereum.request=="function")M=ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(V!=null&&V.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=T}const K=new URL((a=V==null?void 0:V.url)!==null&&a!==void 0?a:window.location.href),te=await M.request({method:"eth_requestAccounts"}).then(ae=>ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ne=Uw(te[0]);let J=(r=V==null?void 0:V.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!J){const ae=await M.request({method:"eth_chainId"});J=EN(ae)}const W={domain:K.host,address:ne,statement:U,uri:K.href,version:"1",chainId:J,nonce:(o=V==null?void 0:V.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(c=V==null?void 0:V.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(m=V==null?void 0:V.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=V==null?void 0:V.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=V==null?void 0:V.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=V==null?void 0:V.signInWithEthereum)===null||y===void 0?void 0:y.resources};_=kN(W),E=await M.request({method:"personal_sign",params:[jN(_),ne]})}try{const{data:k,error:T}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:E},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Jn});if(T)throw T;if(!k||!k.session||!k.user){const U=new ai;return this._returnResult({data:{user:null,session:null},error:U})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:T})}catch(k){if(me(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var a,r,o,c,u,m,g,p,y,b,w,_;let E,k;if("message"in t)E=t.message,k=t.signature;else{const{chain:T,wallet:U,statement:V,options:M}=t;let K;if(Ft())if(typeof U=="object")K=U;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))K=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=U}const te=new URL((a=M==null?void 0:M.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in K&&K.signIn){const ne=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),V?{statement:V}:null));let J;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")J=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)J=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)E=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),k=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${te.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(o=(r=M==null?void 0:M.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=M==null?void 0:M.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((u=M==null?void 0:M.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((m=M==null?void 0:M.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((g=M==null?void 0:M.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((p=M==null?void 0:M.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((b=(y=M==null?void 0:M.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...M.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const ne=await K.signMessage(new TextEncoder().encode(E),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=ne}}try{const{data:T,error:U}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:di(k)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Jn});if(U)throw U;if(!T||!T.session||!T.user){const V=new ai;return this._returnResult({data:{user:null,session:null},error:V})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:U})}catch(T){if(me(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const a=await ti(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(a??"").split("/");try{const{data:c,error:u}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Jn});if(await It(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!c||!c.session||!c.user){const m=new ai;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(await It(this.storage,`${this.storageKey}-code-verifier`),me(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(t){try{const{options:a,provider:r,token:o,access_token:c,nonce:u}=t,m=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Jn}),{data:g,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const y=new ai;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,r,o,c,u;try{if("email"in t){const{email:m,options:g}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await lr(this.storage,this.storageKey));const{error:b}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:m,options:g}=t,{data:p,error:y}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=g==null?void 0:g.data)!==null&&o!==void 0?o:{},create_user:(c=g==null?void 0:g.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(u=g==null?void 0:g.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new Hl("You must provide either an email or phone number.")}catch(m){if(await It(this.storage,`${this.storageKey}-code-verifier`),me(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(t){var a,r;try{let o,c;"options"in t&&(o=(a=t.options)===null||a===void 0?void 0:a.redirectTo,c=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:m}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Jn});if(m)throw m;if(!u)throw new Error("An error occurred on token verification.");const g=u.session,p=u.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var a,r,o,c,u;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await lr(this.storage,this.storageKey));const p=await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:bN});return!((c=p.data)===null||c===void 0)&&c.url&&Ft()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await It(this.storage,`${this.storageKey}-code-verifier`),me(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:r}=t;if(r)throw r;if(!a)throw new cn;const{error:o}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:c}=t,{error:u}=await ve(this.fetch,"POST",a,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:r,type:o,options:c}=t,{data:u,error:m}=await ve(this.fetch,"POST",a,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:m})}throw new Hl("You must provide either an email or phone number and a type")}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=a();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await ti(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<sf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const u=await ti(this.userStorage,this.storageKey+"-user");u!=null&&u.user?t.user=u.user:t.user=rf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=gN(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(-1,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Sa}):await this._useSession(async a=>{var r,o,c;const{data:u,error:m}=a;if(m)throw m;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cn}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Sa})})}catch(a){if(me(a))return Aw(a)&&(await this._removeSession(),await It(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async r=>{const{data:o,error:c}=r;if(c)throw c;if(!o.session)throw new cn;const u=o.session;let m=null,g=null;this.flowType==="pkce"&&t.email!=null&&([m,g]=await lr(this.storage,this.storageKey));const{data:p,error:y}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:g}),jwt:u.access_token,xform:Sa});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(r){if(await It(this.storage,`${this.storageKey}-code-verifier`),me(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new cn;const a=Date.now()/1e3;let r=a,o=!0,c=null;const{payload:u}=af(t.access_token);if(u.exp&&(r=u.exp,o=r<=a),o){const{data:m,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:g}=await this._getUser(t.access_token);if(g)throw g;c={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:r-a,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(a){if(me(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var r;if(!t){const{data:u,error:m}=a;if(m)throw m;t=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new cn;const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!Ft())throw new Il("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Il(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Gf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Il("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gf("No code detected.");const{data:V,error:M}=await this._exchangeCodeForSession(t.code);if(M)throw M;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:m,expires_at:g,token_type:p}=t;if(!c||!m||!u||!p)throw new Il("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(m);let w=y+b;g&&(w=parseInt(g));const _=w-y;_*1e3<=ur&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const E=w-b;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,y);const{data:k,error:T}=await this._getUser(c);if(T)throw T;const U={provider_token:r,provider_refresh_token:o,access_token:c,expires_in:b,expires_at:w,refresh_token:u,token_type:p,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:t.type},error:null})}catch(r){if(me(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await ti(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var r;const{data:o,error:c}=a;if(c)return this._returnResult({error:c});const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:m}=await this.admin.signOut(u,t);if(m&&!(kw(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return t!=="others"&&(await this._removeSession(),await It(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=tN(),r={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async a=>{var r,o;try{const{data:{session:c},error:u}=a;if(u)throw u;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,a={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await lr(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(c){if(await It(this.storage,`${this.storageKey}-code-verifier`),me(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var t;try{const{data:a,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:r,error:o}=await this._useSession(async c=>{var u,m,g,p,y;const{data:b,error:w}=c;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Ft()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(me(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var r;try{const{error:o,data:{session:c}}=a;if(o)throw o;const{options:u,provider:m,token:g,access_token:p,nonce:y}=t,b=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=c==null?void 0:c.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:g,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Jn}),{data:w,error:_}=b;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new ai}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(o){if(await It(this.storage,`${this.storageKey}-code-verifier`),me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var r,o;const{data:c,error:u}=a;if(u)throw u;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const r=Date.now();return await iN(async o=>(o>0&&await aN(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jn})),(o,c)=>{const u=200*Math.pow(2,o);return c&&Jc(c)&&Date.now()+u-r<ur})}catch(r){if(this._debug(a,"error",r),me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",r),Ft()&&!a.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,a;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await ti(this.storage,this.storageKey);if(o&&this.userStorage){let u=await ti(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await dr(this.userStorage,this.storageKey+"-user",u)),o.user=(t=u==null?void 0:u.user)!==null&&t!==void 0?t:rf()}else if(o&&!o.user&&!o.user){const u=await ti(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await It(this.storage,this.storageKey+"-user"),await dr(this.storage,this.storageKey,o)):o.user=rf()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const c=((a=o.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<sf;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${sf}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Jc(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:m}=await this._getUser(o.access_token);!m&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var a,r;if(!t)throw new cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Tu;const{data:c,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!c.session)throw new cn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),me(c)){const u={data:null,error:c};return Jc(c)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,a,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",a,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:a});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,a)}catch(g){c.push(g)}});if(await Promise.all(u),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await It(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),r=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&a.user&&await dr(this.userStorage,this.storageKey+"-user",{user:a.user});const o=Object.assign({},a);delete o.user;const c=mb(o);await dr(this.storage,this.storageKey,c)}else{const o=mb(a);await dr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await It(this.storage,this.storageKey),await It(this.storage,this.storageKey+"-code-verifier"),await It(this.storage,this.storageKey+"-user"),this.userStorage&&await It(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ur);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:r}}=a;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/ur);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ur}ms, refresh threshold is ${Ff} ticks`),o<=Ff&&await this._callRefreshToken(r.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof P0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,r){const o=[`provider=${encodeURIComponent(a)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,u]=await lr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(m.toString())}if(r!=null&&r.queryParams){const c=new URLSearchParams(r.queryParams);o.push(c.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var r;const{data:o,error:c}=a;return c?this._returnResult({data:null,error:c}):await ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var r,o;const{data:c,error:u}=a;if(u)return this._returnResult({data:null,error:u});const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:g,error:p}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&g.type==="totp"&&(!((o=g==null?void 0:g.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;const{data:o,error:c}=a;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?MN(t.webauthn.credential_response):UN(t.webauthn.credential_response)})}:{code:t.code}),{data:m,error:g}=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;const{data:o,error:c}=a;if(c)return this._returnResult({data:null,error:c});const u=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:m}=u;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:DN(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:RN(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(t=a==null?void 0:a.factors)!==null&&t!==void 0?t:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,a;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=af(r.access_token);let u=null;c.aal&&(u=c.aal);let m=u;((a=(t=r.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(m="aal2");const p=c.amr||[];return{data:{currentLevel:u,nextLevel:m,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:r},error:o}=a;return o?this._returnResult({data:null,error:o}):r?await ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new cn})})}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async r=>{const{data:{session:o},error:c}=r;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new cn});const u=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return u.data&&u.data.redirect_url&&Ft()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,a){try{return await this._useSession(async r=>{const{data:{session:o},error:c}=r;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new cn});const u=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return u.data&&u.data.redirect_url&&Ft()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:r}=t;return r?this._returnResult({data:null,error:r}):a?await ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new cn})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:r},error:o}=a;return o?this._returnResult({data:null,error:o}):r?(await ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new cn})})}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let r=a.keys.find(m=>m.kid===t);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(m=>m.kid===t),r&&this.jwks_cached_at+KC>o)return r;const{data:c,error:u}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,r=c.keys.find(m=>m.kid===t),!r)?null:r}async getClaims(t,a={}){try{let r=t;if(!r){const{data:_,error:E}=await this.getSession();if(E||!_.session)return this._returnResult({data:null,error:E});r=_.session.access_token}const{header:o,payload:c,signature:u,raw:{header:m,payload:g}}=af(r);a!=null&&a.allowExpired||hN(c.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!p){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:c,header:o,signature:u},error:null}}const y=fN(o.alg),b=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,u,WC(`${m}.${g}`)))throw new uu("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}};H0.nextInstanceID={};const FN=$0,qN=H0,GN=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:FN,AuthApiError:jw,AuthClient:qN,AuthError:Er,AuthImplicitGrantRedirectError:Il,AuthInvalidCredentialsError:Hl,AuthInvalidJwtError:uu,AuthInvalidTokenResponseError:ai,AuthPKCEGrantCodeExchangeError:Gf,AuthRetryableFetchError:cu,AuthSessionMissingError:cn,AuthUnknownError:wa,AuthWeakPasswordError:Kf,CustomAuthError:Hs,GoTrueAdminApi:$0,GoTrueClient:H0,NavigatorLockAcquireTimeoutError:Rw,SIGN_OUT_SCOPES:Zc,isAuthApiError:kw,isAuthError:me,isAuthImplicitGrantRedirectError:Cw,isAuthRetryableFetchError:Jc,isAuthSessionMissingError:Aw,isAuthWeakPasswordError:YC,lockInternals:ri,navigatorLock:Mw,processLock:_N},Symbol.toStringTag,{value:"Module"})),Lw=io(GN);var Sb;function KN(){if(Sb)return Bl;Sb=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.SupabaseAuthClient=void 0;const s=Lw;let t=class extends s.AuthClient{constructor(r){super(r)}};return Bl.SupabaseAuthClient=t,Bl}var _b;function Tb(){if(_b)return Dc;_b=1,Object.defineProperty(Dc,"__esModule",{value:!0});const s=J1,t=nw(),a=uw,r=BC,o=$C(),c=PC(),u=HC(),m=KN();class g{constructor(y,b,w){var _,E,k;this.supabaseUrl=y,this.supabaseKey=b;const T=(0,u.validateSupabaseUrl)(y);if(!b)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",T),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",T),this.storageUrl=new URL("storage/v1",T),this.functionsUrl=new URL("functions/v1",T);const U=`sb-${T.hostname.split(".")[0]}-auth-token`,V={db:o.DEFAULT_DB_OPTIONS,realtime:o.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},o.DEFAULT_AUTH_OPTIONS),{storageKey:U}),global:o.DEFAULT_GLOBAL_OPTIONS},M=(0,u.applySettingDefaults)(w??{},V);this.storageKey=(_=M.auth.storageKey)!==null&&_!==void 0?_:"",this.headers=(E=M.global.headers)!==null&&E!==void 0?E:{},M.accessToken?(this.accessToken=M.accessToken,this.auth=new Proxy({},{get:(K,te)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(te)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((k=M.auth)!==null&&k!==void 0?k:{},this.headers,M.global.fetch),this.fetch=(0,c.fetchWithAuth)(b,this._getAccessToken.bind(this),M.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},M.realtime)),this.accessToken&&this.accessToken().then(K=>this.realtime.setAuth(K)).catch(K=>console.warn("Failed to set initial Realtime auth token:",K)),this.rest=new t.PostgrestClient(new URL("rest/v1",T).href,{headers:this.headers,schema:M.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,w==null?void 0:w.storage),M.accessToken||this._listenForAuthEvents()}get functions(){return new s.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,b={},w={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,b,w)}channel(y,b={config:{}}){return this.realtime.channel(y,b)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,b;if(this.accessToken)return await this.accessToken();const{data:w}=await this.auth.getSession();return(b=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:b,detectSessionInUrl:w,storage:_,userStorage:E,storageKey:k,flowType:T,lock:U,debug:V,throwOnError:M},K,te){const ne={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},ne),K),storageKey:k,autoRefreshToken:y,persistSession:b,detectSessionInUrl:w,storage:_,userStorage:E,flowType:T,lock:U,debug:V,throwOnError:M,fetch:te,hasCustomAuthorizationHeader:Object.keys(this.headers).some(J=>J.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new a.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y==null?void 0:y.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((b,w)=>{this._handleTokenChanged(b,"CLIENT",w==null?void 0:w.access_token)})}_handleTokenChanged(y,b,w){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==w?(this.changedAccessToken=w,this.realtime.setAuth(w)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),b=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Dc.default=g,Dc}var Eb;function YN(){return Eb||(Eb=1,(function(s){var t=zs&&zs.__createBinding||(Object.create?(function(y,b,w,_){_===void 0&&(_=w);var E=Object.getOwnPropertyDescriptor(b,w);(!E||("get"in E?!b.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return b[w]}}),Object.defineProperty(y,_,E)}):(function(y,b,w,_){_===void 0&&(_=w),y[_]=b[w]})),a=zs&&zs.__exportStar||function(y,b){for(var w in y)w!=="default"&&!Object.prototype.hasOwnProperty.call(b,w)&&t(b,y,w)},r=zs&&zs.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(s,"__esModule",{value:!0}),s.createClient=s.SupabaseClient=s.FunctionRegion=s.FunctionsError=s.FunctionsRelayError=s.FunctionsFetchError=s.FunctionsHttpError=s.PostgrestError=void 0;const o=r(Tb());a(Lw,s);var c=nw();Object.defineProperty(s,"PostgrestError",{enumerable:!0,get:function(){return c.PostgrestError}});var u=J1;Object.defineProperty(s,"FunctionsHttpError",{enumerable:!0,get:function(){return u.FunctionsHttpError}}),Object.defineProperty(s,"FunctionsFetchError",{enumerable:!0,get:function(){return u.FunctionsFetchError}}),Object.defineProperty(s,"FunctionsRelayError",{enumerable:!0,get:function(){return u.FunctionsRelayError}}),Object.defineProperty(s,"FunctionsError",{enumerable:!0,get:function(){return u.FunctionsError}}),Object.defineProperty(s,"FunctionRegion",{enumerable:!0,get:function(){return u.FunctionRegion}}),a(uw,s);var m=Tb();Object.defineProperty(s,"SupabaseClient",{enumerable:!0,get:function(){return r(m).default}});const g=(y,b,w)=>new o.default(y,b,w);s.createClient=g;function p(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const b=y.match(/^v(\d+)\./);return b?parseInt(b[1],10)<=18:!1}p()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(zs)),zs}var Bw=YN();const Vw=Xf(Bw),XN=z_({__proto__:null,default:Vw},[Bw]),{PostgrestError:J5,FunctionsHttpError:Z5,FunctionsFetchError:Q5,FunctionsRelayError:W5,FunctionsError:eO,FunctionRegion:tO,SupabaseClient:nO,createClient:JN,GoTrueAdminApi:sO,GoTrueClient:aO,AuthAdminApi:iO,AuthClient:rO,navigatorLock:lO,NavigatorLockAcquireTimeoutError:oO,lockInternals:cO,processLock:uO,SIGN_OUT_SCOPES:dO,AuthError:hO,AuthApiError:fO,AuthUnknownError:mO,CustomAuthError:gO,AuthSessionMissingError:pO,AuthInvalidTokenResponseError:yO,AuthInvalidCredentialsError:vO,AuthImplicitGrantRedirectError:bO,AuthPKCEGrantCodeExchangeError:xO,AuthRetryableFetchError:wO,AuthWeakPasswordError:SO,AuthInvalidJwtError:_O,isAuthError:TO,isAuthApiError:EO,isAuthSessionMissingError:jO,isAuthImplicitGrantRedirectError:kO,isAuthRetryableFetchError:AO,isAuthWeakPasswordError:CO,RealtimePresence:NO,RealtimeChannel:OO,RealtimeClient:DO,REALTIME_LISTEN_TYPES:RO,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:MO,REALTIME_PRESENCE_LISTEN_EVENTS:UO,REALTIME_SUBSCRIBE_STATES:zO,REALTIME_CHANNEL_STATES:LO}=Vw||XN,ZN="https://hmnbdkwjgmwchuyhtmqh.supabase.co",QN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhtbmJka3dqZ213Y2h1eWh0bXFoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2OTcyODMsImV4cCI6MjA4MTI3MzI4M30.hev4vRmT7VSmStDiYWKuasuqejZbDHBwi2C_9TB8JN0",Ue=JN(ZN,QN);async function WN(s,t){const{data:a,error:r}=await Ue.auth.signUp({email:s,password:t});if(r)throw r;return a}async function e5(s,t){const{data:a,error:r}=await Ue.auth.signInWithPassword({email:s,password:t});if(r)throw r;return a}async function t5(){const{data:s,error:t}=await Ue.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(t)throw t;return s}async function n5(){const{error:s}=await Ue.auth.signOut();if(s)throw s}async function s5(){const{data:{user:s}}=await Ue.auth.getUser();return s}function a5(s){return Ue.auth.onAuthStateChange(s)}function $w(s){return{id:s.id,title:s.title,tag:s.tag,tagColor:s.tag_color,time:s.time,completed:s.completed,completedAt:s.completed_at,assignedDate:s.assigned_date,isRecurring:s.is_recurring,recurrencePattern:s.recurrence_pattern,parentTaskId:s.parent_task_id,listType:s.list_type}}function Pw(s){return{id:s.id,title:s.title,tag:s.tag||null,start:s.start_hour,duration:s.duration,color:s.color||"#4285f4",textColor:s.text_color||"text-white",isGoogle:s.is_google,googleEventId:s.google_event_id||void 0,taskId:s.task_id||void 0,habitId:s.habit_id||void 0,completed:s.completed||!1}}async function ni(s,t){const a={};t.title!==void 0&&(a.title=t.title),t.tag!==void 0&&(a.tag=t.tag),t.tagColor!==void 0&&(a.tag_color=t.tagColor),t.time!==void 0&&(a.time=t.time),t.completed!==void 0&&(a.completed=t.completed),t.assignedDate!==void 0&&(a.assigned_date=t.assignedDate),t.completedAt!==void 0&&(a.completed_at=t.completedAt);const{error:r}=await Ue.from("tasks").update(a).eq("id",s);if(r){if(r.code==="42703"&&a.completed_at!==void 0){delete a.completed_at;const{error:o}=await Ue.from("tasks").update(a).eq("id",s);return o?(console.error("Error updating task:",o),!1):!0}return console.error("Error updating task:",r),!1}return!0}async function i5(s){const{error:t}=await Ue.from("tasks").delete().eq("id",s);return t?(console.error("Error deleting task:",t),!1):!0}async function r5(s,t){const{error:a}=await Ue.from("tasks").update({list_type:t,time:t==="later"?null:void 0}).eq("id",s);return a?(console.error("Error moving task:",a),!1):!0}async function jb(s){const t=s||new Date,a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),c=`${a}-${r}-${o}`,{data:{user:u}}=await Ue.auth.getUser();if(!u)return[];console.log(" Loading schedule blocks for user:",u.id,"date:",c);const{data:m,error:g}=await Ue.from("schedule_blocks").select("*").eq("user_id",u.id).eq("date",c).order("start_hour",{ascending:!0});return g?(console.error(" Error loading schedule blocks:",g),[]):(m||[]).map(Pw)}async function kb(s,t){const{data:{user:a}}=await Ue.auth.getUser();if(!a)return null;const r=t||new Date,c=new Intl.DateTimeFormat("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit"}).format(r),u={user_id:a.id,title:s.title,tag:s.tag,start_hour:s.start,duration:s.duration,color:s.color,text_color:s.textColor,is_google:s.isGoogle||!1,completed:s.completed||!1,google_event_id:s.googleEventId||null,task_id:s.taskId!==void 0&&s.taskId!==null?String(s.taskId):null,habit_id:s.habitId!==void 0&&s.habitId!==null?String(s.habitId):null,date:c};console.log(" Creating Schedule Block (Payload):",u);const{data:m,error:g}=await Ue.from("schedule_blocks").insert(u).select().single();return g?(console.error(" Error creating schedule block:",g),null):(console.log(" Created schedule block successfully:",m),Pw(m))}async function Bs(s,t){const a={};t.title!==void 0&&(a.title=t.title),t.tag!==void 0&&(a.tag=t.tag),t.start!==void 0&&(a.start_hour=t.start),t.duration!==void 0&&(a.duration=t.duration),t.color!==void 0&&(a.color=t.color),t.textColor!==void 0&&(a.text_color=t.textColor),t.completed!==void 0&&(a.completed=t.completed),t.isGoogle!==void 0&&(a.is_google=t.isGoogle),t.googleEventId!==void 0&&(a.google_event_id=t.googleEventId),t.taskId!==void 0&&(a.task_id=t.taskId),t.habitId!==void 0&&(a.habit_id=t.habitId);const{error:r}=await Ue.from("schedule_blocks").update(a).eq("id",s);return r?(console.error("Error updating schedule block:",r),!1):!0}async function lf(s){const{error:t}=await Ue.from("schedule_blocks").delete().eq("id",s);return t?(console.error("Error deleting schedule block:",t),!1):!0}async function l5(){const{data:{user:s}}=await Ue.auth.getUser();if(!s)return null;const{data:t,error:a}=await Ue.from("user_settings").select("*").eq("user_id",s.id).single();if(a){if(a.code==="PGRST116"){const{data:r,error:o}=await Ue.from("user_settings").insert({user_id:s.id}).select().single();return o?(console.error("Error creating user settings:",o),null):{timeFormat:r.time_format,timezone:r.timezone,googleConnected:r.google_connected}}return console.error("Error loading user settings:",a),null}return{timeFormat:t.time_format,timezone:t.timezone,googleConnected:t.google_connected}}async function o5(s){const{data:{user:t}}=await Ue.auth.getUser();if(!t)return!1;const a={};s.timeFormat!==void 0&&(a.time_format=s.timeFormat),s.timezone!==void 0&&(a.timezone=s.timezone),s.googleConnected!==void 0&&(a.google_connected=s.googleConnected);const{error:r}=await Ue.from("user_settings").update(a).eq("user_id",t.id);return r?(console.error("Error saving user settings:",r),!1):!0}async function c5(s){var u,m;const t=s.getFullYear(),a=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getDate()).padStart(2,"0"),o=`${t}-${a}-${r}`,{data:{user:c}}=await Ue.auth.getUser();if(!c)return"";try{const{data:g,error:p}=await Ue.from("notes").select("content").eq("user_id",c.id).eq("date",o).maybeSingle();return p?p.code==="42P01"||(u=p.message)!=null&&u.includes("404")||(m=p.message)!=null&&m.includes("406")?(console.warn("Notes table issue. Please ensure the table exists."),""):(console.error("Error loading note:",p),""):(g==null?void 0:g.content)||""}catch(g){return console.warn("Could not load note:",g),""}}async function u5(s,t){var c;const{data:{user:a}}=await Ue.auth.getUser();if(!a)return!1;const o=new Intl.DateTimeFormat("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit"}).format(s);try{const{error:u}=await Ue.from("notes").upsert({user_id:a.id,date:o,content:t},{onConflict:"user_id,date"});return u?u.code==="42P01"||(c=u.message)!=null&&c.includes("404")?(console.warn("Notes table not found. Please run the SQL migration."),!1):(console.error("Error saving note:",u),!1):!0}catch(u){return console.warn("Could not save note:",u),!1}}async function Ab(s,t){console.log(` setTaskCompletion: taskId=${s}, completed=${t}`);const{error:a}=await Ue.from("tasks").update({completed:t,completed_at:t?new Date().toISOString():null}).eq("id",s);return a?(console.error(" Error setting task completion:",a),!1):(console.log(" Task completion updated successfully"),!0)}async function d5(s,t,a){const{data:{user:r}}=await Ue.auth.getUser();if(!r)return null;let o=null;if(t){const m=t.getFullYear(),g=String(t.getMonth()+1).padStart(2,"0"),p=String(t.getDate()).padStart(2,"0");o=`${m}-${g}-${p}`}console.log(" Creating task:",{title:s,listType:a,date:t==null?void 0:t.toISOString(),assigned_date:o}),console.log(" DEBUG: Exact dateStr being saved:",JSON.stringify(o));const{data:c,error:u}=await Ue.from("tasks").insert({user_id:r.id,title:s,list_type:a,assigned_date:o}).select().single();return u?(console.error("Error creating task:",u),null):(console.log(" Task created with assigned_date:",c.assigned_date),console.log(" DEBUG: Full task data returned from DB:",{id:c.id,title:c.title,assigned_date:c.assigned_date,list_type:c.list_type}),$w(c))}async function Cb(s,t,a){let r=null;if(a){const c=a.getFullYear(),u=String(a.getMonth()+1).padStart(2,"0"),m=String(a.getDate()).padStart(2,"0");r=`${c}-${u}-${m}`}const{error:o}=await Ue.from("tasks").update({list_type:t,assigned_date:r,time:t==="later"?null:void 0}).eq("id",s);return o?(console.error("Error moving task:",o),!1):!0}async function h5(s,t="Local"){const{data:{user:a}}=await Ue.auth.getUser();if(!a)return 0;const r=s.getFullYear(),o=String(s.getMonth()+1).padStart(2,"0"),c=String(s.getDate()).padStart(2,"0"),u=`${r}-${o}-${c}`;console.log(" Generating recurring task instances for:",u);try{const{data:m,error:g}=await Ue.from("tasks").select("*").eq("user_id",a.id).eq("is_recurring",!0).is("parent_task_id",null);if(g)return g.code==="42703"||console.error(" Error fetching recurring templates:",g),0;if(!m||m.length===0)return 0;const{data:p,error:y}=await Ue.from("tasks").select("parent_task_id, title").eq("user_id",a.id).eq("assigned_date",u).not("assigned_date","is",null);if(y)return console.error("Error fetching existing instances:",y),0;const b=new Set(p==null?void 0:p.map(T=>T.title)),w=new Set(p==null?void 0:p.map(T=>T.parent_task_id)),_=m.filter(T=>!b.has(T.title)&&!w.has(T.id));if(_.length===0)return 0;const E=_.map(T=>({user_id:a.id,title:T.title,tag:T.tag,tag_color:T.tag_color,time:T.time,completed:!1,completed_at:null,assigned_date:u,is_recurring:!1,recurrence_pattern:T.recurrence_pattern,parent_task_id:T.id,list_type:T.list_type||"active"})),{error:k}=await Ue.from("tasks").insert(E);return k?(console.error(" Error bulk creating instances:",k),0):(console.log(` Generated ${_.length} recurring task instances for ${u}`),_.length)}catch(m){return console.error(" Error in generateRecurringInstances:",m),0}}async function f5(s){const{data:{user:t}}=await Ue.auth.getUser();if(!t)return{active:[],later:[]};const a=s.getFullYear(),r=String(s.getMonth()+1).padStart(2,"0"),o=String(s.getDate()).padStart(2,"0"),c=`${a}-${r}-${o}`;try{const{data:u,error:m}=await Ue.from("tasks").select("*").eq("user_id",t.id).eq("assigned_date",c).or("is_recurring.eq.false,is_recurring.is.null");if(m)return console.error("Error in loadAllTasksForDate:",m),{active:[],later:[]};const g=(u||[]).map($w);return{active:g.filter(p=>p.listType==="active"||!p.listType),later:g.filter(p=>p.listType==="later")}}catch(u){return console.error("Error in loadAllTasksForDate:",u),{active:[],later:[]}}}const m5=({entries:s,height:t=240})=>{const[a,r]=B.useState(null),o=B.useMemo(()=>{if(s.length<2)return null;const W=[...s].sort((ge,ke)=>new Date(ge.date).getTime()-new Date(ke.date).getTime());return W.map((ge,ke)=>{const Fe=Math.max(0,ke-6),ht=W.slice(Fe,ke+1),bt=ht.reduce((et,q)=>et+q.weight,0)/ht.length;return{...ge,trendWeight:bt}})},[s]);if(!o||o.length<2)return h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 dark:text-slate-500 text-sm select-none",children:[h.jsx(a2,{className:"mb-2 opacity-50",size:24}),h.jsx("div",{children:"Need at least 2 entries to see your trend"})]});const c={top:20,right:20,bottom:40,left:40},u=1e3,m=t,g=u-c.left-c.right,p=m-c.top-c.bottom,y=o.flatMap(W=>[W.weight,W.trendWeight]),b=Math.floor(Math.min(...y)-.5),_=Math.ceil(Math.max(...y)+.5)-b,E=W=>c.left+W/(o.length-1)*g,k=W=>c.top+p-(W-b)/_*p,T=o.map((W,ae)=>({x:E(ae),yRaw:k(W.weight),yTrend:k(W.trendWeight),data:W})),U=T.reduce((W,ae,ge)=>ge===0?`M ${ae.x} ${ae.yRaw}`:`${W} L ${ae.x} ${ae.yRaw}`,""),V=T.reduce((W,ae,ge)=>{if(ge===0)return`M ${ae.x} ${ae.yTrend}`;const ke=T[ge-1],Fe=ke.x+(ae.x-ke.x)/3,ht=ae.x-(ae.x-ke.x)/3;return`${W} C ${Fe} ${ke.yTrend}, ${ht} ${ae.yTrend}, ${ae.x} ${ae.yTrend}`},""),M=`${V} L ${T[T.length-1].x} ${c.top+p} L ${c.left} ${c.top+p} Z`,K=Array.from({length:5}).map((W,ae)=>{const ge=b+_*ae/4;return{y:k(ge),value:ge.toFixed(1)}}),te=T.filter((W,ae)=>{if(ae===0||ae===T.length-1)return!0;const ge=Math.ceil(T.length/5);return ae%ge===0}).map(W=>({x:W.x,label:new Date(W.data.date).toLocaleDateString("sv-SE",{day:"numeric",month:T.length>30?"short":"numeric"})})),ne=W=>{const ae=W.currentTarget.getBoundingClientRect(),ke=(W.clientX-ae.left)/ae.width*u;if(ke<c.left||ke>u-c.right)return;let Fe=1/0,ht=null;T.forEach(bt=>{const et=Math.abs(bt.x-ke);et<Fe&&(Fe=et,ht=bt)}),ht&&r(ht.data.date?new Date(ht.data.date).getTime():null)},J=a?T.find(W=>new Date(W.data.date).getTime()===a):null;return h.jsxs("div",{className:"relative w-full h-full select-none font-sans",children:[h.jsxs("svg",{viewBox:`0 0 ${u} ${m}`,className:"w-full h-full overflow-visible touch-none",onMouseMove:ne,onMouseLeave:()=>r(null),children:[h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"trendGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#6F00FF",stopOpacity:"0.25"}),h.jsx("stop",{offset:"100%",stopColor:"#6F00FF",stopOpacity:"0"})]}),h.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[h.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),h.jsxs("feMerge",{children:[h.jsx("feMergeNode",{in:"coloredBlur"}),h.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),K.map((W,ae)=>h.jsxs("g",{children:[h.jsx("line",{x1:c.left,y1:W.y,x2:u-c.right,y2:W.y,stroke:"currentColor",className:"text-slate-200 dark:text-slate-800",strokeDasharray:"4 4",strokeWidth:"1"}),h.jsx("text",{x:c.left-10,y:W.y+4,textAnchor:"end",className:"text-[10px] fill-slate-400 font-medium",children:W.value})]},`yGrid-${ae}`)),te.map((W,ae)=>h.jsx("text",{x:W.x,y:m-10,textAnchor:"middle",className:"text-[10px] fill-slate-400 font-medium",children:W.label},`xLabel-${ae}`)),h.jsx("path",{d:U,fill:"none",stroke:"currentColor",className:"text-slate-300 dark:text-slate-700",strokeWidth:"1.5",strokeDasharray:"4 4",opacity:"0.6"}),T.map((W,ae)=>h.jsx("circle",{cx:W.x,cy:W.yRaw,r:"2",className:"fill-slate-300 dark:fill-slate-700"},`rawPoint-${ae}`)),h.jsx(je.path,{d:M,fill:"url(#trendGradient)",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8}}),h.jsx(je.path,{d:V,fill:"none",stroke:"#6F00FF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,ease:"easeOut"}}),J&&h.jsx(je.line,{x1:J.x,y1:c.top,x2:J.x,y2:m-c.bottom,stroke:"#6F00FF",strokeWidth:"1",strokeDasharray:"4 4",initial:{opacity:0},animate:{opacity:1}}),J&&h.jsxs(h.Fragment,{children:[h.jsx("circle",{cx:J.x,cy:J.yRaw,r:"4",className:"fill-slate-400 stroke-white dark:stroke-slate-900 border-2"}),h.jsx(je.circle,{cx:J.x,cy:J.yTrend,r:"6",className:"fill-[#6F00FF] stroke-white dark:stroke-slate-900 stroke-2",transition:{type:"spring"}})]})]}),h.jsx($l,{children:J&&h.jsx(je.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},className:"absolute z-50 pointer-events-none",style:{left:`${J.x/u*100}%`,top:0,transform:"translate(-50%, 0)"},children:h.jsxs("div",{className:"mt-2 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm border border-slate-200 dark:border-white/10 shadow-xl rounded-xl p-3 text-xs min-w-[120px]",children:[h.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-200 mb-2 pb-2 border-b border-slate-100 dark:border-white/5 text-center",children:new Date(J.data.date).toLocaleDateString("sv-SE",{weekday:"long",day:"numeric",month:"long"})}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("span",{className:"flex items-center gap-1.5 text-slate-500",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#6F00FF]"})," Trend"]}),h.jsxs("span",{className:"font-bold text-[#6F00FF]",children:[J.data.trendWeight.toFixed(1)," kg"]})]}),h.jsxs("div",{className:"flex justify-between items-center text-slate-400",children:[h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-300"})," Raw"]}),h.jsxs("span",{children:[J.data.weight.toFixed(1)," kg"]})]})]})]})})})]})},ut=s=>{const t=s.getFullYear(),a=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getDate()).padStart(2,"0");return`${t}-${a}-${r}`},Hw=Zf.createContext({isDark:!1,toggleTheme:()=>{}}),g5=()=>B.useContext(Hw),Pc=[{id:"1",name:"Lavender",hex:"#7986cb",tailwind:"bg-[#7986cb] text-white"},{id:"2",name:"Sage",hex:"#33b679",tailwind:"bg-[#33b679] text-white"},{id:"3",name:"Grape",hex:"#8e24aa",tailwind:"bg-[#8e24aa] text-white"},{id:"4",name:"Flamingo",hex:"#e67c73",tailwind:"bg-[#e67c73] text-white"},{id:"5",name:"Banana",hex:"#f6bf26",tailwind:"bg-[#f6bf26] text-slate-800"},{id:"6",name:"Tangerine",hex:"#f4511e",tailwind:"bg-[#f4511e] text-white"},{id:"7",name:"Peacock",hex:"#039be5",tailwind:"bg-[#039be5] text-white"},{id:"8",name:"Graphite",hex:"#616161",tailwind:"bg-[#616161] text-white"},{id:"9",name:"Blueberry",hex:"#3f51b5",tailwind:"bg-[#3f51b5] text-white"},{id:"10",name:"Basil",hex:"#0b8043",tailwind:"bg-[#0b8043] text-white"},{id:"11",name:"Tomato",hex:"#d50000",tailwind:"bg-[#d50000] text-white"}],p5=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],y5=[],Nb=({task:s,listType:t,userTags:a,onDragStart:r,onDelete:o,onToggleComplete:c,onMoveToList:u,onAddTag:m,onRemoveTag:g,onOpenTagModal:p,onEditTag:y})=>{const[b,w]=B.useState(!1),[_,E]=B.useState(!1),k=B.useRef(null);return B.useEffect(()=>{const T=U=>{k.current&&!k.current.contains(U.target)&&(w(!1),E(!1))};return b&&document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[b]),h.jsxs("div",{draggable:"true",onDragStart:T=>r(T,s,t),className:`group flex items-center gap-3 p-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg hover:border-[#6F00FF]/50 cursor-grab active:cursor-grabbing transition-all shadow-sm ${s.completed?"opacity-60":""}`,children:[h.jsx("div",{onClick:()=>c(s.id),className:`w-5 h-5 rounded border flex items-center justify-center cursor-pointer transition-colors ${s.completed?"bg-[#6F00FF] border-[#6F00FF]":"border-slate-300 dark:border-slate-600 hover:border-[#6F00FF]"}`,children:s.completed&&h.jsx(wn,{size:14,className:"text-white"})}),h.jsx("span",{className:`flex-1 text-sm font-medium ${s.completed?"line-through text-slate-400":"text-slate-700 dark:text-slate-200"}`,children:s.title}),s.tag&&h.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-semibold uppercase tracking-wide text-white",style:{backgroundColor:s.tagColor||"#6F00FF"},children:s.tag}),s.time&&h.jsx("span",{className:"text-[10px] opacity-70 text-slate-600 dark:text-slate-400",children:s.time}),h.jsxs("div",{className:"relative z-40",ref:k,children:[h.jsx("button",{onClick:T=>{T.stopPropagation(),w(!b)},className:"text-slate-300 hover:text-slate-600 dark:text-slate-600 dark:hover:text-slate-300 p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:h.jsx(Db,{size:16})}),b&&h.jsxs("div",{className:"absolute right-0 top-8 w-48 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-2xl z-[100] py-1 text-sm",children:[h.jsxs("button",{onClick:()=>{c(s.id),w(!1)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[h.jsx(wn,{size:14,className:s.completed?"text-emerald-500":""}),s.completed?"Mark as Incomplete":"Mark as Complete"]}),h.jsxs("button",{onClick:()=>{u(s.id,t==="active"?"later":"active"),w(!1)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[h.jsx(w2,{size:14}),t==="active"?"Move to Later":"Move to Active"]}),h.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 my-1"}),h.jsxs("button",{onClick:()=>{p(s.id),w(!1)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[h.jsx(Fl,{size:14})," Create Tag"]}),s.tag&&s.tagColor&&y&&h.jsxs("button",{onClick:()=>{y({name:s.tag,color:s.tagColor}),w(!1)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[h.jsx(of,{size:14})," Edit Tag"]}),h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>E(!_),className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200 justify-between",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Lb,{size:14})," Add Tag"]}),_?h.jsx(Qf,{size:14}):h.jsx(Hc,{size:14})]}),_&&a.length>0&&h.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50",children:a.map((T,U)=>h.jsxs("button",{onClick:()=>{m(s.id,T.name,T.color),w(!1),E(!1)},className:"w-full px-4 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center gap-2",children:[h.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),h.jsx("span",{className:"text-slate-600 dark:text-slate-300 text-sm",children:T.name})]},U))}),_&&a.length===0&&h.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 py-2 px-4 text-xs text-slate-400",children:"No tags yet"})]}),s.tag&&h.jsxs("button",{onClick:()=>{g(s.id),w(!1)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[h.jsx(Vs,{size:14})," Remove Tag"]}),h.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 my-1"}),h.jsxs("button",{onClick:()=>{o(s.id),w(!1)},className:"w-full px-3 py-2 text-left hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 text-red-600 dark:text-red-400",children:[h.jsx(Bb,{size:14})," Delete Task"]})]})]})]})},v5=({isOpen:s,onClose:t,onSave:a,editTag:r,onDelete:o})=>{const[c,u]=B.useState(""),[m,g]=B.useState(Pc[0].hex),p=!!r;B.useEffect(()=>{r?(u(r.name),g(r.color)):(u(""),g(Pc[0].hex))},[r,s]);const y=()=>{c.trim()&&(a(c.trim(),m),u(""),g(Pc[0].hex),t())};return s?h.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-sm border border-slate-200 dark:border-slate-700",children:[h.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[h.jsx(Lb,{size:20,className:"text-[#6F00FF]"})," ",p?"Edit Tag":"Create Tag"]}),h.jsx("button",{onClick:t,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",children:h.jsx(Vs,{size:20})})]})}),h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tag Name"}),h.jsx("input",{type:"text",value:c,onChange:b=>u(b.target.value),placeholder:"e.g., Work, Personal",className:"w-full px-3 py-2 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-200 text-sm focus:outline-none focus:ring-2 focus:ring-[#6F00FF]/50",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Color"}),h.jsx("div",{className:"grid grid-cols-6 gap-2",children:Pc.map(b=>h.jsx("button",{onClick:()=>g(b.hex),className:`w-8 h-8 rounded-full transition-all ${m===b.hex?"ring-2 ring-offset-2 ring-[#6F00FF] dark:ring-offset-slate-900 scale-110":"hover:scale-105"}`,style:{backgroundColor:b.hex},title:b.name},b.id))})]}),c&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Preview"}),h.jsx("span",{className:"inline-block text-xs px-2 py-1 rounded font-semibold uppercase tracking-wide text-white",style:{backgroundColor:m},children:c})]})]}),h.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 flex justify-between",children:[p&&o&&h.jsx("button",{onClick:()=>{o(),t()},className:"px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:"Delete Tag"}),h.jsxs("div",{className:`flex gap-2 ${p?"":"ml-auto"}`,children:[h.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Cancel"}),h.jsx("button",{onClick:y,disabled:!c.trim(),className:"px-4 py-2 text-sm font-medium bg-[#6F00FF] text-white rounded-lg hover:bg-[#5800cc] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Save":"Create Tag"})]})]})]})}):null},b5=({initialHabit:s,userTags:t,onSave:a,onCancel:r,onCreateTag:o})=>{const[c,u]=B.useState((s==null?void 0:s.name)||""),[m,g]=B.useState((s==null?void 0:s.tag)||null),[p,y]=B.useState((s==null?void 0:s.tagColor)||null),[b,w]=B.useState(t.length);B.useEffect(()=>{if(t.length>b){const E=t[t.length-1];g(E.name),y(E.color)}w(t.length)},[t,b]);const _=E=>{E.preventDefault(),c.trim()&&a({name:c.trim(),tag:m,tagColor:p,frequency:"daily",scheduledDays:[],scheduledStartTime:null,scheduledEndTime:null})};return h.jsxs("form",{onSubmit:_,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Habit Name"}),h.jsx("input",{type:"text",value:c,onChange:E=>u(E.target.value),placeholder:"e.g., Morning workout",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-[#6F00FF]",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Tag ",h.jsx("span",{className:"text-slate-400 font-normal",children:"(optional)"})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.map(E=>h.jsx("button",{type:"button",onClick:()=>{g(E.name),y(E.color)},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all text-white ${m===E.name?"ring-2 ring-[#6F00FF] ring-offset-2 dark:ring-offset-slate-900":"hover:opacity-80"}`,style:{backgroundColor:E.color},children:E.name},E.name)),h.jsxs("button",{type:"button",onClick:o,className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700 flex items-center gap-1",children:[h.jsx(Fl,{size:14})," New Tag"]})]}),m&&h.jsx("button",{type:"button",onClick:()=>{g(null),y(null)},className:"mt-2 text-xs text-slate-500 hover:text-slate-700",children:" Remove tag"})]}),h.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[h.jsx(Ub,{size:16,className:"text-emerald-500"}),h.jsxs("span",{children:["Habits appear ",h.jsx("strong",{children:"every day"})," in the Habits section"]})]}),h.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Drag habits to the timeline to schedule them for a specific time. Your streak builds as you complete them each day!"})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 rounded-xl text-sm font-medium bg-slate-100 dark:bg-slate-800 text-slate-600 hover:bg-slate-200",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:!c.trim(),className:"flex-1 px-4 py-3 rounded-xl text-sm font-medium bg-[#6F00FF] text-white hover:bg-[#5800cc] disabled:opacity-50",children:s?"Update Habit":"Create Habit"})]})]})},x5=({isOpen:s,onClose:t,settings:a,setSettings:r,googleAccount:o,isGoogleConnecting:c,googleApiReady:u,handleConnectGoogle:m,handleDisconnectGoogle:g,isDark:p,toggleTheme:y,user:b,onLogout:w,initialTab:_="account"})=>{var ae;const[E,k]=B.useState(_),[T,U]=B.useState(!1),[V,M]=B.useState(a),K=V.timeFormat!==a.timeFormat||V.timezone!==a.timezone;B.useEffect(()=>{s&&(k(_),M(a))},[s,_,a]);const te=()=>{r(V),t()},ne=()=>{M(a),t()},J=ge=>{ge.target===ge.currentTarget&&ne()};if(!s)return null;const W=[{id:"account",label:"Account"},{id:"billing",label:"Billing"},{id:"customisations",label:"Customisations"},{id:"integrations",label:"Integrations"}];return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:J,children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-slate-200 dark:border-slate-800",onClick:ge=>ge.stopPropagation(),children:[h.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Settings"}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-0.5",children:"Manage your account, billing, customisations, and integrations here."})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("button",{onClick:y,className:"flex items-center gap-1 p-1 bg-slate-100 dark:bg-slate-800 rounded-full",children:[h.jsx("div",{className:`p-1.5 rounded-full transition-all ${p?"":"bg-white shadow-sm"}`,children:h.jsx(zb,{size:14,className:`${p?"text-slate-400":"text-amber-500"}`})}),h.jsx("div",{className:`p-1.5 rounded-full transition-all ${p?"bg-slate-700 shadow-sm":""}`,children:h.jsx(Mb,{size:14,className:`${p?"text-slate-200":"text-slate-400"}`})})]}),h.jsx("button",{onClick:ne,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg text-slate-500 transition-colors",children:h.jsx(Vs,{size:20})})]})]})}),h.jsxs("div",{className:"flex min-h-[400px]",children:[h.jsx("div",{className:"w-48 border-r border-slate-200 dark:border-slate-800 p-2",children:W.map(ge=>h.jsx("button",{onClick:()=>k(ge.id),className:`w-full text-left px-4 py-2.5 rounded-lg text-sm font-medium transition-all ${E===ge.id?"bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white border-l-2 border-emerald-500":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:ge.label},ge.id))}),h.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[E==="account"&&h.jsxs("div",{className:"space-y-6",children:[b&&h.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-semibold text-lg",children:((ae=b.email)==null?void 0:ae.charAt(0).toUpperCase())||"U"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"Logged in as"}),h.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:b.email})]})]})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1",children:"Sign Out"}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"Sign out of your account on all devices."}),h.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[h.jsx(v2,{size:16}),"Sign Out"]})]}),h.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1",children:"Unsubscribe from emails"}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"You will not receive any emails from Ascend."}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("button",{onClick:()=>U(!T),className:`relative w-11 h-6 rounded-full transition-colors ${T?"bg-emerald-500":"bg-slate-300 dark:bg-slate-600"}`,children:h.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${T?"left-6":"left-1"}`})}),h.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Unsubscribe from emails: ",T?"Yes":"No"]})]})]}),h.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1",children:"Delete Account"}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"Deleting your account will remove all of your data from our servers."}),h.jsx("button",{className:"text-sm text-red-500 hover:text-red-600 font-medium hover:underline",children:"Click here to delete your account"})]})]}),E==="billing"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{className:"px-5 py-2.5 bg-gradient-to-r from-[#6F00FF] to-purple-600 hover:from-[#5800cc] hover:to-purple-700 text-white text-sm font-semibold rounded-lg transition-all shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40",children:"Upgrade to Lifetime"}),h.jsx("button",{className:"px-5 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 text-sm font-medium rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Orders Portal"})]}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"You are currently on the Free plan. Upgrade to unlock all features."})]}),E==="customisations"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1",children:"Time Format"}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"Choose how times are displayed in your calendar."}),h.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-lg w-fit",children:[h.jsx("button",{onClick:()=>M({...V,timeFormat:"12h"}),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${V.timeFormat==="12h"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"12-hour (9:00 AM)"}),h.jsx("button",{onClick:()=>M({...V,timeFormat:"24h"}),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${V.timeFormat==="24h"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"24-hour (09:00)"})]})]}),h.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1",children:"Timezone"}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"Your calendar events will be displayed in this timezone."}),h.jsxs("div",{className:"relative w-full max-w-xs",children:[h.jsxs("select",{value:V.timezone,onChange:ge=>M({...V,timezone:ge.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm appearance-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none",children:[h.jsx("option",{value:"Local",children:"Local Time"}),h.jsx("option",{value:"UTC",children:"UTC (Coordinated Universal Time)"}),h.jsx("option",{value:"EST",children:"EST (Eastern Standard Time)"}),h.jsx("option",{value:"PST",children:"PST (Pacific Standard Time)"}),h.jsx("option",{value:"CET",children:"CET (Central European Time)"})]}),h.jsx(f2,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),h.jsx(Qf,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]})]}),E==="integrations"&&h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1",children:"Google Calendar"}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"Sync your schedule with Google Calendar for two-way sync."}),h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Status:"}),o?h.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-emerald-600 dark:text-emerald-400",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Synced"]}):h.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-500 dark:text-slate-400",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-400"}),"Not Connected"]})]}),o?h.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-xl border border-emerald-200 dark:border-emerald-800",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[o.picture?h.jsx("img",{src:o.picture,alt:o.name||o.email,className:"w-10 h-10 rounded-full",onError:ge=>{var ke;ge.currentTarget.style.display="none",(ke=ge.currentTarget.nextElementSibling)==null||ke.classList.remove("hidden")}}):null,h.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-semibold ${o.picture?"hidden":""}`,children:h.jsx(V2,{size:20})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-emerald-800 dark:text-emerald-200",children:o.name}),h.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:o.email})]})]}),h.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-3 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors text-sm font-medium",children:[h.jsx(L2,{size:16}),"Disconnect"]})]}):h.jsx("button",{onClick:m,disabled:c||!u,className:"flex items-center gap-3 px-4 py-3 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:c?h.jsxs(h.Fragment,{children:[h.jsx(Jl,{size:20,className:"animate-spin text-slate-500"}),h.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Connecting..."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),h.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Connect Google Calendar"})]})})]})})]})]}),h.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{children:K&&h.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-400 flex items-center gap-2",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500 animate-pulse"}),"You have unsaved changes"]})}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:ne,className:"px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:te,disabled:!K,className:`px-5 py-2 text-sm font-semibold rounded-lg transition-all ${K?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-sm":"bg-slate-200 dark:bg-slate-700 text-slate-400 dark:text-slate-500 cursor-not-allowed"}`,children:"Save"})]})]})})]})})},w5=({onBack:s,user:t,onLogin:a,onLogout:r})=>{var Xr;const{isDark:o,toggleTheme:c}=g5(),[u,m]=B.useState("timebox"),[g,p]=B.useState(!0),[y,b]=B.useState(!1),[w,_]=B.useState("account"),[E,k]=B.useState({timeFormat:"24h",timezone:"Local"}),[T,U]=B.useState(()=>{const x=new Date;x.setHours(0,0,0,0);const j=localStorage.getItem("ascend_selected_date");if(j){const N=new Date(j);if(N.setHours(0,0,0,0),N>=x)return N}return x}),[V,M]=B.useState(!1),[K,te]=B.useState(new Date),ne=B.useRef(null),[J,W]=B.useState(()=>{const x=localStorage.getItem("ascend_user_tags");return x?JSON.parse(x):[]}),[ae,ge]=B.useState(!1),[ke,Fe]=B.useState(null),[ht,bt]=B.useState(null),[et,q]=B.useState(null),[G,ce]=B.useState(""),[Ce,Ne]=B.useState(!1),[O,ee]=B.useState(!1),[ie,de]=B.useState(()=>localStorage.getItem("ascend_promo_dismissed")!=="true"),[ue,Ae]=B.useState(()=>{const x=localStorage.getItem("ascend_weight_entries");return x?JSON.parse(x):[]}),[$e,Ot]=B.useState(""),[it,ts]=B.useState(ut(new Date)),[qe,hn]=B.useState(()=>{const x=localStorage.getItem("ascend_habits");return x?JSON.parse(x):[]}),Or=B.useRef(qe),[hs,ns]=B.useState(!1),[fs,ja]=B.useState(null);B.useEffect(()=>{localStorage.setItem("ascend_habits",JSON.stringify(qe)),Or.current=qe},[qe]);const ms=B.useRef(null),[mi,Dr]=B.useState(new Date);B.useEffect(()=>{const x=setInterval(()=>Dr(new Date),6e4);return()=>clearInterval(x)},[]);const Is=mi.getHours()+mi.getMinutes()/60,[_t,gi]=B.useState(null),[Zt,fo]=B.useState(!1),[mo,Rr]=B.useState(!1);B.useEffect(()=>{(async()=>{try{await BA();const j=LA();j!=null&&j.connected&&(gi({email:j.email||"",name:"",picture:""}),Of({email:j.email||""}),_e({type:"success",message:"Google Calendar connected!"}),fo(!1)),Rr(!0)}catch(j){console.error("Failed to initialize Google APIs:",j),Rr(!0)}})()},[]),B.useEffect(()=>{(async()=>{if(!t)return;const{data:{session:j}}=await Ue.auth.getSession();if(j!=null&&j.access_token){RA(j.access_token);const N=await MA();if(N.connected){gi({email:N.email||"",name:"",picture:""}),Of({email:N.email||""});const A=await Kc();A&&qv(A)}}})()},[t]);const pi=()=>{if(!t){_e({type:"error",message:"Please log in first"});return}fo(!0),UA(t.id)},Eu=async()=>{await zA(),gi(null),Da(!1),VA(),_e({type:"info",message:"Google Calendar disconnected"})},[Qt,ft]=B.useState([]),[Fs,ct]=B.useState([]),[tt,Qe]=B.useState(y5),[Mt,go]=B.useState(""),[gs,Mr]=B.useState(!1),[Mn,yi]=B.useState(()=>{const x=localStorage.getItem("ascend_zoom_state");return x?JSON.parse(x):!1}),[ps,Un]=B.useState(0),ka=96,qs=40,zn=Mn?qs:ka,po=()=>{const x=!Mn;yi(x),localStorage.setItem("ascend_zoom_state",JSON.stringify(x)),setTimeout(()=>{if(ms.current){const N=Is*(x?qs:ka),A=ms.current.clientHeight,R=N-A/2;ms.current.scrollTo({top:Math.max(0,R),behavior:"smooth"})}},50)};B.useEffect(()=>{localStorage.setItem("ascend_selected_date",T.toISOString())},[T]),B.useEffect(()=>{(async()=>{if(!t)return;!gs&&Mr(!1);try{const N=ut(T);await h5(T);const[A,R,z]=await Promise.all([f5(T),jb(T),c5(T)]),{active:H,later:he}=A;ft([]),ct([]),Qe([]),ft(H.map(Q=>({id:Q.id,title:Q.title,tag:Q.tag,tagColor:Q.tagColor,time:Q.time,completed:Q.completed,completedAt:Q.completedAt,assignedDate:Q.assignedDate,isRecurring:Q.isRecurring,recurrencePattern:Q.recurrencePattern,parentTaskId:Q.parentTaskId}))),ct(he.map(Q=>({id:Q.id,title:Q.title,tag:Q.tag,tagColor:Q.tagColor,time:Q.time,completed:Q.completed,completedAt:Q.completedAt,assignedDate:Q.assignedDate,isRecurring:Q.isRecurring,recurrencePattern:Q.recurrencePattern,parentTaskId:Q.parentTaskId})));const Le=R.map(Q=>{if(Q.taskId){const re=String(Q.taskId),Be=H.find(mt=>String(mt.id)===re)||he.find(mt=>String(mt.id)===re);if(Be&&Be.completed!==Q.completed)return console.log(` Syncing block "${Q.title}": ${Q.completed}  ${Be.completed}`),{...Q,completed:Be.completed}}if(Q.habitId){const re=Or.current.find(Be=>String(Be.id)===String(Q.habitId));if(re){const Be=re.completedDates.includes(N);if(Q.completed&&!Be)hn(mt=>mt.map(fn=>String(fn.id)===String(Q.habitId)?{...fn,completedDates:[...fn.completedDates,N]}:fn));else if(!Q.completed&&Be)return{...Q,completed:!0}}}return Q}).filter((Q,re,Be)=>re===Be.findIndex(mt=>String(mt.id)===String(Q.id))).filter(Q=>Q.habitId&&!qe.some(Be=>Be.id===Q.habitId)?(lf(String(Q.id)).catch(()=>{}),!1):!0);Qe(Le),ce(z),Mr(!0),_t&&vi(T).catch(Q=>console.error("Error loading Google Calendar:",Q))}catch(N){console.error("Error loading data:",N),Mr(!0)}})()},[t,T]),B.useEffect(()=>{(async()=>{if(!t)return;const j=await l5();j&&k({timeFormat:j.timeFormat||"24h",timezone:j.timezone||"Local"})})()},[t]);const vi=async x=>{if(!_t)return;const j=await Kc();if(j){qv(j);try{const N=new Date(x.getFullYear(),x.getMonth(),x.getDate(),0,0,0),A=new Date(x.getFullYear(),x.getMonth(),x.getDate(),23,59,59),z=(await Kv(N,A,!0,!0)).map(H=>({id:H.id,title:H.title,tag:H.calendarName||"google",start:H.start,duration:H.duration,color:H.calendarColor?"":"bg-blue-400/90 dark:bg-blue-600/90 border-blue-500",textColor:"text-white",isGoogle:!0,googleEventId:H.id,completed:!1,calendarColor:H.calendarColor,calendarName:H.calendarName,calendarId:H.calendarId,canEdit:H.canEdit??!1}));Qe(H=>{const he=new Set(z.map(xe=>xe.googleEventId).filter(Boolean)),se=new Map(H.filter(xe=>xe.googleEventId).map(xe=>[xe.googleEventId,xe])),we=H.filter(xe=>xe.googleEventId&&he.has(xe.googleEventId)?(console.log(" Removing old version of:",xe.title,"at",xe.start),!1):!xe.isGoogle||xe.taskId||xe.habitId);H.filter(xe=>xe.isGoogle&&xe.googleEventId&&he.has(xe.googleEventId)).forEach(xe=>{const gt=z.find(as=>as.googleEventId===xe.googleEventId);gt&&xe.start!==gt.start&&console.log(` Moving "${xe.title}" from ${xe.start}:00 to ${gt.start}:00`)});const Q=H.filter(xe=>xe.isGoogle&&xe.googleEventId&&!he.has(xe.googleEventId)),re=new Set(we.map(xe=>`${xe.start}-${xe.title}`)),mt=z.map(xe=>{const gt=se.get(xe.googleEventId);return gt?(console.log(" Preserving properties for:",xe.title,"- taskId:",gt.taskId,"habitId:",gt.habitId),{...xe,taskId:gt.taskId,habitId:gt.habitId,completed:gt.completed,tag:gt.taskId||gt.habitId?gt.tag:xe.tag}):xe}).filter(xe=>{const gt=`${xe.start}-${xe.title}`;return re.has(gt)?(console.log(" Skipping Google event (Signature match):",xe.title,"at",xe.start),!1):!0});console.log(" Adding/Updating",mt.length,"Google events"),console.log(" Keeping",we.length,"local blocks"),console.log(" Keeping",Q.length,"unchanged Google events");const fn=[...we,...Q,...mt],bs=fn.filter((xe,gt,as)=>gt===as.findIndex(Jr=>String(Jr.id)===String(xe.id)));return bs.length<fn.length&&console.log(` Removed ${fn.length-bs.length} duplicate blocks`),bs})}catch(N){console.error("Failed to load Google Calendar events:",N),(N==null?void 0:N.message)==="SESSION_EXPIRED"&&(gi(null),_e({type:"info",message:"Google Calendar session expired. Please reconnect in Settings."}))}}},[Ln,bi]=B.useState(null),[xi,Aa]=B.useState(null),[Ur,Ca]=B.useState(null),[Bn,zr]=B.useState(null),[wi,Vn]=B.useState(null),[xt,Lt]=B.useState(null),[Wt,Si]=B.useState(null),[Lr,yo]=B.useState(null),[_i,Gs]=B.useState(null),[vo,Na]=B.useState(!1),[Oa,Da]=B.useState(!1);B.useEffect(()=>{if(!_t||!gs)return;const x=setInterval(async()=>{await Kc()&&await vi(T)},1e4);return()=>clearInterval(x)},[_t,gs,T]);const[Gt,_e]=B.useState(null);B.useEffect(()=>{if(Gt){const x=setTimeout(()=>_e(null),1e3);return()=>clearTimeout(x)}},[Gt]),B.useEffect(()=>{if(!t||!gs)return;(async()=>{await o5({timeFormat:E.timeFormat,timezone:E.timezone})})()},[E,t,gs]);const bo=Array.from({length:24},(x,j)=>j);B.useEffect(()=>{if(ms.current&&gs){const x=Math.max(0,(Is-2)*96);ms.current.scrollTop=x}},[gs]),B.useEffect(()=>{const x=j=>{ne.current&&!ne.current.contains(j.target)&&M(!1)};return V&&document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[V]);const[Ra,nn]=B.useState(null);B.useEffect(()=>{const x=()=>nn(null);return Ra&&document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[Ra]);const Ks=(x,j)=>new Date(x,j+1,0).getDate(),ju=(x,j)=>new Date(x,j,1).getDay(),Br=(x,j)=>x.getFullYear()===j.getFullYear()&&x.getMonth()===j.getMonth()&&x.getDate()===j.getDate(),Vr=x=>Br(x,new Date),Ti=()=>ut(new Date),Ma=(x,j)=>{const N=new Date(x.createdAt);N.setHours(0,0,0,0);const A=new Date(j);return A.setHours(0,0,0,0),A>=N},$n=(x,j)=>x.completedDates.includes(j),Pn=x=>{let j=0;const N=new Date;N.setHours(0,0,0,0);let A=new Date(N);const R=[...x.completedDates].sort().reverse();if(R.length>0){const Q=new Date(R[0]);Q>A&&(A=Q)}const z=ut(N),H=new Date(N);H.setDate(H.getDate()-1);const he=ut(H),se=x.completedDates.includes(z),we=x.completedDates.includes(he);if(!se&&!we)return x.completedDates.length>0,0;let Le=new Date(A);for(;;){const Q=ut(Le);if(x.completedDates.includes(Q))j++,Le.setDate(Le.getDate()-1);else break;if(j>1e3)break}return j},Ut=(x,j)=>{const A=ut(j||T),R=qe.find(se=>se.id===x);if(!R)return;const H=!R.completedDates.includes(A);hn(se=>se.map(we=>{if(we.id!==x)return we;const Le=H?[...we.completedDates,A]:we.completedDates.filter(Be=>Be!==A),Q={...we,completedDates:Le},re=Pn(Q);return{...Q,currentStreak:re,longestStreak:Math.max(we.longestStreak,re)}})),Qe(se=>se.map(we=>we.habitId===x?{...we,completed:H}:we));const he=tt.filter(se=>se.habitId===x);for(const se of he)Bs(String(se.id),{completed:H}).catch(we=>console.error("Failed to sync habit block completion:",we))},xo=x=>{const j={...x,id:crypto.randomUUID(),currentStreak:0,longestStreak:0,completedDates:[],createdAt:ut(new Date)};hn(N=>[...N,j]),ns(!1)},ku=(x,j)=>{hn(N=>N.map(A=>A.id===x?{...A,...j}:A)),ja(null)},$r=x=>hn(j=>j.filter(N=>N.id!==x)),Hn=()=>qe,ys=()=>qe,wo=x=>{const j=new Date(x.getTime());j.setHours(0,0,0,0),j.setDate(j.getDate()+3-(j.getDay()+6)%7);const N=new Date(j.getFullYear(),0,4);return 1+Math.round(((j.getTime()-N.getTime())/864e5-3+(N.getDay()+6)%7)/7)},Bt=x=>{const j=[],N=new Date;N.setDate(N.getDate()+ps*7);const A=N.getDay(),R=N.getDate()-A+(A===0?-6:1),z=new Date(N);z.setDate(R),z.setHours(0,0,0,0);for(let H=0;H<7;H++){const he=new Date(z);he.setDate(z.getDate()+H);const se=ut(he),we=ut(new Date)===se;j.push({date:he,dateString:se,dayName:p5[he.getDay()],isScheduled:Ma(x,he),isCompleted:x.completedDates.includes(se),isToday:we})}return j},Pr=(x,j)=>{if(et){const N=et.name,A=J.map(R=>R.name===N?{name:x,color:j}:R);W(A),localStorage.setItem("ascend_user_tags",JSON.stringify(A)),ft(R=>R.map(z=>z.tag===N?{...z,tag:x,tagColor:j}:z)),ct(R=>R.map(z=>z.tag===N?{...z,tag:x,tagColor:j}:z)),hn(R=>R.map(z=>z.tag===N?{...z,tag:x,tagColor:j}:z)),q(null)}else{const N={name:x,color:j},A=[...J,N];W(A),localStorage.setItem("ascend_user_tags",JSON.stringify(A)),ke&&ss(ke,x,j),ht&&vs(ht,x,j)}Fe(null),bt(null)},So=()=>{if(!et)return;const x=et.name,j=J.filter(N=>N.name!==x);W(j),localStorage.setItem("ascend_user_tags",JSON.stringify(j)),ft(N=>N.map(A=>A.tag===x?{...A,tag:null,tagColor:null}:A)),ct(N=>N.map(A=>A.tag===x?{...A,tag:null,tagColor:null}:A)),hn(N=>N.map(A=>A.tag===x?{...A,tag:void 0,tagColor:void 0}:A)),q(null)},Ua=x=>{q(x),ge(!0)},ss=async(x,j,N)=>{ft(A=>A.map(R=>String(R.id)===String(x)?{...R,tag:j,tagColor:N}:R)),ct(A=>A.map(R=>String(R.id)===String(x)?{...R,tag:j,tagColor:N}:R)),await ni(String(x),{tag:j,tagColor:N})},Hr=async x=>{ft(j=>j.map(N=>String(N.id)===String(x)?{...N,tag:null,tagColor:null}:N)),ct(j=>j.map(N=>String(N.id)===String(x)?{...N,tag:null,tagColor:null}:N)),await ni(String(x),{tag:null,tagColor:null})},Ir=x=>{Fe(x),ge(!0)},vs=(x,j,N)=>{hn(A=>A.map(R=>R.id===x?{...R,tag:j,tagColor:N}:R))},Au=x=>{hn(j=>j.map(N=>N.id===x?{...N,tag:void 0,tagColor:void 0}:N))},Fr=async(x,j)=>{const N=Qt.find(z=>String(z.id)===String(x)),A=Fs.find(z=>String(z.id)===String(x)),R=N||A;R&&(N&&j==="later"?(ft(z=>z.filter(H=>String(H.id)!==String(x))),ct(z=>[...z,{...R,time:null,assignedDate:null}])):A&&j==="active"&&(ct(z=>z.filter(H=>String(H.id)!==String(x))),ft(z=>[...z,{...R,assignedDate:ut(T)}])),await Cb(String(x),j,T))},Ei=async x=>{const j=String(x),N=Qt.find(z=>z.id===j)||Fs.find(z=>z.id===j);if(!N)return;const A=!N.completed,R=A?ut(new Date):null;ft(z=>z.map(H=>H.id===j?{...H,completed:A,completedAt:R}:H)),ct(z=>z.map(H=>H.id===j?{...H,completed:A,completedAt:R}:H)),Qe(z=>z.map(H=>String(H.taskId)===j?{...H,completed:A}:H));try{await Ab(j,A);const z=tt.filter(H=>String(H.taskId)===j);for(const H of z)await Bs(String(H.id),{completed:A});console.log(` Task ${j} and associated blocks synced to completed: ${A}`)}catch(z){console.error("Failed to sync completion to database:",z)}},qr=async x=>{const j=tt.find(R=>String(R.id)===String(x));if(!j)return;const N=!j.completed,A=ut(new Date);Qe(R=>R.map(z=>String(z.id)===String(x)?{...z,completed:N}:z)),j.taskId&&(ft(z=>z.map(H=>String(H.id)===String(j.taskId)?{...H,completed:N,completedAt:N?A:null}:H)),ct(z=>z.map(H=>String(H.id)===String(j.taskId)?{...H,completed:N,completedAt:N?A:null}:H)),(Qt.find(z=>String(z.id)===String(j.taskId))||Fs.find(z=>String(z.id)===String(j.taskId)))&&await Ab(String(j.taskId),N)),j.habitId&&Ut(j.habitId,T),await Bs(String(x),{completed:N})},Gr=B.useRef(null),nt=x=>{ce(x),Gr.current&&clearTimeout(Gr.current),Gr.current=setTimeout(async()=>{t&&await u5(T,x)&&(Ne(!0),setTimeout(()=>Ne(!1),2e3))},500)},Ys=()=>{const x=parseFloat($e);if(isNaN(x)||x<=0)return;const j=it,N=ue.findIndex(R=>R.date===j);let A=N>=0?ue.map((R,z)=>z===N?{date:j,weight:x}:R):[...ue,{date:j,weight:x}].sort((R,z)=>R.date.localeCompare(z.date));A.length>90&&(A=A.slice(-90)),Ae(A),localStorage.setItem("ascend_weight_entries",JSON.stringify(A)),Ot(""),ts(ut(new Date)),_e({type:"success",message:`Weight logged: ${x} kg`})},In=async x=>{const j=new Date(K.getFullYear(),K.getMonth(),x);U(j),M(!1),await ji(j)},ji=async x=>{try{const j=await jb(x),N=ut(x),A=qe.filter(se=>se.scheduledStartTime&&Ma(se,x)).map(se=>{const[we,Le]=se.scheduledStartTime.split(":").map(Number),Q=we+Le/60;let re=.5;if(se.scheduledEndTime){const[Be,mt]=se.scheduledEndTime.split(":").map(Number);re=Math.max(.25,Be+mt/60-Q)}return{id:`habit-${se.id}-${N}`,title:se.name,tag:se.tag,start:Q,duration:re,color:se.tagColor||"#6F00FF",textColor:"text-white",isGoogle:!1,completed:se.completedDates.includes(N),habitId:se.id,calendarColor:se.tagColor}});let R=[];if(_t){const se=new Date(x.getFullYear(),x.getMonth(),x.getDate(),0,0,0),we=new Date(x.getFullYear(),x.getMonth(),x.getDate(),23,59,59);try{R=(await Kv(se,we,!0,!0)).map(Q=>({id:Q.id,title:Q.title,tag:Q.calendarName||"google",start:Q.start,duration:Q.duration,color:Q.calendarColor?"":"bg-fuchsia-600/90 dark:bg-fuchsia-700/90 border-fuchsia-600",textColor:"text-white",isGoogle:!0,googleEventId:Q.id,completed:!1,calendarColor:Q.calendarColor,calendarName:Q.calendarName}))}catch(Le){console.error("Failed to fetch Google Calendar events:",Le)}}const z=new Set(j.map(se=>se.googleEventId).filter(Boolean));console.log(" DB Block Google IDs:",Array.from(z));const H=new Set(j.map(se=>`${se.start}-${se.title}`));console.log(" DB Block Signatures:",Array.from(H)),console.log(" Google Blocks to filter:",R.map(se=>({title:se.title,start:se.start,id:se.googleEventId})));const he=R.filter(se=>{if(se.googleEventId&&z.has(se.googleEventId))return console.log(" FILTERED (ID match):",se.title,"Google ID:",se.googleEventId),!1;const we=`${se.start}-${se.title}`;return H.has(we)?(console.log(" FILTERED (Signature match):",se.title,"at",se.start,"Signature:",we),!1):(console.log(" KEEPING Google event:",se.title,"at",se.start,"Signature:",we),!0)});console.log(" Final schedule: DB blocks:",j.length,"Unique Google blocks:",he.length,"Habit blocks:",A.length),Qe([...j,...he,...A])}catch(j){console.error("Failed to load schedule for date:",j),_e({type:"error",message:"Failed to load schedule"})}},Kr=()=>te(new Date(K.getFullYear(),K.getMonth()-1,1)),Xs=()=>te(new Date(K.getFullYear(),K.getMonth()+1,1)),Kt=(x,j=!1)=>{const N=Math.floor(x),A=Math.round((x-N)*60),R=A.toString().padStart(2,"0");if(E.timeFormat==="24h")return`${N.toString().padStart(2,"0")}:${R}`;const z=N>=12?"PM":"AM",H=N>12?N-12:N===0||N===24?12:N;return j&&A===0?`${H} ${z}`:`${H}:${R} ${z}`},ki=B.useRef(tt);ki.current=tt;const Ai=B.useRef(zn);Ai.current=zn,B.useEffect(()=>{const x=N=>{const A=Ai.current;if(Bn!==null&&wi!==null&&xt!==null){const z=(N.clientY-wi)/A;let H=xt+z;H=Math.round(H*4)/4,H<.25&&(H=.25),Qe(he=>he.map(se=>se.id===Bn?{...se,duration:H}:se))}if(Wt!==null&&Lr!==null&&_i!==null){const z=(N.clientY-Lr)/A;let H=_i+z;H=Math.round(H*4)/4;const se=ki.current.find(we=>we.id===Wt);se&&(H<0&&(H=0),H+se.duration>24&&(H=24-se.duration)),Qe(we=>we.map(Le=>Le.id===Wt?{...Le,start:H}:Le))}},j=async()=>{const N=ki.current,A=R=>!R.isGoogle||R.taskId||R.habitId?!0:R.canEdit===!0;if(Bn!==null){const R=N.find(z=>z.id===Bn);if(R&&(R.isGoogle||await Bs(String(R.id),{duration:R.duration}),R.googleEventId&&_t))if(A(R))try{await Jh(R.googleEventId,R.title,R.start,R.duration,T,R.calendarId,R.color||R.calendarColor||void 0),_e({type:"success",message:"Event updated"})}catch(z){console.error("Failed to update Google Calendar event:",z),_e({type:"error",message:"Failed to update event"})}else _e({type:"info",message:`External calendar events (${R.calendarName}) are read-only`});zr(null),Vn(null),Lt(null)}if(Wt!==null){const R=N.find(z=>z.id===Wt);if(R){if(R.isGoogle||await Bs(String(R.id),{start:R.start}),R.googleEventId&&_t)if(A(R))try{await Jh(R.googleEventId,R.title,R.start,R.duration,T,R.calendarId,R.color||R.calendarColor||void 0),_e({type:"success",message:"Event time updated"})}catch(z){console.error("Failed to update Google Calendar event:",z),_e({type:"error",message:"Failed to update event"})}else _e({type:"info",message:`External calendar events (${R.calendarName}) are read-only`});if(R.taskId){const z=Kt(R.start);ft(H=>H.map(he=>String(he.id)===String(R.taskId)?{...he,time:z}:he)),ct(H=>H.map(he=>String(he.id)===String(R.taskId)?{...he,time:z}:he)),await ni(String(R.taskId),{time:z})}}Si(null),yo(null),Gs(null)}};return(Bn!==null||Wt!==null)&&(window.addEventListener("mousemove",x),window.addEventListener("mouseup",j)),()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",j)}},[Bn,wi,xt,Wt,Lr,_i,_t,T]);const _o=async x=>{if(x.key==="Enter"&&Mt.trim()){const j=await d5(Mt.trim(),T,"active");if(j){const N={id:j.id,title:j.title,tag:j.tag,tagColor:j.tagColor,time:j.time,completed:j.completed,completedAt:j.completedAt,assignedDate:j.assignedDate};ft([...Qt,N])}else{const N={id:Date.now(),title:Mt.trim(),tag:null,tagColor:null,time:null,completed:!1};ft([...Qt,N])}go("")}},Js=async(x,j)=>{const N=tt.find(A=>A.taskId&&String(A.taskId)===String(x));if(N){if(N.googleEventId&&_t)try{await Xv(N.googleEventId)}catch(A){console.error("Failed to delete from Google Calendar:",A)}await lf(String(N.id)),Qe(A=>A.filter(R=>String(R.id)!==String(N.id)))}await i5(String(x)),j==="active"?ft(A=>A.filter(R=>String(R.id)!==String(x))):ct(A=>A.filter(R=>String(R.id)!==String(x)))},Fn=async x=>{const j=tt.find(z=>String(z.id)===String(x)),N=(j==null?void 0:j.taskId)||(j==null?void 0:j.habitId);if((j==null?void 0:j.isGoogle)&&(j==null?void 0:j.canEdit)!==!0&&!N){_e({type:"info",message:`Calendar events from "${j==null?void 0:j.calendarName}" can only be hidden (read-only access)`}),Qe(z=>z.filter(H=>String(H.id)!==String(x)));return}if((j==null?void 0:j.googleEventId)&&_t&&(!(j!=null&&j.isGoogle)||(j==null?void 0:j.canEdit)||(j==null?void 0:j.taskId)||(j==null?void 0:j.habitId)))try{await Xv(j.googleEventId)}catch(z){console.error(" Failed to delete from Google Calendar:",z),_e({type:"error",message:"Failed to delete from Google Calendar"})}j!=null&&j.taskId&&(ft(z=>z.map(H=>String(H.id)===String(j.taskId)?{...H,time:null}:H)),ct(z=>z.map(H=>String(H.id)===String(j.taskId)?{...H,time:null}:H)),await ni(String(j.taskId),{time:null})),await lf(String(x)),Qe(z=>z.filter(H=>String(H.id)!==String(x)))},Ci=(x,j,N)=>{bi({task:j,sourceList:N}),x.dataTransfer.setData("application/json",JSON.stringify({task:j,sourceList:N})),x.dataTransfer.effectAllowed="copyMove"},Zs=(x,j)=>{x.preventDefault(),xi!==j&&Aa(j),x.dataTransfer.dropEffect="move"},qn=async(x,j)=>{if(x.preventDefault(),Aa(null),!Ln)return;const{task:N,sourceList:A}=Ln;if(A===j)return;A==="active"?ft(z=>z.filter(H=>H.id!==N.id)):ct(z=>z.filter(H=>H.id!==N.id));const R={...N};j!=="active"&&(R.time=null),j==="active"?ft(z=>[...z,R]):ct(z=>[...z,R]),await r5(String(N.id),j),bi(null)},Yr=x=>{x.preventDefault(),x.dataTransfer.dropEffect="copy"},Ni=async(x,j)=>{x.preventDefault(),Ca(null);const N=x.dataTransfer.getData("habitId");if(N){const Q=x.dataTransfer.getData("habitName"),re=x.dataTransfer.getData("habitTag")||null,Be=x.dataTransfer.getData("habitTagColor")||null;if(tt.find(xs=>xs.habitId===N)){_e({type:"info",message:"This habit is already on the timeline!"});return}const fn=qe.find(xs=>String(xs.id)===String(N)),bs=ut(T),xe=fn?fn.completedDates.includes(bs):!1,gt={title:Q,tag:re,start:j,duration:1,color:Be||"#6F00FF",textColor:"text-white",isGoogle:!1,completed:xe,habitId:N},as=await kb(gt,T),Jr=as?{...as,habitId:N,calendarColor:Be}:{id:Date.now(),...gt,calendarColor:Be};let za;if(_t)try{za=await Xh(Q,j,1,T,re||void 0,Be||void 0),as&&za&&await Bs(String(as.id),{googleEventId:za})}catch(xs){console.error("Failed to create Google Calendar event for habit:",xs),_e({type:"error",message:`Failed to sync "${Q}" to Google Calendar`})}const To={...Jr,googleEventId:za};Qe(xs=>[...xs,To]),za?_e({type:"success",message:`Scheduled "${Q}" and synced to Google Calendar`}):_t||_e({type:"success",message:`Scheduled "${Q}" at ${Kt(j)}`});return}if(!Ln)return;const{task:A}=Ln,R=tt.find(Q=>Q.taskId===A.id);if(R){const Q=j;if(Qe(re=>re.map(Be=>Be.id===R.id?{...Be,start:Q}:Be)),R.isGoogle||await Bs(String(R.id),{start:Q}),_t)if(R.googleEventId)try{await Jh(R.googleEventId,R.title,Q,R.duration,T,void 0,R.color||R.calendarColor||void 0),_e({type:"success",message:`Updated "${A.title}" time on Google Calendar`})}catch(re){console.error("Failed to update Google event on drop:",re)}else try{const re=await Xh(R.title,Q,R.duration,T,A.tag||void 0,A.tagColor||void 0);Qe(Be=>Be.map(mt=>mt.id===R.id?{...mt,googleEventId:re,isGoogle:!0}:mt)),await Bs(String(R.id),{googleEventId:re,isGoogle:!0}),_e({type:"success",message:`Synced "${A.title}" to Google Calendar`})}catch(re){console.error("Failed to create Google event for existing block:",re)}else _e({type:"success",message:`Moved "${A.title}" to ${Kt(j)}`});bi(null);return}const z=ut(T);await ni(String(A.id),{assignedDate:z}),ft(Q=>Q.map(re=>String(re.id)===String(A.id)?{...re,assignedDate:z}:re)),ct(Q=>Q.map(re=>String(re.id)===String(A.id)?{...re,assignedDate:z}:re));const H={title:A.title,tag:A.tag||null,start:j,duration:1,color:A.tagColor||"#8e24aa",textColor:"text-white",isGoogle:!1,completed:A.completed||!1,taskId:String(A.id)},he=await kb(H,T);he||(console.error(" Failed to save block to DB immediately after creation"),_e({type:"error",message:"Failed to save to database! Please try logging out and in again."}));const se=he?{...he,taskId:String(A.id),calendarColor:A.tagColor||void 0,completed:A.completed||!1}:{id:Date.now(),...H,calendarColor:A.tagColor||void 0};if(Qe(Q=>[...Q,se]),_t&&he)try{const Q=await Xh(A.title,j,1,T,A.tag||void 0,A.tagColor||void 0);if(Q){const re={...se,googleEventId:Q,isGoogle:!0};Qe(Be=>Be.map(mt=>mt.id===he.id?re:mt)),await Bs(String(he.id),{googleEventId:Q,isGoogle:!0})}}catch(Q){console.error(" Failed to auto-sync to Google:",Q)}const we=Kt(j),Le=ut(T);if(Ln.sourceList==="later"){ct(re=>re.filter(Be=>Be.id!==A.id));const Q={...A,time:we,assignedDate:Le};ft(re=>[...re,Q]),await Cb(String(A.id),"active",T),await ni(String(A.id),{time:we})}else ft(Q=>Q.map(re=>re.id===A.id?{...re,time:we,assignedDate:Le}:re)),await ni(String(A.id),{time:we,assignedDate:Le});bi(null)};return h.jsxs("div",{className:"flex flex-col h-screen bg-slate-50 dark:bg-[#0B1121] text-slate-900 dark:text-slate-100 overflow-hidden",children:[Gt&&h.jsxs("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 animate-in slide-in-from-top-2 duration-300 ${Gt.type==="success"?"bg-emerald-500 text-white":Gt.type==="error"?"bg-red-500 text-white":"bg-blue-500 text-white"}`,children:[Gt.type==="success"&&h.jsx(jy,{size:18}),Gt.type==="error"&&h.jsx(Vs,{size:18}),Gt.type==="info"&&h.jsx(Oh,{size:18}),h.jsx("span",{className:"text-sm font-medium",children:Gt.message}),h.jsx("button",{onClick:()=>_e(null),className:"ml-2 opacity-70 hover:opacity-100 transition-opacity",children:h.jsx(Vs,{size:14})})]}),h.jsxs("header",{className:"relative h-14 bg-white dark:bg-[#0B1121] border-b border-slate-200 dark:border-white/5 flex items-center justify-between px-4 z-20 shrink-0",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("button",{onClick:s,className:"flex items-center gap-2 group cursor-pointer",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden shadow-md shadow-violet-600/20",children:h.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 512 512",fill:"none",children:[h.jsx("rect",{width:"512",height:"512",rx:"100",fill:"#6d3dc1"}),h.jsx("path",{d:"M 65.148438 215.859375 L 81.007812 225.375 L 150.804688 136.546875 L 184.117188 176.992188 L 311.011719 0.136719 L 385.5625 84.199219 L 415.699219 66.785156 L 517.222656 177.023438 L 571.117188 155.582031 L 713.113281 288.820312 L 567.582031 187.308594 L 511.699219 214.703125 C 511.699219 214.703125 510.898438 308.683594 510.898438 312.648438 C 510.898438 316.613281 414.082031 179.410156 414.082031 179.410156 L 414.082031 278.542969 L 315.398438 49.339844 L 124.363281 332.972656 L 166.761719 225.765625 L 133.746094 252.339844 L 146.972656 192.921875 L 85.773438 259.898438 L 64.351562 245.617188 L 0.910156 288.839844 Z",fill:"white",transform:"translate(20, 120) scale(0.65)"})]})}),h.jsxs("span",{className:"font-bold text-lg tracking-tight dark:text-slate-100",children:["Ascend",h.jsx("span",{className:"text-[#6F00FF]",children:"."})]})]})}),h.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 hidden md:flex items-center bg-slate-100 dark:bg-white/5 rounded-full p-1 border border-transparent dark:border-white/5",children:[h.jsxs("button",{onClick:()=>m("dashboard"),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold transition-all ${u==="dashboard"?"bg-white dark:bg-white/10 text-[#6F00FF] dark:text-violet-300 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:[h.jsx(Rb,{size:16})," Dashboard"]}),h.jsxs("button",{onClick:()=>m("timebox"),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold transition-all ${u==="timebox"?"bg-white dark:bg-white/10 text-[#6F00FF] dark:text-violet-300 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:[h.jsx(Dh,{size:16})," Timebox"]}),h.jsxs("button",{onClick:()=>m("habittracker"),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold transition-all ${u==="habittracker"?"bg-white dark:bg-white/10 text-[#6F00FF] dark:text-violet-300 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:[h.jsx(Qa,{size:16})," Habits"]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:c,className:"p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:o?h.jsx(zb,{size:18}):h.jsx(Mb,{size:18})}),h.jsx("button",{onClick:()=>{_("account"),b(!0)},className:"p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",title:"Settings",children:h.jsx(N2,{size:18})})]})]}),y&&h.jsx(x5,{isOpen:y,onClose:()=>b(!1),settings:E,setSettings:k,googleAccount:_t,isGoogleConnecting:Zt,googleApiReady:mo,handleConnectGoogle:pi,handleDisconnectGoogle:Eu,isDark:o,toggleTheme:c,user:t,onLogout:r,initialTab:w}),h.jsx(v5,{isOpen:ae,onClose:()=>{ge(!1),Fe(null),bt(null),q(null)},onSave:Pr,editTag:et,onDelete:So}),u==="dashboard"&&h.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 dark:bg-[#0B1121] animate-fade-in-up",children:h.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"bg-white dark:bg-[#151e32] rounded-3xl p-6 shadow-sm dark:shadow-lg dark:shadow-black/20 border border-slate-200 dark:border-white/5 lg:col-span-2 flex flex-col hover:shadow-md transition-shadow",children:[h.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-purple-500/5 rounded-full blur-3xl group-hover:bg-purple-500/10 transition-colors"}),h.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-500/10 p-2 rounded-xl",children:h.jsx(ql,{className:"text-emerald-600 dark:text-emerald-400",size:20})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Today's Habits"}),h.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:[Hn().filter(x=>$n(x,Ti())).length," / ",Hn().length," completed"]})]})]}),h.jsxs(je.button,{onClick:()=>m("habittracker"),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-[#6F00FF] to-purple-600 text-white rounded-2xl font-bold hover:shadow-xl hover:shadow-purple-500/30 transition-all shadow-lg shadow-purple-500/20 text-sm",whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},children:["Manage Habits ",h.jsx(Qc,{size:16})]})]}),Hn().length>0?h.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",children:h.jsx($l,{children:Hn().map(x=>{const j=$n(x,Ti());return h.jsxs(je.button,{layout:!0,onClick:()=>Ut(x.id),whileHover:{scale:1.02},whileTap:{scale:.95},className:`flex-shrink-0 w-36 p-4 rounded-2xl border-2 transition-all text-left relative overflow-hidden group ${j?"bg-emerald-50 dark:bg-emerald-500/10 border-emerald-500 dark:border-emerald-500/50":"bg-slate-50 dark:bg-white/5 border-transparent hover:border-[#6F00FF]/30 dark:hover:border-violet-500/30"}`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-colors ${j?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/30":"bg-white dark:bg-white/10 text-slate-300 dark:text-slate-400"}`,children:h.jsx(wn,{size:14,strokeWidth:3})}),h.jsxs("div",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 flex items-center gap-1 bg-white/50 dark:bg-black/20 px-1.5 py-0.5 rounded-md",children:[h.jsx(Qa,{size:12,className:j?"text-orange-500":"text-slate-300 dark:text-slate-600",fill:j?"currentColor":"none"}),x.currentStreak]})]}),h.jsx("h3",{className:`font-bold text-sm leading-tight transition-colors relative z-10 ${j?"text-emerald-700 dark:text-emerald-300":"text-slate-700 dark:text-slate-200 group-hover:text-[#6F00FF] dark:group-hover:text-violet-300"}`,children:x.name}),j&&h.jsx(je.div,{initial:{width:0},animate:{width:"100%"},className:"absolute bottom-0 left-0 h-1 bg-emerald-500"})]},x.id)})})}):h.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400 dark:text-slate-500 text-sm bg-slate-50 dark:bg-white/5 rounded-2xl border border-dashed border-slate-200 dark:border-white/10 py-6",children:"No habits scheduled for today"})]})]}),h.jsxs("div",{className:"bg-white dark:bg-[#151e32] rounded-3xl p-6 shadow-sm dark:shadow-xl dark:shadow-black/20 border border-slate-200 dark:border-white/5 hover:shadow-md transition-all group overflow-hidden relative",children:[h.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-purple-500/5 rounded-full blur-3xl group-hover:bg-purple-500/10 transition-colors"}),h.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"bg-violet-100 dark:bg-violet-500/10 p-2 rounded-xl",children:h.jsx(Rh,{className:"text-[#6F00FF] dark:text-violet-400",size:20})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Weekly Progress"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Consistency across habits"})]})]}),(()=>{const x=qe.reduce((N,A)=>{const R=Bt(A);return N.scheduled+=R.filter(z=>z.isScheduled).length,N.completed+=R.filter(z=>z.isScheduled&&z.isCompleted).length,N},{scheduled:0,completed:0}),j=x.scheduled>0?x.completed/x.scheduled*100:0;return h.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[h.jsxs("div",{className:"flex-1 space-y-4",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-end gap-1 mb-1",children:[h.jsxs("span",{className:"text-3xl font-black text-slate-800 dark:text-white leading-none",children:[Math.round(j),"%"]}),h.jsx("span",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider pb-0.5",children:"Goal Reach"})]}),h.jsx("div",{className:"h-1.5 w-full bg-slate-100 dark:bg-white/5 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-[#6F00FF] to-fuchsia-500 rounded-full transition-all duration-1000",style:{width:`${j}%`}})})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"px-2 py-1 bg-emerald-50 dark:bg-emerald-500/10 rounded-lg",children:h.jsxs("span",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-400 uppercase",children:[x.completed,"/",x.scheduled," Done"]})}),h.jsx("span",{className:"text-[10px] font-medium text-slate-400 dark:text-slate-500 italic",children:"this week"})]})]}),h.jsxs("div",{className:"shrink-0 relative",children:[h.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-16 bg-orange-500/20 rounded-full blur-xl animate-pulse"}),h.jsx(Zh,{progressPercentage:j,streakCount:0,size:72})]})]})})()]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"bg-white dark:bg-[#151e32] rounded-3xl p-6 shadow-sm dark:shadow-lg dark:shadow-black/20 border border-slate-200 dark:border-white/5 hover:shadow-md transition-shadow flex flex-col h-full",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-violet-100 dark:bg-violet-500/10 p-2 rounded-xl",children:h.jsx(Ay,{className:"text-[#6F00FF] dark:text-violet-400",size:20})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Tasks"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm hidden sm:block",children:"Focus on today"})]})]}),h.jsxs("span",{className:"bg-slate-100 dark:bg-white/5 text-slate-600 dark:text-slate-300 px-3 py-1 rounded-full text-xs font-bold",children:[Qt.filter(x=>x.completed).length,"/",Qt.length]})]}),h.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar mb-6 flex-1",children:h.jsx($l,{mode:"popLayout",children:Qt.length===0?h.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-10",children:[h.jsx("div",{className:"w-12 h-12 bg-slate-50 dark:bg-white/5 rounded-full flex items-center justify-center mx-auto mb-3",children:h.jsx(wn,{size:20,className:"text-slate-300 dark:text-slate-600"})}),h.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm",children:"All cleared! Time to relax."})]}):Qt.map(x=>h.jsxs(je.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},whileHover:{scale:1.02,backgroundColor:"rgba(255, 255, 255, 0.03)"},onClick:()=>Ei(x.id),className:"flex items-center gap-3 p-3 rounded-xl transition-all cursor-pointer",children:[h.jsx("div",{className:`w-5 h-5 rounded-lg border-2 flex items-center justify-center transition-all duration-300 flex-shrink-0 ${x.completed?"bg-[#6F00FF] border-[#6F00FF] shadow-lg shadow-violet-500/20 scale-110":"border-slate-300 dark:border-slate-600 group-hover:border-[#6F00FF] dark:group-hover:border-violet-400"}`,children:x.completed&&h.jsx(je.div,{initial:{scale:0},animate:{scale:1},children:h.jsx(wn,{size:12,className:"text-white",strokeWidth:3})})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:`text-sm font-semibold truncate transition-all ${x.completed?"text-slate-400 dark:text-slate-500 line-through":"text-slate-700 dark:text-slate-200"}`,children:x.title}),(x.tag||x.time)&&h.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[x.time&&h.jsxs("span",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-medium flex items-center gap-1",children:[h.jsx(Dh,{size:10})," ",x.time]}),x.tag&&h.jsx("span",{className:"text-[10px] px-1.5 rounded-full font-bold text-white relative h-4 flex items-center",style:{backgroundColor:x.tagColor||"#6F00FF"},children:x.tag})]})]})]},x.id))})}),h.jsxs(je.button,{onClick:()=>m("timebox"),className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-[#6F00FF] to-purple-600 text-white rounded-2xl font-bold hover:shadow-xl hover:shadow-purple-500/30 transition-all shadow-lg shadow-purple-500/20 w-full justify-center mt-auto text-sm",whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},children:["Go to Timebox ",h.jsx(Qc,{size:16})]})]}),h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white dark:bg-[#151e32] rounded-3xl shadow-sm dark:shadow-lg dark:shadow-black/20 border border-slate-200 dark:border-white/5 h-full overflow-hidden hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"p-6 pb-2",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-fuchsia-100 dark:bg-fuchsia-500/10 p-2 rounded-xl",children:h.jsx(Nh,{className:"text-fuchsia-600 dark:text-fuchsia-400",size:20})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Weight Tracker"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Track your progress"})]})]}),ue.length>0&&h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 uppercase font-bold tracking-wider",children:"Current"}),h.jsxs("div",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:[(Xr=ue[ue.length-1])==null?void 0:Xr.weight," ",h.jsx("span",{className:"text-lg text-slate-400 dark:text-slate-500",children:"kg"})]})]}),ue.length>1&&h.jsxs("div",{className:`px-3 py-1.5 rounded-lg font-bold text-sm ${ue[ue.length-1].weight<ue[0].weight?"bg-emerald-100 text-emerald-600 dark:bg-emerald-500/10 dark:text-emerald-400":"bg-red-100 text-red-600 dark:bg-red-500/10 dark:text-red-400"}`,children:[ue[ue.length-1].weight<ue[0].weight?"":""," ",Math.abs(ue[ue.length-1].weight-ue[0].weight).toFixed(1)," kg"]})]})]}),h.jsx("div",{className:"h-[220px] relative",children:h.jsx(m5,{entries:ue,height:220})})]}),h.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-[#0B1121]/50 border-t border-slate-100 dark:border-white/5 flex gap-3",children:[h.jsx("input",{type:"date",value:it,onChange:x=>ts(x.target.value),className:"px-4 py-2.5 bg-white dark:bg-[#0B1121] border border-slate-200 dark:border-white/10 rounded-xl text-sm focus:ring-2 focus:ring-fuchsia-500 outline-none w-40 dark:text-slate-200"}),h.jsxs("div",{className:"flex-1 flex gap-2",children:[h.jsx("input",{type:"number",step:"0.1",value:$e,onChange:x=>Ot(x.target.value),placeholder:"Weight (kg)",className:"flex-1 px-4 py-2.5 bg-white dark:bg-[#0B1121] border border-slate-200 dark:border-white/10 rounded-xl text-sm focus:ring-2 focus:ring-fuchsia-500 outline-none dark:text-slate-200"}),h.jsx(je.button,{onClick:Ys,className:"px-6 py-2.5 bg-gradient-to-r from-[#6F00FF] to-purple-600 text-white font-bold rounded-2xl transition-all shadow-lg shadow-purple-500/20 hover:shadow-xl hover:shadow-purple-500/30",whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},children:"Log"})]})]})]})})]}),h.jsx("div",{className:"pt-6",children:h.jsx($A,{habits:qe})})]})}),u==="habittracker"&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex-1 overflow-hidden bg-gradient-to-br from-slate-50 via-purple-50/20 to-slate-50 dark:from-[#0B1121] dark:via-purple-950/10 dark:to-[#0B1121] animate-fade-in-up",children:h.jsx("div",{className:"h-full overflow-y-auto",children:h.jsxs("div",{className:"max-w-5xl mx-auto p-8 space-y-8",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-[#6F00FF] to-purple-600 flex items-center justify-center shadow-lg shadow-purple-500/30",children:h.jsx(Qa,{size:24,className:"text-white"})}),"Habit Tracker"]}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-base",children:"Build consistency, one day at a time"})]}),h.jsxs(je.button,{onClick:()=>ns(!0),className:"flex items-center gap-2 px-6 py-3.5 bg-gradient-to-r from-[#6F00FF] to-purple-600 text-white rounded-2xl font-bold hover:shadow-2xl hover:shadow-purple-500/40 transition-all",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[h.jsx(Fl,{size:20,strokeWidth:2.5})," New Habit"]})]}),h.jsxs(je.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-4",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:[h.jsxs(je.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},className:"group relative bg-gradient-to-br from-white/80 to-purple-50/50 dark:from-white/5 dark:to-purple-900/10 backdrop-blur-sm rounded-2xl p-5 border border-white/20 dark:border-white/10 shadow-lg hover:shadow-xl transition-all hover:scale-105",children:[h.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-400 text-sm mb-2 font-medium",children:[h.jsx(ql,{size:16,className:"text-purple-500"})," Active Habits"]}),h.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-violet-600 bg-clip-text text-transparent",children:qe.length})]}),h.jsxs(je.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},className:"group relative bg-gradient-to-br from-white/80 to-emerald-50/50 dark:from-white/5 dark:to-emerald-900/10 backdrop-blur-sm rounded-2xl p-5 border border-white/20 dark:border-white/10 shadow-lg hover:shadow-xl transition-all hover:scale-105",children:[h.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-400 text-sm mb-2 font-medium",children:[h.jsx(wn,{size:16,className:"text-emerald-500"})," Done Today"]}),h.jsxs("div",{className:"text-3xl font-bold text-emerald-500",children:[Hn().filter(x=>$n(x,Ti())).length,h.jsxs("span",{className:"text-slate-400 text-xl font-normal",children:["/",Hn().length]})]})]}),h.jsxs(je.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},className:"group relative bg-gradient-to-br from-white/80 to-orange-50/50 dark:from-white/5 dark:to-orange-900/10 backdrop-blur-sm rounded-2xl p-5 border border-white/20 dark:border-white/10 shadow-lg hover:shadow-xl transition-all hover:scale-105",children:[h.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-400 text-sm mb-2 font-medium",children:[h.jsx(Qa,{size:16,className:"text-orange-500"})," Best Streak"]}),h.jsxs("div",{className:"text-3xl font-bold text-orange-500",children:[qe.length>0?Math.max(...qe.map(x=>x.longestStreak)):0,h.jsx("span",{className:"text-slate-400 text-base font-normal ml-1",children:"days"})]})]}),h.jsxs(je.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},className:"group relative bg-gradient-to-br from-white/80 to-blue-50/50 dark:from-white/5 dark:to-blue-900/10 backdrop-blur-sm rounded-2xl p-5 border border-white/20 dark:border-white/10 shadow-lg hover:shadow-xl transition-all hover:scale-105",children:[h.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-400 text-sm mb-2 font-medium",children:[h.jsx(Rh,{size:16,className:"text-blue-500"})," Weekly Rate"]}),h.jsxs("div",{className:"text-3xl font-bold text-blue-500",children:[qe.length>0?Math.round(qe.reduce((x,j)=>{const N=Bt(j),A=N.filter(z=>z.isScheduled).length,R=N.filter(z=>z.isScheduled&&z.isCompleted).length;return x+(A>0?R/A*100:0)},0)/qe.length):0,"%"]})]})]}),qe.length>0&&(()=>{const x=qe.reduce((N,A)=>{const R=Bt(A);return N.scheduled+=R.filter(z=>z.isScheduled).length,N.completed+=R.filter(z=>z.isScheduled&&z.isCompleted).length,N},{scheduled:0,completed:0}),j=x.scheduled>0?x.completed/x.scheduled*100:0;return h.jsxs(je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},className:"relative overflow-hidden bg-gradient-to-br from-white/95 to-slate-50/90 dark:from-slate-800/50 dark:to-slate-900/20 backdrop-blur-md rounded-3xl p-8 border border-white/40 dark:border-white/10 shadow-[0_20px_50px_rgba(0,0,0,0.04)] dark:shadow-[0_20px_50px_rgba(0,0,0,0.3)] transition-all",children:[h.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-br from-purple-400/30 to-pink-400/30 rounded-full blur-3xl"}),h.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),h.jsxs("div",{className:"relative flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-3 mb-2",children:[h.jsx(Rh,{className:"text-purple-500",size:28}),"Weekly Progress"]}),h.jsxs("p",{className:"text-slate-600 dark:text-slate-300 text-base mb-4",children:["Your consistency across all ",qe.length," habit",qe.length!==1?"s":""," during week ",(()=>{const N=new Date;return N.setDate(N.getDate()+ps*7),wo(N)})()]}),h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:[x.completed," / ",x.scheduled," completed"]}),h.jsxs("span",{className:"text-sm font-bold text-purple-600 dark:text-purple-400",children:[Math.round(j),"%"]})]}),h.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:h.jsx(je.div,{className:"h-full bg-gradient-to-r from-purple-500 via-violet-500 to-purple-600 rounded-full",initial:{width:0},animate:{width:`${j}%`},transition:{duration:1,ease:"easeOut",delay:.5}})})]})]}),h.jsx("div",{className:"flex items-center justify-center px-4",children:h.jsx(Zh,{progressPercentage:j,streakCount:0,value:`${Math.round(j)}%`,label:"Completion",size:64})})]})]})})(),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-5",children:[h.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center",children:h.jsx(H2,{size:18,className:"text-white"})}),"Habits",h.jsx("span",{className:"text-sm font-normal text-slate-400 ml-2",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>Un(x=>x-1),className:"p-1.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-400 hover:text-purple-600 transition-colors",children:h.jsx(ky,{size:18})}),h.jsxs("div",{className:"text-sm px-3 py-1 bg-purple-100 dark:bg-purple-900/40 text-purple-600 dark:text-purple-400 rounded-lg font-bold min-w-[80px] text-center",children:["Week ",(()=>{const x=new Date;return x.setDate(x.getDate()+ps*7),wo(x)})()]}),h.jsx("button",{onClick:()=>Un(x=>x+1),className:"p-1.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-400 hover:text-purple-600 transition-colors",children:h.jsx(Hc,{size:18})}),ps!==0&&h.jsx("button",{onClick:()=>Un(0),className:"text-[10px] ml-2 font-bold text-purple-500 hover:text-purple-600 uppercase tracking-tighter",children:"Today"})]})]}),Hn().length===0?h.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-slate-50 to-slate-100/50 dark:from-slate-800/50 dark:to-slate-900/30 rounded-2xl p-6 text-center border-2 border-dashed border-slate-300 dark:border-slate-700",children:[h.jsx(Nh,{size:40,className:"mx-auto mb-3 text-slate-300 dark:text-slate-600"}),h.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-base font-medium",children:"No habits scheduled for today"}),h.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Create a new habit to get started!"})]}):h.jsx($l,{mode:"popLayout",children:h.jsx("div",{className:"space-y-4",children:Hn().map((x,j)=>{const N=$n(x,Ti()),A=Bt(x);return h.jsx(je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20,transition:{duration:.2}},transition:{delay:j*.05},layout:!0,className:`group relative bg-white dark:bg-slate-800/40 backdrop-blur-sm rounded-2xl p-6 border transition-all hover:shadow-xl hover:scale-[1.02] ${N?"border-emerald-300/50 dark:border-emerald-500/30 bg-gradient-to-br from-emerald-50/80 to-white dark:from-emerald-900/20 dark:to-slate-800/40":"border-slate-200 dark:border-slate-700/50 hover:border-purple-300 dark:hover:border-purple-500/30"}`,children:h.jsxs("div",{className:"flex items-center gap-5",children:[h.jsx(je.button,{onClick:()=>Ut(x.id),className:`relative w-16 h-16 rounded-2xl flex items-center justify-center transition-all shrink-0 ${N?"bg-gradient-to-br from-emerald-400 to-emerald-600 shadow-lg shadow-emerald-500/40":"bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-600 hover:shadow-lg"}`,style:!N&&x.tagColor?{background:`linear-gradient(135deg, ${x.tagColor}, ${x.tagColor}dd)`}:void 0,whileTap:{scale:.85},whileHover:{scale:1.05},children:h.jsx(je.div,{initial:!1,animate:{scale:N?1:.8,rotate:N?0:-10},transition:{type:"spring",stiffness:500,damping:15},children:N?h.jsx(wn,{size:32,strokeWidth:3,className:"text-white"}):h.jsx(ql,{size:28,className:"text-white opacity-60"})})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h3",{className:`text-lg font-bold text-slate-800 dark:text-slate-100 ${N?"line-through opacity-50":""}`,children:x.name}),x.scheduledStartTime&&h.jsxs("span",{className:"text-xs px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 flex items-center gap-1.5 font-medium",children:[h.jsx(Dh,{size:12}),x.scheduledStartTime,x.scheduledEndTime?` - ${x.scheduledEndTime}`:""]}),x.tag&&h.jsx("span",{className:"text-xs px-3 py-1 rounded-full text-white font-semibold shadow-sm",style:{backgroundColor:x.tagColor||"#6F00FF"},children:x.tag})]}),h.jsx("div",{className:"flex items-center gap-2",children:A.map((R,z)=>h.jsx(je.button,{initial:{scale:0},animate:{scale:1},transition:{delay:j*.05+z*.03},onClick:()=>Ut(x.id,R.date),className:`relative w-8 h-8 rounded-xl flex items-center justify-center text-[10px] font-bold transition-all hover:scale-110 active:scale-90 ${R.isToday?"ring-2 ring-purple-500 ring-offset-2 dark:ring-offset-slate-800 shadow-lg":""} ${R.isScheduled?R.isCompleted?"bg-gradient-to-br from-emerald-400 to-emerald-600 text-white shadow-md":"bg-slate-200 dark:bg-slate-600 text-slate-500 dark:text-slate-400 hover:bg-slate-300":"bg-slate-100 dark:bg-slate-700/50 text-slate-300 dark:text-slate-600"}`,children:R.dayName.charAt(0)},z))})]}),h.jsx("div",{className:"hidden lg:flex items-center px-3",children:(()=>{const R=A.filter(he=>he.isScheduled).length,z=A.filter(he=>he.isScheduled&&he.isCompleted).length,H=R>0?z/R*100:0;return h.jsx(Zh,{progressPercentage:H,streakCount:x.currentStreak,size:44})})()}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(je.button,{onClick:()=>ja(x),className:"p-2.5 text-slate-400 hover:text-purple-600 dark:hover:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-xl transition-all",whileHover:{scale:1.1},whileTap:{scale:.9},children:h.jsx(of,{size:18})}),h.jsx(je.button,{onClick:()=>$r(x.id),className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",whileHover:{scale:1.1},whileTap:{scale:.9},children:h.jsx(Bb,{size:18})})]})]})},x.id)})})})]}),qe.length===0&&h.jsxs(je.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-slate-50 via-purple-50/30 to-slate-100 dark:from-slate-800/50 dark:via-purple-900/10 dark:to-slate-900/50 rounded-3xl p-16 text-center backdrop-blur-sm border border-slate-200 dark:border-slate-700",children:[h.jsx(je.div,{className:"w-24 h-24 mx-auto mb-6 rounded-3xl bg-gradient-to-br from-[#6F00FF] to-purple-600 flex items-center justify-center shadow-2xl shadow-purple-500/40",animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:h.jsx(Qa,{size:48,className:"text-white"})}),h.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-3",children:"Start Building Better Habits"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-md mx-auto mb-8 text-base",children:"Create your first habit and start tracking your progress. Build consistency and achieve your goals!"}),h.jsxs(je.button,{onClick:()=>ns(!0),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-[#6F00FF] to-purple-600 text-white rounded-2xl font-bold shadow-xl shadow-purple-500/30 hover:shadow-2xl hover:shadow-purple-500/40",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[h.jsx(Fl,{size:20,strokeWidth:2.5})," Create First Habit"]})]})]})})}),h.jsx($l,{children:(hs||fs)&&h.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4",onClick:()=>{ns(!1),ja(null)},children:h.jsx(je.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white dark:bg-slate-900 rounded-3xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-700",onClick:x=>x.stopPropagation(),children:h.jsxs("div",{className:"p-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:fs?"Edit Habit":"Create New Habit"}),h.jsx(je.button,{onClick:()=>{ns(!1),ja(null)},className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-all",whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:h.jsx(Vs,{size:20})})]}),h.jsx(b5,{initialHabit:fs,userTags:J,onSave:x=>{fs?ku(fs.id,x):xo(x)},onCancel:()=>{ns(!1),ja(null)},onCreateTag:()=>{Fe(null),ge(!0)}})]})})})})]}),u==="timebox"&&h.jsxs("div",{className:"flex-1 overflow-hidden grid grid-cols-1 md:grid-cols-12 divide-y md:divide-y-0 md:divide-x divide-slate-200 dark:divide-white/5 animate-fade-in-up",children:[h.jsx("div",{className:"md:col-span-3 flex flex-col bg-white dark:bg-[#151e32] overflow-y-auto",children:h.jsxs("div",{className:"p-4 space-y-6",children:[ys().length>0&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3 text-slate-800 dark:text-slate-100",children:[h.jsx(Ub,{size:20,className:"text-emerald-500"}),h.jsx("h2",{className:"font-bold text-lg",children:"Habits"}),h.jsxs("span",{className:"text-xs text-slate-400 ml-auto",children:[ys().filter(x=>$n(x,ut(T))).length,"/",ys().length]})]}),h.jsx("div",{className:"space-y-2",children:ys().map(x=>{const j=ut(T),N=$n(x,j);return h.jsxs("div",{className:`relative flex items-center gap-3 p-2.5 bg-white dark:bg-slate-800 rounded-lg border transition-all hover:shadow-sm ${N?"border-emerald-200 dark:border-emerald-800 opacity-60":"border-slate-200 dark:border-slate-700 hover:border-emerald-500/30"}`,children:[h.jsxs("div",{draggable:!0,onDragStart:A=>{A.dataTransfer.setData("habitId",x.id),A.dataTransfer.setData("habitName",x.name),A.dataTransfer.setData("habitTag",x.tag||""),A.dataTransfer.setData("habitTagColor",x.tagColor||"")},className:"flex items-center gap-3 flex-1 cursor-grab active:cursor-grabbing",children:[h.jsx("button",{onClick:A=>{A.stopPropagation(),Ut(x.id,T)},className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors shrink-0 ${N?"bg-emerald-500 border-emerald-500":"border-slate-300 dark:border-slate-600 hover:border-emerald-500"}`,children:N&&h.jsx(wn,{size:12,className:"text-white",strokeWidth:3})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("span",{className:`text-sm font-medium text-slate-700 dark:text-slate-200 ${N?"line-through opacity-60":""}`,children:x.name}),x.tag&&h.jsx("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded text-white font-medium",style:{backgroundColor:x.tagColor||"#6F00FF"},children:x.tag})]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[(()=>{const A=tt.find(R=>R.habitId===x.id);return A?h.jsx("span",{className:"text-[10px] opacity-70 text-slate-600 dark:text-slate-400",children:Kt(A.start)}):null})(),x.currentStreak>0&&h.jsxs("div",{className:"flex items-center gap-0.5 text-xs",style:{animation:N?"flameGrow 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)":"none"},children:[h.jsxs("div",{className:"relative",children:[h.jsx(Qa,{size:14,className:"text-orange-500 transition-all duration-500",strokeWidth:2,fill:"none"}),h.jsx(Qa,{size:14,className:`absolute inset-0 text-orange-500 transition-opacity duration-500 ${N?"opacity-100":"opacity-0"}`,fill:"currentColor",stroke:"none"})]}),h.jsx("span",{className:"font-semibold text-orange-600 dark:text-orange-400 transition-all duration-300",style:{animation:N?"numberPop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)":"none"},children:x.currentStreak})]})]})]}),h.jsx("button",{onClick:()=>nn(Ra===x.id?null:x.id),onMouseDown:A=>A.stopPropagation(),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded transition-colors",children:h.jsx(Db,{size:16,className:"text-slate-400"})}),Ra===x.id&&h.jsxs("div",{className:"absolute right-0 top-full mt-1 z-50 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg py-1 min-w-[160px]",onMouseDown:A=>A.stopPropagation(),children:[h.jsxs("button",{onClick:()=>{bt(null),ge(!0),nn(null)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[h.jsx(Fl,{size:14})," Create Tag"]}),x.tag&&x.tagColor&&h.jsxs("button",{onClick:()=>{Ua({name:x.tag,color:x.tagColor}),nn(null)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-slate-700 dark:text-slate-200",children:[h.jsx(of,{size:14})," Edit Tag"]}),h.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 my-1"}),h.jsx("div",{className:"px-3 py-1.5 text-xs font-medium text-slate-500 dark:text-slate-400",children:"Add Tag"}),J.length>0?J.map((A,R)=>h.jsxs("button",{onClick:()=>{vs(x.id,A.name,A.color),nn(null)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2",children:[h.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:A.color}}),h.jsx("span",{className:"text-slate-600 dark:text-slate-300 text-sm",children:A.name})]},R)):h.jsx("div",{className:"px-3 py-2 text-sm text-slate-400",children:"No tags yet"}),x.tag&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 my-1"}),h.jsxs("button",{onClick:()=>{Au(x.id),nn(null)},className:"w-full px-3 py-2 text-left hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 text-red-500",children:[h.jsx(Vs,{size:14})," Remove Tag"]})]})]})]},`habit-${x.id}`)})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3 text-slate-800 dark:text-slate-100",children:[h.jsx(Ay,{size:20,className:"text-[#6F00FF]"}),h.jsx("h2",{className:"font-bold text-lg",children:"To-do"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:Mt,onChange:x=>go(x.target.value),onKeyDown:_o,placeholder:"Type task & press Enter",className:"w-full pl-4 pr-10 py-2.5 bg-slate-50 dark:bg-[#0B1121] border border-slate-200 dark:border-white/10 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#6F00FF]/20 focus:border-[#6F00FF] transition-all dark:text-slate-100 placeholder:text-slate-400"}),h.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-6 h-6 flex items-center justify-center bg-white dark:bg-white/10 border border-slate-200 dark:border-white/5 rounded text-xs text-slate-400 font-mono shadow-sm",children:""})]})]}),h.jsxs("div",{className:`space-y-2 min-h-[100px] rounded-lg transition-colors ${xi==="active"?"bg-indigo-50 dark:bg-indigo-900/20 ring-2 ring-indigo-400 ring-inset":""}`,onDragOver:x=>Zs(x,"active"),onDrop:x=>qn(x,"active"),onDragLeave:()=>Aa(null),children:[Qt.length===0&&h.jsxs("div",{className:"bg-gradient-to-br from-violet-50/50 to-purple-50/50 dark:from-violet-900/10 dark:to-purple-900/10 border-2 border-dashed border-violet-300 dark:border-violet-700/50 rounded-xl p-6 text-center",children:[h.jsx("div",{className:"inline-block mb-3",children:h.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-violet-500 dark:text-violet-400",children:[h.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M9 12h6M9 16h6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),h.jsx("p",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-1",children:"Type task & press Enter"}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Use the input field above to add your first task"})]}),Qt.map(x=>h.jsx(Nb,{task:x,listType:"active",userTags:J,onDragStart:Ci,onDelete:j=>Js(j,"active"),onToggleComplete:Ei,onMoveToList:Fr,onAddTag:ss,onRemoveTag:Hr,onOpenTagModal:Ir,onEditTag:Ua},x.id))]}),h.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-800/50",children:[h.jsxs("button",{onClick:()=>p(!g),className:"flex items-center gap-2 text-slate-600 dark:text-slate-400 font-semibold mb-3 hover:text-[#6F00FF] transition-colors w-full",children:[h.jsx(Oh,{size:18,className:g?"text-[#6F00FF]":""}),"To-do Later",g?h.jsx(Qf,{size:16}):h.jsx(Hc,{size:16})]}),g&&h.jsxs("div",{className:`space-y-2 pl-2 border-l-2 border-slate-100 dark:border-slate-800 ml-2 min-h-[50px] transition-colors ${xi==="later"?"bg-indigo-50 dark:bg-indigo-900/20 ring-2 ring-indigo-400 ring-inset rounded-r-lg":""}`,onDragOver:x=>Zs(x,"later"),onDrop:x=>qn(x,"later"),onDragLeave:()=>Aa(null),children:[Fs.length===0&&h.jsxs("div",{className:"bg-gradient-to-br from-violet-50/50 to-purple-50/50 dark:from-violet-900/10 dark:to-purple-900/10 border-2 border-dashed border-violet-300 dark:border-violet-700/50 rounded-xl p-6 text-center",children:[h.jsx("div",{className:"inline-block mb-3",children:h.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-violet-500 dark:text-violet-400",children:[h.jsx("path",{d:"M7 10L12 15L17 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 3V14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M3 17V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),h.jsx("p",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-1",children:"Drag tasks here"}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Move to-dos that need to be done later"})]}),Fs.map(x=>h.jsx("div",{className:"pl-4",children:h.jsx(Nb,{task:x,listType:"later",userTags:J,onDragStart:Ci,onDelete:j=>Js(j,"later"),onToggleComplete:Ei,onMoveToList:Fr,onAddTag:ss,onRemoveTag:Hr,onOpenTagModal:Ir,onEditTag:Ua})},x.id))]})]})]})}),h.jsxs("div",{className:"md:col-span-6 bg-white dark:bg-[#0B1121] flex flex-col relative overflow-hidden",children:[h.jsx("div",{className:"h-14 border-b border-slate-200 dark:border-white/5 bg-white dark:bg-[#0B1121] flex items-center justify-center shrink-0 relative",children:h.jsxs("div",{ref:ne,className:"relative flex items-center",children:[h.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 bg-slate-100 dark:bg-white/5 rounded-full text-sm font-medium text-slate-700 dark:text-slate-200",children:[h.jsxs("div",{onClick:()=>M(!V),className:"flex items-center gap-2 cursor-pointer hover:text-slate-900 dark:hover:text-white transition-colors",children:[h.jsx("div",{className:`w-2 h-2 rounded-full ${Vr(T)?"bg-emerald-500":"bg-slate-400"}`}),T.toLocaleDateString("sv-SE",{month:"long",day:"numeric"})]}),h.jsx("button",{onClick:()=>{_("integrations"),b(!0)},className:`p-1 rounded-full transition-all ${_t?"text-emerald-500 hover:text-emerald-600":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,title:_t?"Calendar synced":"Connect Google Calendar",children:_t?h.jsx(jy,{size:14}):h.jsx(Oh,{size:14})}),h.jsx("button",{onClick:po,className:`p-1 rounded-full transition-all ${Mn?"text-[#6F00FF] hover:text-[#5800cc]":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,title:Mn?"Zoom in & center on now":"Zoom out & center on now",children:Mn?h.jsx(F2,{size:14}):h.jsx(G2,{size:14})})]}),V&&h.jsxs("div",{className:"absolute top-full mt-2 left-1/2 -translate-x-1/2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl p-4 z-50 min-w-[280px]",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("button",{onClick:Kr,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:h.jsx(ky,{size:18,className:"text-slate-500"})}),h.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200",children:K.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),h.jsx("button",{onClick:Xs,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:h.jsx(Hc,{size:18,className:"text-slate-500"})})]}),h.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(x=>h.jsx("div",{className:"text-center text-[10px] font-bold uppercase tracking-wider text-slate-400 py-1",children:x},x))}),h.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:ju(K.getFullYear(),K.getMonth())}).map((x,j)=>h.jsx("div",{className:"w-8 h-8"},`empty-${j}`)),Array.from({length:Ks(K.getFullYear(),K.getMonth())}).map((x,j)=>{const N=j+1,A=new Date(K.getFullYear(),K.getMonth(),N),R=Br(A,T),z=Vr(A);return h.jsx("button",{onClick:()=>In(N),className:`w-8 h-8 rounded-full text-sm font-semibold transition-all flex items-center justify-center ${R?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/30":z?"bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-500/30":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-white/5"}`,children:N},N)})]}),h.jsx("button",{onClick:async()=>{const x=new Date;U(x),te(x),M(!1),await ji(x)},className:"mt-3 w-full py-2 text-sm font-medium text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg",children:"Today"})]})]})}),h.jsx("div",{ref:ms,className:"flex-1 overflow-y-auto relative custom-scrollbar scroll-smooth",children:h.jsxs("div",{className:"relative",style:{minHeight:`${24*zn}px`},children:[h.jsxs("div",{className:"absolute left-0 right-0 z-20 flex items-center pointer-events-none transition-all duration-300",style:{top:`${Is*zn}px`},children:[h.jsx("div",{className:"w-14 shrink-0 text-right pr-3 text-xs font-medium relative h-0",children:h.jsx("span",{className:"absolute right-3 top-0 -translate-y-2 text-[#6F00FF] dark:text-violet-400 whitespace-nowrap font-bold",style:{textShadow:"0 0 8px rgba(139, 92, 246, 0.3)"},children:Kt(Is)})}),h.jsxs("div",{className:"flex-1 relative flex items-center h-full",children:[h.jsx("div",{className:"absolute -left-1.5 z-20 w-3 h-3 rounded-full bg-[#6F00FF] shadow-lg shadow-purple-500/40 border-2 border-white dark:border-slate-900"}),h.jsx("div",{className:"h-[3px] bg-gradient-to-r from-[#6F00FF] to-purple-600 flex-1 relative shadow-sm overflow-hidden rounded-full",children:h.jsx(je.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent w-full",initial:{x:"-100%"},animate:{x:"100%"},transition:{repeat:1/0,duration:4,ease:"linear"}})})]})]}),bo.map(x=>h.jsxs("div",{className:`flex group relative transition-colors ${Ur===x?"bg-indigo-50/50 dark:bg-indigo-900/20":""}`,style:{height:`${zn}px`},onDragEnter:()=>Ca(x),onDragOver:Yr,onDrop:j=>Ni(j,x),onDragLeave:()=>Ca(null),children:[h.jsx("div",{className:"w-14 shrink-0 text-right pr-3 text-xs text-slate-400 dark:text-slate-500 font-medium relative",children:h.jsx("span",{className:"absolute right-3 -top-2",children:Kt(x,!0)})}),h.jsxs("div",{className:"flex-1 border-t border-slate-200 dark:border-slate-700 relative",children:[h.jsx("div",{className:"absolute left-0 right-0 border-t border-dashed border-slate-100 dark:border-slate-800/50 w-full",style:{top:`${zn/2}px`}}),Ur===x&&h.jsx("div",{className:"absolute top-0 left-2 right-4 border-2 border-dashed border-[#6F00FF] bg-[#6F00FF]/10 rounded-lg z-0 pointer-events-none flex items-center justify-center text-[#6F00FF] font-medium text-sm",style:{height:`${zn-4}px`},children:!Mn&&"Drop to schedule"})]})]},x)),tt.map(x=>{const j=x.start*zn,N=x.duration*zn,A=x.start+x.duration,R="#4285f4",z=x.taskId?[...Qt,...Fs].find(re=>String(re.id)===String(x.taskId)):null,H=x.habitId?qe.find(re=>re.id===x.habitId):null,he=(z==null?void 0:z.tagColor)||(H==null?void 0:H.tagColor)||null;let se=R;if(he)se=he;else if(x.calendarColor)se=x.calendarColor;else if(x.color)if(x.color.startsWith("#"))se=x.color;else{const re=x.color.match(/#[0-9A-Fa-f]{6}/);re&&(se=re[0])}const we={top:`${j}px`,height:`${N}px`,backgroundColor:x.completed?void 0:se,borderColor:x.completed?void 0:se},Le=x.duration<1,Q=x.duration<=.5;return h.jsxs("div",{style:we,className:`absolute left-16 right-4 rounded-lg border shadow-sm cursor-move hover:brightness-95 transition-all z-10 group text-white overflow-hidden ${Q?"p-1.5 pr-6":Le?"p-2 pr-8":"p-3 pr-10"} ${x.completed?"bg-slate-300/80 dark:bg-slate-700/80 border-slate-400 !text-slate-500":""} ${Bn===x.id||Wt===x.id?"z-20 ring-2 ring-emerald-400 select-none":""}`,onMouseDown:re=>{re.target.closest("button")||re.target.closest(".cursor-ns-resize")||(re.preventDefault(),Si(x.id),yo(re.clientY),Gs(x.start))},children:[h.jsxs("div",{className:`absolute ${Q?"top-1 right-1":Le?"top-1.5 right-1.5":"top-2 right-2"} flex flex-row items-center gap-1.5`,children:[(x.tag||x.calendarName&&x.calendarName!=="Ascend")&&h.jsx("span",{className:`uppercase font-bold bg-black/10 dark:bg-white/15 px-1.5 py-0.5 rounded pointer-events-none ${Q?"text-[8px]":"text-[10px]"}`,children:x.tag||x.calendarName}),h.jsx("button",{onClick:re=>{re.stopPropagation(),Fn(x.id)},onMouseDown:re=>re.stopPropagation(),className:"opacity-0 group-hover:opacity-100 transition-opacity hover:text-red-300 bg-black/20 hover:bg-black/30 rounded p-0.5 pointer-events-auto",children:h.jsx(Vs,{size:Q?10:12})})]}),h.jsxs("div",{className:"flex flex-col min-w-0 overflow-hidden",children:[h.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[h.jsx("div",{onClick:re=>{re.stopPropagation(),re.preventDefault(),qr(x.id)},onMouseDown:re=>re.stopPropagation(),className:`shrink-0 rounded border-2 flex items-center justify-center cursor-pointer transition-colors pointer-events-auto ${Q?"w-3.5 h-3.5":Le?"w-4 h-4":"w-5 h-5"} ${x.completed?"bg-emerald-500 border-emerald-500":"border-white/50 hover:border-emerald-400 bg-white/20"}`,children:x.completed&&h.jsx(wn,{size:Q?8:Le?10:14,className:"text-white",strokeWidth:3})}),h.jsx("h3",{className:`font-bold pointer-events-none truncate ${Q?"text-[11px]":Le?"text-xs":"text-sm"} ${x.completed?"line-through opacity-70":""}`,children:x.title})]}),!Q&&h.jsxs("div",{className:`flex items-center gap-1 ${Le?"mt-0.5":"mt-1"} pointer-events-none`,children:[x.isGoogle&&h.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a5/Google_Calendar_icon_%282020%29.svg",className:"w-3 h-3 opacity-80",alt:"GCal"}),h.jsxs("span",{className:`opacity-70 ${Le?"text-[10px]":"text-xs"}`,children:[Kt(x.start),"  ",Kt(A)]})]})]}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 cursor-ns-resize flex items-end justify-center pb-1 opacity-0 group-hover:opacity-100 hover:opacity-100 transition-opacity z-20",onMouseDown:re=>{re.stopPropagation(),re.preventDefault(),zr(x.id),Vn(re.clientY),Lt(x.duration)},children:h.jsx("div",{className:"w-8 h-1 rounded-full bg-slate-400/50 dark:bg-slate-500/50 backdrop-blur-sm"})})]},x.id)})]})})]}),h.jsx("div",{className:"md:col-span-3 bg-slate-50/50 dark:bg-[#151e32] flex flex-col overflow-y-auto",children:h.jsxs("div",{className:"p-4 space-y-8",children:[(()=>{const x=j=>{const N=[];let A=j,R=0;for(;A.length>0;){const z=A.match(/^\*\*(.+?)\*\*/);if(z){N.push(h.jsx("strong",{className:"font-semibold",children:z[1]},R++)),A=A.substring(z[0].length);continue}const H=A.match(/^\*(.+?)\*/);if(H){N.push(h.jsx("em",{className:"italic",children:H[1]},R++)),A=A.substring(H[0].length);continue}const he=A.match(/^~~(.+?)~~/);if(he){N.push(h.jsx("span",{className:"line-through opacity-70",children:he[1]},R++)),A=A.substring(he[0].length);continue}N.push(A[0]),A=A.substring(1)}return h.jsx(h.Fragment,{children:N})};return window.renderInlineFormatting=x,null})(),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-slate-800 dark:text-slate-100",children:[h.jsx("div",{className:"text-[#6F00FF]",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z"}),h.jsx("path",{d:"M15 3v6h6"})]})}),h.jsx("h2",{className:"font-bold text-lg",children:"Notes"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[O&&h.jsx(Jl,{size:12,className:"animate-spin text-slate-400"}),Ce&&h.jsxs("span",{className:"text-xs text-emerald-500 flex items-center gap-1",children:[h.jsx(wn,{size:12})," Saved"]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-white/5 border border-slate-200 dark:border-white/5 rounded-lg shadow-sm overflow-hidden",children:[h.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50",children:[h.jsxs("div",{className:"flex items-center gap-0.5 border-r border-slate-200 dark:border-slate-700 pr-2",children:[h.jsx("button",{onClick:()=>{const x=document.activeElement;if(!x||x.tagName!=="INPUT")return;const j=x.selectionStart||0,N=x.selectionEnd||0,A=x.value;if(j===N){const R=A.substring(0,j)+"**bold**"+A.substring(N),z=G.split(`
`),H=Array.from(document.querySelectorAll('input[type="text"]')).indexOf(x);H>=0&&(z[H]=R,nt(z.join(`
`)),setTimeout(()=>x.focus(),10))}else{const R=A.substring(j,N),z=A.substring(0,j)+"**"+R+"**"+A.substring(N),H=G.split(`
`),he=Array.from(document.querySelectorAll('input[type="text"]')).indexOf(x);he>=0&&(H[he]=z,nt(H.join(`
`)),setTimeout(()=>{x.focus(),x.setSelectionRange(j,N+4)},10))}},className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors group",title:"Bold",children:h.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-100",children:[h.jsx("path",{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}),h.jsx("path",{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"})]})}),h.jsx("button",{onClick:()=>{const x=document.activeElement;if(!x||x.tagName!=="INPUT")return;const j=x.selectionStart||0,N=x.selectionEnd||0,A=x.value;if(j===N){const R=A.substring(0,j)+"*italic*"+A.substring(N),z=G.split(`
`),H=Array.from(document.querySelectorAll('input[type="text"]')).indexOf(x);H>=0&&(z[H]=R,nt(z.join(`
`)),setTimeout(()=>x.focus(),10))}else{const R=A.substring(j,N),z=A.substring(0,j)+"*"+R+"*"+A.substring(N),H=G.split(`
`),he=Array.from(document.querySelectorAll('input[type="text"]')).indexOf(x);he>=0&&(H[he]=z,nt(H.join(`
`)),setTimeout(()=>{x.focus(),x.setSelectionRange(j,N+2)},10))}},className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors group",title:"Italic",children:h.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-100",children:[h.jsx("line",{x1:"19",y1:"4",x2:"10",y2:"4"}),h.jsx("line",{x1:"14",y1:"20",x2:"5",y2:"20"}),h.jsx("line",{x1:"15",y1:"4",x2:"9",y2:"20"})]})}),h.jsx("button",{onClick:()=>{const x=document.activeElement;if(!x||x.tagName!=="INPUT")return;const j=x.selectionStart||0,N=x.selectionEnd||0,A=x.value;if(j===N){const R=A.substring(0,j)+"~~strikethrough~~"+A.substring(N),z=G.split(`
`),H=Array.from(document.querySelectorAll('input[type="text"]')).indexOf(x);H>=0&&(z[H]=R,nt(z.join(`
`)),setTimeout(()=>x.focus(),10))}else{const R=A.substring(j,N),z=A.substring(0,j)+"~~"+R+"~~"+A.substring(N),H=G.split(`
`),he=Array.from(document.querySelectorAll('input[type="text"]')).indexOf(x);he>=0&&(H[he]=z,nt(H.join(`
`)),setTimeout(()=>{x.focus(),x.setSelectionRange(j,N+4)},10))}},className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors group",title:"Strikethrough",children:h.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-100",children:[h.jsx("path",{d:"M17.5 5H9a4 4 0 0 0 0 8h6a4 4 0 0 1 0 8H5"}),h.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"})]})})]}),h.jsxs("div",{className:"flex items-center gap-0.5 border-r border-slate-200 dark:border-slate-700 pr-2",children:[h.jsx("button",{onClick:()=>{const x=G+(G&&!G.endsWith(`
`)?`
`:"")+"# Heading 1";nt(x)},className:"px-2 py-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors text-xs font-semibold text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100",title:"Heading 1",children:"H1"}),h.jsx("button",{onClick:()=>{const x=G+(G&&!G.endsWith(`
`)?`
`:"")+"## Heading 2";nt(x)},className:"px-2 py-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors text-xs font-semibold text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100",title:"Heading 2",children:"H2"}),h.jsx("button",{onClick:()=>{const x=G+(G&&!G.endsWith(`
`)?`
`:"")+"### Heading 3";nt(x)},className:"px-2 py-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors text-xs font-semibold text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100",title:"Heading 3",children:"H3"})]}),h.jsxs("div",{className:"flex items-center gap-0.5",children:[h.jsx("button",{onClick:()=>{const x=G+(G&&!G.endsWith(`
`)?`
`:"")+"1. List item";nt(x)},className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors group",title:"Numbered List",children:h.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-100",children:[h.jsx("line",{x1:"10",y1:"6",x2:"21",y2:"6"}),h.jsx("line",{x1:"10",y1:"12",x2:"21",y2:"12"}),h.jsx("line",{x1:"10",y1:"18",x2:"21",y2:"18"}),h.jsx("path",{d:"M4 6h1v4"}),h.jsx("path",{d:"M4 10h2"}),h.jsx("path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"})]})}),h.jsx("button",{onClick:()=>{const x=G+(G&&!G.endsWith(`
`)?`
`:"")+"- List item";nt(x)},className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors group",title:"Bullet List",children:h.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-100",children:[h.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),h.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),h.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),h.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),h.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),h.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})}),h.jsx("button",{onClick:()=>{const x=G+(G&&!G.endsWith(`
`)?`
`:"")+" ";nt(x),setTimeout(()=>{const j=document.querySelectorAll(".notes-input"),N=j[j.length-1];N==null||N.focus()},0)},className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors group",title:"Add Checkbox",children:h.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-100",children:h.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})})})]})]}),h.jsx("div",{className:"p-3 min-h-[120px] max-h-[500px] overflow-y-auto text-sm",tabIndex:0,onKeyDown:x=>{(x.metaKey||x.ctrlKey)&&x.key==="a"&&(x.preventDefault(),document.querySelectorAll('.notes-container input[type="text"]').forEach(N=>{N.select()}),window.notesSelectAll=!0),(x.key==="Backspace"||x.key==="Delete")&&window.notesSelectAll&&(x.preventDefault(),nt(""),window.notesSelectAll=!1)},children:h.jsx("div",{className:"notes-container",children:G.split(`
`).map((x,j)=>{const N=x.match(/^\[([x ])\]\s*(.*)$/);if(N){const A=N[1]==="x",R=N[2];return h.jsxs("div",{className:"flex items-start gap-2 my-1.5 group",children:[h.jsx("input",{type:"checkbox",checked:A,onChange:z=>{const H=G.split(`
`);H[j]=`[${z.target.checked?"x":" "}] ${R}`,nt(H.join(`
`))},className:"mt-0.5 w-4 h-4 rounded border-2 border-slate-300 dark:border-slate-600 text-emerald-500 focus:ring-emerald-500 cursor-pointer"}),h.jsx("input",{type:"text",value:R,onChange:z=>{const H=G.split(`
`);H[j]=`[${A?"x":" "}] ${z.target.value}`,nt(H.join(`
`)),window.notesSelectAll=!1},onKeyDown:z=>{if(z.key==="Enter"){z.preventDefault();const H=G.split(`
`);H.splice(j+1,0,"[ ] "),nt(H.join(`
`)),setTimeout(()=>{var se;(se=document.querySelectorAll('input[type="text"]')[j+1])==null||se.focus()},10)}else if(z.key==="Backspace"&&R===""){z.preventDefault();const H=G.split(`
`);H.splice(j,1),nt(H.join(`
`))}},className:`flex-1 bg-transparent border-none outline-none text-slate-700 dark:text-slate-300 ${A?"line-through opacity-60":""}`,placeholder:"Add task...",disabled:O})]},j)}if(x.startsWith("### "))return h.jsx("input",{type:"text",value:x.substring(4),onChange:A=>{const R=G.split(`
`);R[j]=`### ${A.target.value}`,nt(R.join(`
`)),window.notesSelectAll=!1},className:"w-full text-lg font-semibold text-slate-800 dark:text-slate-100 my-1 bg-transparent border-none outline-none",placeholder:"Heading 3",disabled:O},j);if(x.startsWith("## "))return h.jsx("input",{type:"text",value:x.substring(3),onChange:A=>{const R=G.split(`
`);R[j]=`## ${A.target.value}`,nt(R.join(`
`)),window.notesSelectAll=!1},className:"w-full text-xl font-bold text-slate-800 dark:text-slate-100 my-1.5 bg-transparent border-none outline-none",placeholder:"Heading 2",disabled:O},j);if(x.startsWith("# "))return h.jsx("input",{type:"text",value:x.substring(2),onChange:A=>{const R=G.split(`
`);R[j]=`# ${A.target.value}`,nt(R.join(`
`)),window.notesSelectAll=!1},className:"w-full text-2xl font-bold text-slate-900 dark:text-slate-50 my-2 bg-transparent border-none outline-none",placeholder:"Heading 1",disabled:O},j);if(x.match(/^\d+\.\s/)||x.startsWith("- ")){const A=x.match(/^\d+\.\s/),R=A?x.replace(/^\d+\.\s/,""):x.substring(2);return h.jsxs("div",{className:"flex items-start gap-2 my-0.5",children:[h.jsx("span",{className:"text-slate-500 dark:text-slate-400 mt-0.5",children:""}),h.jsx("input",{type:"text",value:R,onChange:z=>{const H=G.split(`
`);H[j]=A?`1. ${z.target.value}`:`- ${z.target.value}`,nt(H.join(`
`)),window.notesSelectAll=!1},className:"flex-1 bg-transparent border-none outline-none text-slate-700 dark:text-slate-300",placeholder:"List item",disabled:O})]},j)}return h.jsx("input",{type:"text",value:x,onChange:A=>{const R=G.split(`
`);R[j]=A.target.value,nt(R.join(`
`)),window.notesSelectAll=!1},onKeyDown:A=>{if(A.key==="Enter"){A.preventDefault();const R=G.split(`
`);R.splice(j+1,0,""),nt(R.join(`
`)),setTimeout(()=>{var H;(H=document.querySelectorAll('input[type="text"]')[j+1])==null||H.focus()},10)}},className:"w-full bg-transparent border-none outline-none text-slate-700 dark:text-slate-300 my-0.5",placeholder:j===0&&!G?`Write your notes for ${T.toLocaleDateString("sv-SE",{month:"long",day:"numeric"})}...`:"",disabled:O},j)})})})]})]}),h.jsx("div",{children:h.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-xl shadow-sm border border-slate-200 dark:border-white/5 p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(Nh,{size:20,className:"text-[#6F00FF]"}),h.jsx("h2",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Weight Tracker"})]}),h.jsx("div",{className:"space-y-2 mb-4",children:(()=>{const x=ut(new Date),j=ue.find(z=>z.date===x),N=j?ue.filter(z=>z.date!==x).slice(-1)[0]:ue.slice(-1)[0],A=ue.length>0,R=j&&N?j.weight-N.weight:null;return h.jsxs(h.Fragment,{children:[N&&h.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 dark:bg-slate-900/50 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Previous weight:"}),h.jsxs("div",{className:"text-xs text-slate-500",children:["(",new Date(N.date).toLocaleDateString("sv-SE"),")"]})]}),h.jsxs("span",{className:"text-lg font-bold text-slate-800 dark:text-white",children:[N.weight," kg"]})]}),j&&h.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[h.jsx("div",{className:"text-sm text-emerald-700 dark:text-emerald-400",children:"Today's weight:"}),h.jsxs("span",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-400",children:[j.weight," kg"]})]}),R!==null&&h.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-violet-50 dark:bg-violet-900/20 rounded-lg border border-violet-200 dark:border-violet-800",children:[h.jsx("div",{className:"text-sm text-[#6F00FF] dark:text-violet-400",children:"Change:"}),h.jsxs("div",{className:"flex items-center gap-1 font-bold text-[#6F00FF] dark:text-violet-400",children:[h.jsx("span",{className:"text-lg",children:R<0?"":""}),h.jsxs("span",{className:"text-lg",children:[Math.abs(R).toFixed(1)," kg"]})]})]}),!A&&h.jsx("div",{className:"text-center py-4 text-slate-400 text-sm",children:"No weight entries yet"})]})})()}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"number",step:"0.1",value:$e,onChange:x=>Ot(x.target.value),placeholder:"Enter weight (kg)",className:"flex-1 px-3 py-2 text-sm border border-slate-200 dark:border-white/10 rounded-lg bg-white dark:bg-[#0B1121] text-slate-700 dark:text-slate-300 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-[#6F00FF]/50",onKeyDown:x=>{x.key==="Enter"&&(ts(ut(new Date)),Ys())}}),h.jsx(je.button,{onClick:()=>{ts(ut(new Date)),Ys()},className:"px-6 py-2 bg-gradient-to-r from-[#6F00FF] to-purple-600 text-white text-sm font-bold rounded-xl transition-all shadow-lg shadow-purple-500/20 hover:shadow-xl hover:shadow-purple-500/30",whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},children:"Log"})]})]})})]})})]})]})},S5=({onSuccess:s})=>{const[t,a]=B.useState("signin"),[r,o]=B.useState(""),[c,u]=B.useState(""),[m,g]=B.useState(!1),[p,y]=B.useState(!1),[b,w]=B.useState(null),[_,E]=B.useState(null),k=async V=>{var M,K;V.preventDefault(),g(!0),w(null),E(null);try{t==="signup"?(await WN(r,c),E("Account created! Please check your email to verify."),o(""),u(""),a("signin")):(await e5(r,c),s())}catch(te){(M=te.message)!=null&&M.includes("Email not confirmed")?w("Please verify your email before signing in."):(K=te.message)!=null&&K.includes("Invalid login")?w("Invalid email or password."):w(te.message||"An error occurred. Please try again.")}finally{g(!1)}},T=async()=>{y(!0),w(null);try{await t5()}catch(V){w(V.message||"Google sign in failed. Please try again."),y(!1)}},U=V=>{a(V),w(null),E(null)};return h.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-50 via-violet-50/30 to-slate-100 dark:from-slate-950 dark:via-violet-950/20 dark:to-slate-900 text-slate-900 dark:text-slate-100 transition-colors p-4",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-violet-500/10 rounded-full blur-3xl"}),h.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/10 rounded-full blur-3xl"})]}),h.jsxs("div",{className:"relative w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-600 to-purple-700 rounded-2xl flex items-center justify-center shadow-2xl shadow-violet-600/30 mx-auto mb-4 overflow-hidden transform hover:scale-105 transition-transform",children:h.jsx("svg",{width:"40",height:"40",viewBox:"0 0 720 340",fill:"white",children:h.jsx("path",{d:"M 65.148438 215.859375 L 81.007812 225.375 L 150.804688 136.546875 L 184.117188 176.992188 L 311.011719 0.136719 L 385.5625 84.199219 L 415.699219 66.785156 L 517.222656 177.023438 L 571.117188 155.582031 L 713.113281 288.820312 L 567.582031 187.308594 L 511.699219 214.703125 C 511.699219 214.703125 510.898438 308.683594 510.898438 312.648438 C 510.898438 316.613281 414.082031 179.410156 414.082031 179.410156 L 414.082031 278.542969 L 315.398438 49.339844 L 124.363281 332.972656 L 166.761719 225.765625 L 133.746094 252.339844 L 146.972656 192.921875 L 85.773438 259.898438 L 64.351562 245.617188 L 0.910156 288.839844 Z"})})}),h.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 dark:from-white dark:to-slate-300 bg-clip-text text-transparent",children:"Welcome to Ascend"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Your personal productivity companion"})]}),h.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-xl border border-slate-200/50 dark:border-slate-700/50 overflow-hidden",children:[h.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700",children:[h.jsxs("button",{onClick:()=>U("signin"),className:`flex-1 py-4 text-sm font-semibold transition-all relative ${t==="signin"?"text-violet-600 dark:text-violet-400":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:["Sign In",t==="signin"&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-violet-600 to-purple-600"})]}),h.jsxs("button",{onClick:()=>U("signup"),className:`flex-1 py-4 text-sm font-semibold transition-all relative ${t==="signup"?"text-violet-600 dark:text-violet-400":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:["Sign Up",t==="signup"&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-violet-600 to-purple-600"})]})]}),h.jsxs("div",{className:"p-6",children:[_&&h.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg mb-4 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800",children:[h.jsx(wn,{size:16,className:"text-emerald-600 dark:text-emerald-400 shrink-0"}),h.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300",children:_})]}),b&&h.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg mb-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:[h.jsx(Vs,{size:16,className:"text-red-600 dark:text-red-400 shrink-0"}),h.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:b})]}),h.jsx("button",{onClick:T,disabled:p||m,className:"w-full py-3 bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700/50 font-medium rounded-xl transition-all flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:p?h.jsx(Jl,{size:20,className:"animate-spin text-slate-500"}):h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),h.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:"Continue with Google"})]})}),h.jsxs("div",{className:"relative my-6",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-3 bg-white dark:bg-slate-900 text-slate-400 dark:text-slate-500",children:"or continue with email"})})]}),h.jsxs("form",{onSubmit:k,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Email address"}),h.jsx("input",{type:"email",value:r,onChange:V=>o(V.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none transition-all placeholder:text-slate-400",placeholder:"you@example.com",required:!0,autoComplete:"email"})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),t==="signin"&&h.jsx("button",{type:"button",className:"text-xs text-violet-600 dark:text-violet-400 hover:underline font-medium",children:"Forgot password?"})]}),h.jsx("input",{type:"password",value:c,onChange:V=>u(V.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none transition-all placeholder:text-slate-400",placeholder:"",required:!0,minLength:6,autoComplete:t==="signin"?"current-password":"new-password"}),t==="signup"&&h.jsx("p",{className:"mt-1.5 text-xs text-slate-400",children:"Must be at least 6 characters"})]}),h.jsx("button",{type:"submit",disabled:m||p,className:"w-full py-3 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 text-white font-semibold rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg shadow-violet-500/25 hover:shadow-violet-500/40",children:m?h.jsx(Jl,{size:20,className:"animate-spin"}):h.jsxs(h.Fragment,{children:[t==="signin"?"Sign In":"Create Account",h.jsx(Qc,{size:18})]})})]}),h.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400 mt-6",children:[t==="signin"?"Don't have an account?":"Already have an account?"," ",h.jsx("button",{onClick:()=>U(t==="signin"?"signup":"signin"),className:"text-violet-600 dark:text-violet-400 hover:underline font-semibold",children:t==="signin"?"Sign up":"Sign in"})]})]})]}),h.jsxs("p",{className:"text-center text-xs text-slate-400 dark:text-slate-500 mt-6 px-4",children:["By continuing, you agree to our"," ",h.jsx("a",{href:"#",className:"underline hover:text-slate-600 dark:hover:text-slate-300",children:"Terms of Service"})," ","and"," ",h.jsx("a",{href:"#",className:"underline hover:text-slate-600 dark:hover:text-slate-300",children:"Privacy Policy"})]})]})]})},_5=()=>{const[s,t]=B.useState(!1),[a,r]=B.useState(null),[o,c]=B.useState("landing"),[u,m]=B.useState(!0);B.useEffect(()=>{(async()=>{var w,_,E;try{const k=new Promise((U,V)=>setTimeout(()=>V(new Error("Session check timed out")),5e3)),T=await Promise.race([s5(),k]);T&&(r({id:T.id,name:((w=T.user_metadata)==null?void 0:w.full_name)||((_=T.email)==null?void 0:_.split("@")[0])||"User",avatar:(((E=T.user_metadata)==null?void 0:E.full_name)||T.email||"U").substring(0,2).toUpperCase(),email:T.email||""}),c("app"))}catch(k){console.error("Session check error:",k)}finally{m(!1)}})();const{data:{subscription:b}}=a5((w,_)=>{var E,k,T;w==="SIGNED_IN"&&(_!=null&&_.user)?(r({id:_.user.id,name:((E=_.user.user_metadata)==null?void 0:E.full_name)||((k=_.user.email)==null?void 0:k.split("@")[0])||"User",avatar:(((T=_.user.user_metadata)==null?void 0:T.full_name)||_.user.email||"U").substring(0,2).toUpperCase(),email:_.user.email||""}),c("app")):w==="SIGNED_OUT"&&(r(null),c("landing"))});return()=>b.unsubscribe()},[]),B.useEffect(()=>{s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s]);const g=()=>t(!s),p=async()=>{try{await n5(),r(null),c("landing")}catch(y){console.error("Logout error:",y)}};return u?h.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-50 dark:bg-slate-950",children:h.jsx(Jl,{size:48,className:"animate-spin text-violet-600"})}):h.jsxs(Hw.Provider,{value:{isDark:s,toggleTheme:g},children:[o==="landing"&&h.jsx(K2,{onGetStarted:()=>c("auth")}),o==="auth"&&h.jsx(S5,{onSuccess:()=>{}}),o==="app"&&a&&h.jsx(w5,{user:a,onLogin:()=>c("auth"),onLogout:p,onBack:()=>c("landing")})]})},Iw=document.getElementById("root");if(!Iw)throw new Error("Could not find root element to mount to");const T5=K_.createRoot(Iw);T5.render(h.jsx(Zf.StrictMode,{children:h.jsx(_5,{})}));
